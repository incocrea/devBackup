wfloc = {"Americas":
			{
				"United States":
					{
						"Central":
						["Wildcat Creek","Mesquite Star","Midway","Prairie Queen","Dempsey Ridge","Milligan 3","Coyote","Oso Grande 1","Redbed Plains","King Creek"],
						"Coastal":
						["Auwahi","Mendota Hills 2","Kawailoa","Ocotillo","Santa Isabel","Allegheny Ridge","Bear Creek","GSG","Kumeyaay","Windstar","Mesquite Sky"],
						"East":
						["Cassadaga","North Allegheny","Deerfield","Scioto Ridge","South Chestnut","Pinnacle","Mount Storm","Sandy Ridge","Spruce Mountain","University Of Delaware","Kingston","Future Generation","New Creek","Patton","Holy Name","Roaring Brook"],
						"Great Plains":
						["Reading","Grant Plains","Grant Wind","Kay Wind","Keenan II","Rock Falls","Solomon Forks","Tyler Bluff","White Cloud","Caddo","Haystack","Boulder"],
						"Iowa":
						["Adair Wind","Adams County","Eclipse","Highland","Hancock","Ivester","Laurel","Lundgren","Macksburg","Morning Light","Obrien County","Pomeroy","Rolling Hills","Stoneray","Vienna","Wellsburg","Pocahontas","Southern Hill"],	
						"North":
						["Bison Wind 2","Goulais","Big Turtle","Big Turtle II","Green River","Fairbanks","Minonk","Valley View","Big Blue","Garden","Windrise"],			
						"Northwest":
						["Harvest Wind","Hatchet Ridge","Klondike III","Lower Snake River","Mountain Air","Nine Canyon","Spring Valley","Stillwater","White Creek","Tuolumne","Swauk Valley","Medicine Bow","Rattle Snake Flat"],	
						"Southwest":
						["Fluvanna","El Cabo","La Joya","Canadian Breaks","Golden Spread","Gulf Wind","Grady","Indian Mesa","Mesquite Star","Hackberry","Horse Hollow","Live Oak","Panhandle 2","Senate","Spinning Spur","Panhandle 1","Maverick","Woodward Mountain","Lonestar Mesquite","Whirlwind"],
						"Senvion":
						["Hoosier","Howard","Mont Rothrey","Stoney Corners","Twin Ridges","Tuolumne"],
						"Various":
						["Blue Sky","Crane Creek","MFG Repair Facility","Other"]
					},
				"Canada":
					{
						"Ontario":
						["Adelaide","Amherst Island","Belle River","Grand Bend","Mont Sainte-Marguerite","Morse","North Kent 1","Port Ryerse","South Branch","Armow","Chatham Wind Farm","Grand Renewables","Port Alma","South Kent","St Joseph","Gunn´s Hill","Oxley","Windrise","Blue Hill"],
						"Senvion":
						["Mesgig Ugjusn MU","Pennask","Shinish Creek"],
						"Various":
						["Other","Oldman 2","Forty Mile","Wheatland"]						
					},
				"Argentina":
					{
						"Chubut":
						["Comodoro Rivadavia"],
						"La Rioja":
						["Arauco I & II"]
					},
				"Brazil":
					{
						"Bahia":
							["Arizona & Honorato","Babilonia","Caetité","Cristal","Curva Dos Ventos","Delfina","Guirapa A3 e A5","Guirapa LER","Morrinhos","Morrinhos Exp.","Serra Azul Damascena","Serra Azul Dois Riachos","Serra Azul Esperança","Serra Azul Maniçoba","Xique Xique II - Assurua IV","Xique xique - Assuruá II V VII"],
						"Ceará":
							["Bela Vista","Cataventos Acarau","Complexo Aracati","Complexo Canoa Lagoa","Complexo Tabafoz","Cristal","Curva Dos Ventos","Dunas de Paracuru","Embuaca","Flexeiras","Fonte Dos Ventos","Guajiru","Icarai","Icaraizinho","Macacos 1","Mar e Terra","Modelo","Mundau","Pedra Cheirosa","Praia Formosa","Tractebel","Trairí"],
						"Paraíba":
							["Complexo Santa Luzía"],
						"Pernambuco":
							["Fonte Dos Ventos"],
						"Piauí":
							["Complexo Chapada","Complexo Delta","Ventos do Piaui - Chapadinha"],	
						"Rio Grande do Norte":
							["Arizona","Baixa do Feijão","Calango I-V","Calango VI-Santana I-II","Campo dos Ventos Bloco Norte Bloco Sul","Complexo Areia Branca,Maral - Alto dos ventos","Mel II","Modelo","Serra Santana I-II-III-Pelado-Lanchinha","Terra Santa","Uniao dos Ventos","Uniao dos Ventos - Expansion","Ventos de Serra do Mel I","Ventos de Serra do Mel II","Vila Acre I"],
						"Rio Grande do Sul":
							["Cassino I-II-III Brisa-Wind-Vento","Chui","Chui Expansão","Geribatu","Santana do Livramento"]
					},
				"Chile":
					{
						"II - Antofagasta":
							["Calama","Sierra Gorda"],
						"III - Copiapo":
							["Cabo Leones I","Cabo Leones II","Cabo Leones III"],
						"IV - La Serena":
							["El Arrayan"],
						"VIII - Concepción":
							["Las Peñas"],
						"XIII Valdivia":
							["San Pedro","San Pedro II"],
						"Blank":
							["El Arrayan"]
					},
				"Costa Rica":
					{	
						"Cartago":
							["Los Santos"],
						"Guanacaste":	
							["Altamira-Tilaran","Campos Azules-Tilaran","Orosí","Vientos de la Perla-Liberia","Vientos de Miramar-Liberia"]
					},
				"Cuba":
					{	
						"Holguin":
							["Gibara"]
					},
				"Dominican Rep.":
					{	
						"Cibao Noroeste":
							["Guanillo"],
						"Cibao Norte":
							["Agua Clara"],	
						"Enriquillo":
							["Los Cocos II"],
						"Valdesia":
							["Matafongo"],
					},
				"Ecuador":
					{	
						"Galápagos":
							["San Cristóbal-Galápagos"]
					},
				"Guatemala":
					{	
						"Jutiapa":
							["Las Cumbres"]
					},
				"Honduras":
					{	
						"Choluteca":
							["San Marcos"],
						"Francisco Morazán":
							["Cerro de Hula","Cerro de Hula II"]
					},
				"Jamaica":
					{	
						"Manchester":
							["Wigton III"]
					},
				"Mexico":
					{	
						"Baja California":
							["La Rumorosa"],
						"Baja California S":
							["Guerrero Negro"],
						"Chiapas":
							["San Jacinto"],
						"Coahuila":
							["Amistad II","Amistad III","Amistad IV","Eólica de Coahuila","La Amistad"],
						"Guanajuato":
							["Santiago Eolo"],
						"Oaxaca":
							["Bii Hioxo Norte","Bii Hioxo Sur","Bíi Stinu","Dos Arbolitos","El Retiro","La Venta II","La Venta III","La Ventosa","La Ventosa Bii Nee Stipa","La Ventosa II","La Ventosa III","Piedra Larga Fase I","Piedra Larga II","Postensa","Santo Domingo","Stipa Nayaá","Zopiloapan"],
						"Puebla":
							["Pier II","Pier IV-Puebla Extension"],
						"San Luis Potosí":
							["Dominica","Dominica II"],	
						"Sonora":
							["Puerto Peñasco","Puerto Peñasco II"],
						"Yucatán":
							["Tizimin","Ampliacion Tizimin"],
						"Zacatecas":
							["La Bufa","Vientos del Altiplano"]
					},
				"Nicaragua":
					{
						"Rivas":
							["Eolo"]			
					},
				"Peru":
					{
						"Ica":
							["Marcona"],	
						"Blank":
							["Marcona","Tres Hermanas"]		
					},
				"Puerto Rico":
					{
						"Blank":
							["Santa Isabel"]		
					},
				"Uruguay":
					{
						"Flores":
							["Colonia Arias","Talas de Maciel I","Talas de Maciel II"],		
						"Maldonado":
							["Caracoles-Vestas","Maldonado-Sierra Caracoles","Maldonado II"],	
						"Tacuarembó":
							["Peralta"],
						"Treinta y Tres":
							["Valentines"]
					}
			},
		"APAC":
			{
				"Australia":
					{
						"Adelaide":
							["Hornsdale 2","Hornsdale 3"],
						"Badgingarra":
							["Badgingarra"],
						"Snowtown":
							["Hornsdale 1","Snowtown II"],
						"Victoria":
							["Bulgana","CODRINGTON"]
					},
				"China":
					{
						"Fujian":
							["Dahanshan","Dahanshan II","Damaoshan","Dingyanshan","Jiangkou","Liyushan","Matoushan","Nanri II","Nanri III","Nanri IV","Nanridao I","Wangmushan","Yanjing","Zhangpu"],
						"Gansu":
							["Gansu","Gansu Yumen II","Yumen FAD","Yumen III","Yumen IV"],
						"Guangdong":
							["Lianzhou I","Lianzhou II"],
						"Hebei":
							["Baiyantuo","Chongli"],
						"Heilongjiang":
							["Shimaodingzi","Yilan","Erdouyan","XiaoChengShan","Yilan II","Huanan III","Huanan II","Huanan I","Yunling","Wangyunfeng","Xiaobaishan","Laobaishan","Yunwushan","Fujin Dongdi"],
						"Henan":
							["Henan 4 projects"],
						"Hubei":
							["Jiugongshan","Qiyueshan","Zhongcao"],
						"Inner Mongolia":
							["Huitengxile","Bayannoer","Bayannoer II","Bayannoer IV","Meiguiying","Laoshuiquan","Shangchang","Xigouli","Xiyangshugou","Biliutai","Meiguiying II","Zhouxicai","Xilinhot","Huolinhe","BaiQi","XinYuan","TaiPuSiQi"],
						"Jilin":
							["Taobei","Changling","Taonan","Tongyu I","Tongyu II","Shuangliao","Tongyu III","Anguang III","Anguang IV"],		
						"Liaoning":
							["Kangping","Zhangwu","Huanren","Faku I","Changtu","Faku II","Faku III","Changtu II","Faku V","Shiyingzi","Gongyingzi","Changgao","Xiaotazi","Yangshugou","Sanlengshan"],
						"Ningxia":
							["Ningxia IV C","Ningxia IV D-IIID&IIIE","Ningxia IV A","Baitugang","Baitugang II","Ningxia I","Ningxia II","Ningxia III"],
						"Shandong":
							["ChangDao","Taipingshan","Tangwangshan","Zhangjiachan","Liuwangzhuang","Zhaiyueshan","Chengdingshan","Kenli II","Feicheng"],
						"Shanghai":
							["Shanghai Fengxian"],
						"Shanxi":
							["Guangling I","Guangling II","Yanggao","Changfangshan","Zhaojiashan","Nandianziliang"],
						"Taiwan":
							["Hsinchu"],
						"Tianjin":
							["Nangang"],
						"Yunnan":
							["Yangchajie","Cangfang","Bainijing"],
						"Zhejiang":
							["Huangyan","Huangyan II"],
						"Blank":
							["Longyuan Rudong","Guohua Guangrao","Guohua Shandong Qixia","Sino Hydro","Nanri Onshore","Hainan Dongfang","Speedbird","Nanri Island","Longyuan","Three Gorges","CGN Rudong","CPI Binhai","Huaneng Rudong","Luneng Dongtai","Hebei Laoting","Guodian Zhoushan","Guohua Dongtai","Shantou Smart Energy Wind Farm","Xinghuawan","Zhongmin Pinghaiwan","Sanchuan Pinghaiwan F","Sanchuan Shicheng Yugang"]
					},
				"Indonesia":
					{
						"Sulawesi Selatan Sou":
							["Sidrap"],
						"Blank":
							["Tolo"]
					},
				"Japan":
					{
						"Aomori":
							["Noheji","Kitanozawa"],
						"Chiba":
							["Sodegaura"],
						"Ehima":
							["Seto"],
						"Ibaraki":
							["Kashima"],
						"Mie":
							["Misato"],
						"Saga":
							["Kushizaki"],
						"Blank":
							["Tomamae","Fuuraibo","Hamaton Betsu","Enbetsu","Iwaya","Kihoku","Odanosawa","Aridagawa","Okawara","Akita Port","Yurikogen","Higashi Yurihara","Setana Osato","Matsumae","Ishinomaki","Zenibako","Hachimoriyama","Tahara"]
					},
				"New Zealand":
					{
						"Otago":
							["Mount Stuart"],
						"Southland":
							["Flat Hill"],
						"Blank":
							["West Wind","Te Uku","Mill Creek","Waipipi"]
					},
				"Pakistan":
					{
						"Sindh":
							["Zephyr","Master Green"]
					},
				"Philippines":
					{	
						"South Luzon":
							["Puerto Galera","Pililla"],
						"West Visayas":
							["San Lorenzo","Nabas"],
						"Blank":
							["Caparispisan","Bangui Bay"]
					},
				"South Korea":
					{
						"Cholla-namdo":
							["Sinji"],
						"Kangwon-do":
							["Taebaek","SamSu"],
						"Blank":
							["Gasiri","Uljin","ShinGwang","Noraesan"]
					},
				"Taiwan":
					{
						"Blank":
							["Formosa","Yunlin Taixi","Yunlin Sihu"],
					},
				"Thailand":
					{
						"Chaiyaphum":
							["HNM","HNM10","HNM1","HNM5","HNM8","HNM9"],
						"Nakhon Ratchasima":
							["Subplu 1&2 & Wayu","Sarahnlom","KWE"],
						"Blank":
							["Korat 1","Korat 2"],
					},		
				"Vietnam":
					{
						"South Central Coast":
							["PHUONG MAI 3"],
						"Southeast":
							["Dam Nai I","Dam Nai II"]
					}
			},
		"India":
			{
				"India":
					{
						"Andra Pradesh":
							["HCL","Talaricheruvu","Rekulakunta","Burugula Mytrah G58","Greenko Rayala I","ITC - Thagguparthi","Energon - Thagguparthi","Greenko Rayala II","Energon Thagguparthi","Rayala III,Thagguparthi G114","KCT Kalyandurgam","Borampalli - Sun Edison","Nimbagallu - Orange Anantapur","Ostro-Nimbagallu","Greenko_Animala","Nimbagallu-Tata Power","MPR DAM_Greenko","Kalyandurg (Borampalli)-Hero","Molagavalli - KCT,MOLAGAVALI- PTC","Borampalli-Greenko.","Rekulankunda -Vibrant Green","Molagavalli SPV–Renew","Molagavalli-NREDCAP","Kalyandurg-Hero II","GUTTASEMA I","Molagavalli - Traditional","Borampalli – Guttaseema II","Borampalli - Vayuputra","Molagavalli - Traditional II"],
						"Gujarat":
							["Motagunda","Chandrodi","Chandrodi II","Patan III","Motagunda G97","Patan G97","Patan II","THDC - Patan","EDF Sitac-Amreli","EDF Sitac-Ratabhe","Chandrodi-Traditional","EDF Sitac - Sukavada","EDF Sitac - Pipartoda","Maliya - Orange","EDF Sitac-Raipar","PATAN-Traditional","Patan-Renew","Bhuvad - Renew","Bhujbul – Sembcorp","Mundra - Adani","Nivel Parque G9X Modelo","BHUJ -ADANI","RAJKOT - Continum"],
						"Karnataka":
							["Chikodi Karoshi","Belgaum-Chikodi-RSR Power","Savalsung - Mytrah,Chikkodi G9x","Fortune Five Basavanbegawadi","Kavithal","Fortune Five Phase Basavanabegawadi","Gujanoor-Mysore Mercantile","Kundoor - Mysore Mercantile","MULTI TECHNOLOGY KARNATAKA","Vyshali Greenko","Matrix Wind Energy - Hebbal","Renew Lingsugur","Lingsugur","Sempcorp - Harpanahalli","RON - Traditional Customers","Sandur Power - Bijapur","RON - Renew","Bableshwar-Hero","Devarahipparigi - Greenko","Batkurke_Renew","Gurmatkal - Orange","Bableshwar-PTC","Bableshwar-Renew","Sattagiri-Ostro","Gadag-Kalyani Tech","Madanayakanahalli","Kudgi-NTPC","Gadag-MMCL","Bableshwar-Renew Ph II","Bableshwar-Traditional","Gadag-Savadatti","Bapuram-Renew","Gudadanal - Torrent","Itnal - Colruyt","Nirlooti - Renew","Zalki","Savadatti – Microlabs"],
						"Kerala":
							["Malayala Manorama"],
						"Madhya Pradesh":
							["Energon-Jamgodharani","Chandgarh - Oil India","Veenus Textile Service - Chandgarh","Interocean - Chandgarh","Chandgarh - CLP India","Energon - Fatanpur","CLP G114","KPR - Chandgrah","Neha Sharma - Chandgarh","Bercha - Orange","Dhar - Ratlam Clean Wind","Amba - Ostro","Jaora - PTC","Betul - KUKRU","Roadic","Amba - Traditional","Amba - Renew","ILFS - Amba","Amba-Renew Ph II"],
						"Maharashtra":
							["Khirvire- Khombalne","Jath 1","Bhud","Bhendawadi","Jath 2","Jath 3","Amberi","Panama Wind Farm","Orange Khanapur","Pudhari Publications","MULTI TECHNOLOGY MAHARASHTRA","KAVALDARA - KCT","Koral - Torrent","Lohara - Torrent","oOEM Vankusawade NM48"],
						"Rajasthan":
							["Jaisalmer","Gunga","Prathapgarh","Greenko Tanot","Greenko Tanot II","Devikot-NALCO","Devikot - IOCL"],
						"Tamil Nadu":
							["PIONEER I","PIONEER III","PIONEER II","Elavanthi","Kadamalaikundu-Theni","Srirangapuram-Theni","Kanyakumari","Elavanthi Open Quota","Kadamalaikundu Open Quota Phase I-Theni","Ramnagar 1","Pedappampatti","Kongalnagaram","Kazhugumalai PH1","Malayankulam Open Quota","Rasipalayam","Kadamalaikundu OpenQuota Phase II Theni","Kazhugumalai Phase II","Elavanthi Open Quota II","Beta","Negamam","Angalakurichi","Ramnagar II","Super Sales Elavanthi","Palani Open Quota","Fenner","Sri Ayyanar Spinning Mills","GWTI - G97 Prototype","Gangaikondan","Navaladi","Ushdev","Fenner II","Kinnathukadavu I","Kinnathukadavu II","Pedappampatti II","Levinjipuram-Kanayakumari II","Manur - Aiki","Rasipalayam/G97","MULTI TECHNOLOGY TAMIL NADU","Kayathar-Perpetual Investment","Kayathar - Traditional Customers","Palayam-G5x Traditional","KAYATHAR - II","Uthumalai -Traditional","Aralvoimozhy-Tanaya","KAYATHAR III","Kayathar-Traditional IV","Kayathar-Traditional-V","Poovani - Orange","Kayathar-Traditional-VI","Kayathar-Traditional-VII","Kayathar-Traditional-VIII","Sadayapalayam - Traditional","Palayam - Traditional","MULTI TECHNOLOGY TN - NM48 MODEL","Palayam - Traditional II"]
					},
				"Sri Lanka":
					{
						"Western":
							["LTL"],
						"North Western":
							["Mullipuram Vidatamunai","Mullipuram Seguwantivu","LTL Phase II G58 Model","Senok/Musalpetti"]
					}
			},
		"NE&ME":
			{
				"Austria":
					{
						"Blank":
							["Leitzersdorf 1","Leitzersdorf 2","Prellenkirchen","Unterlaa","EVN Gänserndorf","Steinriegel","Poettelsdorf","Kilb","AT-DUERNKRUT100","AT-DUERNKRUT200", "AT-GLINZENDORF1","AT-GLINZENDORF2","AT-GROSSENGERSD","AT-GROSSKRUT-H1","AT-GROSSKRUT-H2","AT-HIPPLES10000","AT-HOCHPUERSCHT","AT-KREUZSTETTEN","AT-PAASDORF-L10","AT-PAASDORF-L20", "AT-PARNDORF1000","AT-POTTENBRUN40","AT-POTTENBRUNN4","AT-POYSDORF3000","AT-PRELLENK1000","AT-PRELLENK2000","AT-SCHARNDORF10","AT-SIMONSFELD20"],
					},
				"Azerbaijan":
					{
						"Absheron":
							["Baku"]
					},
				"Belgium":
					{
						"Hainaut":
							["Sivry"],
						"Liege":
							["Berloz II","Heron","Berloz I"],
						"Blank":
							["Wind aan de Stroom","Meer Hoogstraten","Rieme Noord","Oevel Westerlo","Beveren","Katoen Natie Kallo","Sibelco Dessel","Wind aan de Stroom 4A","Lierneux","Gesves Ohey","Ecaussinnes","Ham","Rentel","Mermaid","Seastar","BE-AMG100000000","BE-ARLON1000000","BE-ARLON2000000","BE-ARLON3000000","BE-ASSE10000000","BE-ASSE20000000","BE-BEERSEL10000","BE-BERINGEN1000","BE-BERINGEN2000","BE-BERLARE30000","BE-BOSATEC10000","BE-BREDEKOP1000","BE-CINEY1000000","BE-DASSENVELD10","BE-DESSELGEM100","BE-DESSELGEM200","BE-DILSEN_EMAX1","BE-DILSEN_ENERG","BE-DILSEN_SOLAR","BE-DILSEN100000","BE-DILSEN200000","BE-DUIKELDAM100","BE-ECHO10000000","BE-EEKLO1000000","BE-ESSEN_KALM10","BE-ESSEN_KALM20","BE-EVERGEM10000","BE-EVONIK100000","BE-FELUY1000000","BE-FRASNES_LE20","BE-FRASNES_LEZ_","BE-GEEL10000000","BE-GENK10000000","BE-GHENT_COAL10","BE-GHENT_TOWER1","BE-HAM200000000","BE-INDAVER10000","BE-KLUIZENDOK20","BE-LAEKEBEEK100","BE-LEUZE_EN_H21","BE-LEUZE_EN_H22","BE-LEUZE_EN_H23","BE-LEUZE_EXTENS","BE-LUMMEN_ABER2","BE-LUMMEN_ABER3","BE-LUMMEN_ABERT","BE-LUMMEN100000","BE-LUMMEN200000","BE-LUMMEN300000","BE-LUMMEN400000","BE-MAASMECHELEN","BE-MEER10000000","BE-MEERHOUT1000","BE-MELSELE10000","BE-MINDERHOUT10","BE-MODAVE100000","BE-MODAVE200000","BE-MOLENBAIX100","BE-MOLENBAIX200","BE-MOULINS-SAIN","BE-NIVELLES1000","BE-OLEN_BEPRO10","BE-OLEN_WTO1000","BE-PORT_OF_GENK","BE-RAVENSHOUT-A","BE-RAVENSHOUT-P","BE-SBZ100000000","BE-SCHEEPVAART1","BE-SINT_PIETER2","BE-SINT_PIETERS","BE-SOIGNIES1000","BE-SPY100000000","BE-SPY200000000","BE-STERPENICH10","BE-STRADUS10000","BE-STROPPEN1000","BE-TESSENDERLO1","BE-TESSENDERLO2","BE-TESSENDERLO3","BE-VERLAINE1000","BE-WEBBEKOM1000", "BE-WESTERLO1000","BE-WESTERLO2000","BE-ZANDVLIET100","BE-ZELZATE10000"],
					},
				"Bosnia and Herzegovina":
					{	
						"Doboj N/A":
							["Jelovaca"],
						"Blank":
							["Mesihovina","Podvelezje"],
					},
				"Bulgaria":
					{
						"Varna":
							["Suvorovo","Vranino","Karapelite"],
					},
				"Croatia":
					{
						"Blank":
							["Zadar 6 Ext","Zadar 2+3","Zadar 4","Glunca","Vostane Kamensko"]
					},
				"Czech Republic":
					{
						"Blank":
							["Red Hill","CZ-ANDELKA10000","CZ-ANDELKA20000","CZ-HABARTICE100","CZ-PROTIVANOV10","CZ-VACLAVICE100","CZ-VEZNICE10000"]
					},
				"Denmark":
					{
						"Blank":
							["Oesterild 2","DK07 Danmark Syd","DK05 Danmark Vest","DK04 Danmark Fyn","DK03 Danmark Nord/Vest","Noejsomhed","DK08 Danmark Lolland/Falster","DK01 Danmark Nord","CP","DK02 Danmark Oest","DK09 Danmark Sjaelland","DK11 Danmark Samsoe","DK06 Danmark Midt","Fabriksmoellen","Hoevsoere 2","Uhre Vindmoelle Laug","Blaahoej moellen","Middelgrund 1-10 (DONG)","Middelgrund 11-20 (Laug)","Nordjyllandsvaerket","Lars Andersen (NJV)","SCADA Service BDKFKursus WTC3","Samsoe","Aalborg Oest","Roenland","Frederikshavn","Nysted","Hoevsoere","Jens Bukholt","Lyngsmose","Overgaard2A-JensPetri","Overgaard2B-Dong","Soeby","Stigs Bjergby","Horns Rev 2","Saltum Kaer","Roedsand","Noerrekaer Enge","Lyngdrup","Hagesholm","Ejsing","Katrineholms Piber","Droestrup","Kyse","Svoldrup Kaer","Draeby Fed","Mintebjerg","Ravlundvej","Tjoerntved","Tornbygaard","Ivester_TEST","Drantum I","Lejboelle","Vester Barde","Kragerup Gods","Lerchenborg","Quistrup","Ovnboel","Oestergaard","Bajlum","Floe","Lindum","Videbaek Mose","Tjoerneby","Soelleste","Gammelstrup","SdrHerred","Klim","Klim2","Aagaard","Trikelshoej","Doestrup Vest","Krejbjerg","Klink","Tykskov","Svindbaek","Lyngdrup 2","Tim","Ulfborg-Nees","Avedoere","Faare","Ny Ulfborg","Brorstrup","Anholt","Brorstrup Kaer","Oesterild","Thorup Sletten","Tim 2","Nissum Bredning","GPT DD9"],
					},
				"Estonia":
					{
						"Blank":
							["Nasva"],
					},
				"Finland":
					{
						"Lappi":
							["Simo","Tornio"],
						"Länsi-Suomi":
							["Salo Marynummi Tuuliwatti","Salo Marynummi Restuuli"],
						"Blank":
							["PORI","Pori Windfarm","Raahe","Raahe Extension","Tahkoluoto","Ristiveto","Kopsa1","Ajos","Puuska"]
					},
				"Germany":
					{
						"Baden-Wurttemberg":
							["Seligweiler"],
						"Brandenburg":
							["Gross Haslow","Schwarzer Berg","Kronsberge","Oelsig Buchhain","Oelsig Buchhain II"],
						"Scotland":
							["Zerbst"],
						"Chicago":
							["Wikinger"],
						"Lower Saxony":
							["Blender II","Geeste","Rieda","Bodensee III & IV","Kugelberg","Sonnenberg","Ringstedt","Oberende","Gilmerdingen","Horst","Debstedt","Debstedt II"],
						"North RhineWestfalia":
							["Fürstenau - Alte Schanze","Eschweiler","Winterspelt IWinterspelt II"],
						"Hesse":
							["Rabenau"],
						"Rhineland Palatinate":
							["Wirfus I","Wirfus II"],
						"Mecklenburg-Vorpomm.":
							["Sarow","Sarow II"],
						"Saxony":
							["Sehnde Lehrte","Leipzig"],
						"Saxony-Anhalt":
							["Straguth","Coswig","Seehausen"],
						"Thuringia":
							["Rastenberg I","Rastenberg II"],
						"Blank":
							["Altenbeken","CP-Bremen","Rebgeshain","Brunsbüttel Industriehafen","Buettel","Rossau","Werbig / Gefue","Grevenbroich / EK","Grevenbroich / Germania","Sievern / Juette","Sievern / EK","Dieksanderkoog / GOEPA","Klostermoor","Sievern / Gefue","Altenbruch 1 - Hadler","Debstedt - EK","Werbig Sernower Heide / 1. SKH","Osterbruch","Neuenkirchen / Projekt","Neuenkirchen / Kuever","Lichtenberg","Werbig Sernower Heide / Hess","Beckum / EK","Krummendiek","Wanna / PNE","Haunsfeld / Gefue","Dahl","Bossebor","Billertshausen / LRR","Borgholzhausen / Stadtwerke","Uelvesbuell","Bordelum","Ravensberg","Grimmen","Holtensen / E&U","Balje Hoerne / N.prior","Ellhoeft","Arpke - Windstrom","Jahrstedt / Windstrom","Thedinghausen / masseWatt","Hottelstedt / Energiequelle","Balje Hoerne / EKStotel / EK","Klein Twülpstedt","Jahrstedt / Pedersen","Bischhausen","Gremersdorf","Dirlammen / EK","Ermke","Waidhaus","Bleckenstedt / Windstrom","Karlshof Peheim","Blatzheim / EK","Soehlde / Ventus & Hermes","Engelrod / EK","Mehrum / E& Beckum / Höner","Holzweiler / EK","Zetel / EK","Semlow","Keyenberg / EK","Loevenich / Levanto","Frestorf","Peheim","Nendorf","Bergedorf","Loevenich / Heinen","Badel / Windstrom","Badel","St. Magarethen / DGG","St. Magarethen / WP","Grosstreben / Energiequelle","Herbergen","Wismar / Erbg. Grunwaldt","Borstel 2 / Gefue","Sudweyhe / Gerking","Sudweyhe / Dr. Weetjen","Loevenich / Koch","Garnholt / Projekt","Tettenborn","Kalefeld","Schalkstetten","Tiefenthal","Trebbichau / WPD","Woltersdorf / Kroeger","Badel / Kroeger","Jürgenshagen / WPD","Tempelberg","Dezenacker","Zabenstedt","Amstetten","Boesel","Nortrup II","Linnich II","Gadenstedt","Klein Solschen","Gremersdorf","Thedinghausen","Beschendorf","Eichede","Bad Wurzach","Soltau","Kesfeld","Leiberg IV","Grosstreben ll","Moide","Wuesthof","Klennow","Altenbruch III","Borstel Campen / Gefue","HolzhausenK","atzenelnbogen","Tarmstedt","Ditzum","Horn-Lehe","Goetemitz / Spengler","Windhausen / Drehstrom","Beckeln","Asendorf","Romrod Zell","Ruebenau / Pramor","Ruebenau / Gefue","Nordhastedt","Memershausen / Projekt","Lahn / Projekt","Renkenberge / Energiequelle","Werbig Sernower Heide / Schott","Mistorf / Hering","Mistorf / WPD","Mistorf / Jaeger","Mittelsbuehren","Mahndorf / GefuE","Wilhelmshafen","Hohenseefeld / WPD","Kalme Westerberg / Windstrom","Hohenseefeld / Gefue","Belum","Bredenborn / Energiequelle","Langengrassau","Steinfeld","Nortrup I","Kajedeich","Koennern II","Bornstedt","Stahlwerk","Poppendorf","Ziegenkopf","Hoerup","Bippen I","Bippen II","Zetel 2","Oelersee","Braderup","Weddewarden","Schkortleben","Wulfsen","Zodel 2","Ellhoeft II","Norderhof","Sieversdorf","Grevenbroich","Baltic 1","Schleenhain","Habscheid 3","Haiger","Fischbeck","OffTEC","Bassens","Holzacker-Knorburg","Suderlugum","Klixbull 2","Kniphagen","Karholz","Brebek Karlum","Loewenstedt FL 256","Loewenstedt Fl 79","Trimet","Beedenbostel","Nordmentzhausen","Suederauerdorf","Hemelingen","Straubenhardt","Insenhausen","Harsum / Meyer","Langwedel","Sassnitz Ruegen","Gagern / Gefue","Tribsees / Gefue","Vetschau 3","Hof Tatschow","Duben West A","Naundorf","Quarnbek","Kuhrstedt","Almdorf","Profen","Papenhagen","Schoenemoor","Uetze Sud","Hollmark","Damme","Suedermarsch","Damme 2","Marienkoog","Klixbull","Altenbruch II","DanTysk","Borkum Riffgat","Meerwind","Butendiek","Norderhof II","Baltic 2","Amrumbank West","OffTec 2","Mutzschen","Mautitz","Borkum Riffgrund 1","Sandbank","Coesfeld","Bramstedtlund","Altfunnixsiel","Accum - Gefue","Oldendorf","Brunsbüttel Elbehafen","Utgast","Theener","Altenbruch 1","Carolinensiel / Bargen","Carolinensiel / Am Deich","Harsum / Aue","Brunsbüttel Lohmann","Christianskoog","Heide","Hemme","Kaiser-Wilh.-Koog / Schmied","Marner Neugoogsdeich","Friedrichskoog / WEA","Wehlens","Godewind 2","Godewind 1","Veja Mate","Arkona-Becken","Moehnesee","Stieglund","Helmern","Langenbach / Strunk","Hamburg Altengamme","Volkartshain","Deiderode - Diemarden","Jeetzel 2","Bargeshagen","Nitzschka-T01","Nitzschka-T02","Nitzschka-T03","Nitzschka-T04","Nitzschka-T05","Brüttendorf","Bruendersen","Proschim","Steenfelde","Freiensteinau","Nordleda / EK","Nordleda / PNE","Bremen A27","Pellworm","Oberschmitten","Anroechte - Drake","Anroechte - Maschke-Vahlhaus","Demmin","Paderborn / Halsband-Göke","Paderborn / Gehle","Uthlede / Watten-Wind","Uthlede / Die Windigen Vier","Grossenlupnitz","Billertshausen / Kleine","Uthlede / Muehle 8","Accum - Irps","Friedrichskoog / HAJJ","Accum - Erbg Grunwaldt","Wundersleben","Wasserhorst Bremen","Erlangen Test Site","Trianel Wind Park Borkum 2","Speckenbuttel","Lehe 1&2","Lehe 3","Global Tech I","Borkum West II","Alpha Ventus","BHV Airport","Albatros","Hohe See","DE-AHLEN1000000","DE-AHRENSBOEK-C","DE-ALDENH_NORD1","DE-ALDENH_NORD2","DE-ALDENHOVEN10","DE-ALDENHOVEN30","DE-ALT-BENNEBEK", "DE-ALTENBRUCH10","DE-ALTENGAMME10","DE-ALZEY_HEIM10","DE-AM_WESERUFER","DE-BAD_WUENNENB","DE-BARDENFLETH1","DE-BARLT_OST_BW","DE-BARLT_OST200","DE-BARLT_OST300","DE-BARLT_WEST10","DE-BARSLUND1000","DE-BECHLIN10000","DE-BEDBURG-HAU1","DE-BEHRENDORF30","DE-BERLIN-PANKO","DE-BESERITZ1000","DE-BICKENBACH10","DE-BICKENBACH30","DE-BIERBERGEN10","DE-BIPPEN_HANEB","DE-BLOCKLAND100","DE-BLOCKLAND200","DE-BLUMBERG1000","DE-BLYE10000000","DE-BLYE20000000","DE-BLYE30000000","DE-BLYE40000000","DE-BOLLINGSTEDT","DE-BORSTEL10000","DE-BORSTEL30000","DE-BOSB_SUE_REP","DE-BOSBUELL_BWP","DE-BOSBUELL_REP","DE-BOSBUELL1000","DE-BOSBUELL-SU2","DE-BREDENBORN_H","DE-BREITENDEICH","DE-BREMEN_STA10","DE-BREMERHAVEN2","DE-BREMERHAVEN3","DE-BREMERHAVEN4","DE-BREMERHAVEN5","DE-BREMERHAVEN6","DE-BREMERHAVEN7","DE-BRINKFORTSHE","DE-BROMAY_REPOW","DE-BWP_SOERUP10","DE-CANNEWITZ100", "DE-CHRISTINENTH","DE-CLAUEN200000","DE-CLAUEN300000","DE-CLAUEN400000","DE-COPPENBRUEGG","DE-DAMM10000000","DE-DEENSEN10000","DE-DELBRUECK100","DE-DENNHERITZ10","DE-DESSOW100000","DE-DETMOLD10000","DE-DIEDERSBUELL","DE-DIERSTORF100","DE-DINGEN100000","DE-DINGEN200000","DE-DITTELSHEIM2","DE-DITTELSHEIM3","DE-DOBBERZIN100","DE-DROYSSIG1000","DE-DUEREN100000","DE-DUEREN-DISTE","DE-EBERSGRUEN10","DE-ECKSTEVER100","DE-EGGEBEK10000","DE-EGGSTEDT2000","DE-EGGSTEDT3000","DE-EISBERGEN100","DE-ELLERDORF100","DE-ELSA_BRAENDS","DE-ELSDORF20000","DE-ELSDORF30000","DE-EMLICHHEIM10","DE-EMMELSB_HO_E","DE-EMMELSB_HORS","DE-EMMELSBUELL1","DE-EMMELSBUELL2", "DE-EMMERICH1000","DE-EMMERICH2000","DE-EMSKIRCHEN10","DE-ENERGIEBERG1","DE-ESSEL-OER100","DE-FLECHTDORF30","DE-FLECHTDORF40","DE-FOERTHA10000","DE-FOHREN-LINDE","DE-FORST_BRIESN","DE-FRAMERSHEIM2","DE-FRAUENTAL100","DE-FREHNE_MAR10","DE-FREHNE_MAR30","DE-FRIEDRICHS_A","DE-FRIEDRICHS_D","DE-FRIEDRICHS_H","DE-FRIEDRICHS10","DE-FRIEDRICHS20","DE-FRIEDRICHSK1","DE-FRIEDRICHSKO","DE-FUECHTORF100","DE-GALMSBUELL20","DE-GALMSBUELL30","DE-GALMSBUELL40","DE-GANDERKESEE1","DE-GANGLOFFSOE1","DE-GAU_HEPPENHE","DE-GEILENK_BE10","DE-GEILENK_TR10","DE-GEORGSWERDER","DE-GOCH10000000","DE-GOCH20000000","DE-GOCH30000000","DE-GOCH40000000","DE-GOLLMITZ2000","DE-GREVENKOP_E1","DE-GREVENKOP_E2","DE-GREVENKOP_RE","DE-GROENLAND100","DE-GROSBERNDTEN","DE-GROSS_PINN10","DE-GROSS_PINN20","DE-GROSSBARDAU1","DE-GROSSENMARP1","DE-GROSSENMARPE","DE-GROSSENW_KOL","DE-GROSSENW_MUE","DE-GROSSENWIEH2","DE-GUSSENSTADT1","DE-HADEMARSCHEN","DE-HADEM-STEENF","DE-HALTERN_BERG","DE-HALTERN_ENNE","DE-HALTERN_EPPE","DE-HALTERN_LIPP","DE-HALTERN10000","DE-HAMMELWARDER","DE-HANDEWITT200","DE-HANDEWITT500","DE-HARDEGSEN100","DE-HARTHA100000","DE-HASKAMPSMUEH","DE-HASSBERGEN10","DE-HAVIGHORST10","DE-HECKELBERG_B","DE-HEDDINGHAEUS","DE-HEDWIGENKOO5","DE-HEDWIGENKOOG","DE-HEIDENAU1000","DE-HEINSBERG100","DE-HELMERN-MUEN","DE-HEMME4100000","DE-HEMMERFELD10","DE-HEMMERFELD20","DE-HERBSLEBEN10","DE-HERMANNSBURG","DE-HERRNHUT1000","DE-HERRNHUT2000","DE-HERZOGENRATH","DE-HOERNINGEN10","DE-HOERSTEL1000","DE-HOERUP_EICH1","DE-HOERUP_OST10","DE-HOFSTELLE_HO","DE-HOHEN_LUCK_E","DE-HOHEN_LUCKOW","DE-HOLLICH30000","DE-HOLLICH40000","DE-HOLTSEE_ALT1","DE-HOLTSEE_ALT2","DE-HOLTSEE_ERWE","DE-HOLTSEE10000","DE-HOLTSEE20000","DE-HOLZHAUSEN10","DE-HORSBUELL100","DE-HORSBUELL200","DE-HORSBUELL400","DE-HUECKELHOVEN","DE-IPLAND100000","DE-JANNEBY10000","DE-JANNEBY20000","DE-JATZKE100000","DE-JERRISHOE100","DE-JERRISHOE200","DE-JESSIN100000","DE-JIEDLITZ1000","DE-JOERL1000000","DE-JUEBEK100000","DE-JUECHEN10000","DE-JUECHEN20000","DE-JUELICH_AL10","DE-KAHNSDORF100","DE-KAISKORB1000","DE-KALKAR-APPEL","DE-KANTOW100000","DE-KATTREPEL100","DE-KATTREPEL2_W","DE-KERKOW-MUERO","DE-KIRCHHEILIG1","DE-KIRCHHEILIG2","DE-KIRF10000000","DE-KLANXBUELL_E","DE-KLANXBUELL10","DE-KLANXBUELL20","DE-KLEIN_SOL200","DE-KLEIN_SOLSCH","DE-KLIXBUELL200","DE-KLOSTERKUMBD","DE-KOERLE100000","DE-KRIBBE300000","DE-KRONPRINZ_ZU","DE-KRONPRINZE10","DE-KRONPRINZEN2","DE-KRONPRINZEN3","DE-KRONPRINZEN4","DE-KRONPRINZEN5","DE-KRONPRINZEN7","DE-KRONPRINZEN8","DE-KRONPRINZEN9","DE-KUEHRSTEDT10","DE-LAGE10000000","DE-LANDIN200000","DE-LANDIN300000","DE-LANGENHORN10","DE-LANGENHORN20","DE-LANGENHORN30","DE-LANGENHORNII","DE-LAUBACH10000","DE-LEIBERG10000","DE-LEIBERG20000","DE-LEIBERG60000","DE-LEININGEN100","DE-LEIPPETORNO1","DE-LEMGO_WELSTO","DE-LENSAHN10000","DE-LICHTERFELD1","DE-LINDENBERG10","DE-LINDENBERG20","DE-LINDENBERG30","DE-LINDENBERG40","DE-LINDENBERG60","DE-LINDEWITT200","DE-LINNICH_KOER","DE-LITZENDORF10","DE-LOEWENSTEDT1","DE-LOEWENSTEDT2","DE-LUEBKE_KOOG_","DE-LUEBKE_KOOG1","DE-LUEBKE_KOOG3","DE-LUEBKE-KOOG1","DE-LUEBKE-KOOG2","DE-LUERSCHAU100","DE-MARKSAHNAU10","DE-MARKSAHNAU20","DE-MARL10000000","DE-MARL20000000","DE-MECKEL100000","DE-MEDELBY10000","DE-MEHRUM_E_L10","DE-MEHRUM_E_L20","DE-MEHRUM100000","DE-MELAUNE10000","DE-MELLRICHSTAD","DE-METHAU_ZETTL","DE-METTINGEN_BR","DE-MISSLAREUTH1","DE-MOERS_REPELE","DE-MUENCHBERG10","DE-MUENSTER-W10","DE-MUTZSCHEN100","DE-NATELN100000","DE-NEUE_AUE_S10","DE-NEUENBROOK10","DE-NEUENBROOK20","DE-NEUENGAMME10","DE-NEUENGAMME20","DE-NEUENGOERS20","DE-NEUENK10_TG2","DE-NEUENK10_TG3","DE-NEUENK20_TG1","DE-NEUERKIRCH20","DE-NEUFELDERK10","DE-NEUKIRCHEN10","DE-NEUSS2000000","DE-NEUTSCHER_H1","DE-NEUTSCHER_H2","DE-NIEBUELL2000","DE-NIEDERZIER10","DE-NORDHACKST_N","DE-NORDHACKST_O","DE-NORDHACKST10","DE-NORDHACKST20","DE-NORSTEDT3000","DE-NORSTEDT4000","DE-NORTORF10000","DE-NORTORF-REHB","DE-OBERE_ARLAU1","DE-OCKHOLM10000","DE-OCKHOLM20000","DE-ODISHEIM1000","DE-OHE-CELLE100","DE-OLDENBORSTEL","DE-OLDERUP_SI10","DE-OLDERUP10000","DE-OSTERHOLZ-SC","DE-OSTERRADE_ER","DE-OSTERRADE_RE","DE-OTTERSBERG10","DE-PATTENSEN300","DE-PINNOW100000","DE-PINNOW200000","DE-PINNOW300000","DE-PINNOW400000","DE-PINNOW500000","DE-POELZIG10000","DE-POLCH1000000","DE-PREMSLIN2000","DE-PUHLHEIM1000","DE-QUENDORF1000","DE-RAA-BESENB10","DE-RADEVORMWAL1","DE-RAMELSLOH100","DE-RANTRUM_BWP3","DE-RANTRUMFELD1","DE-RAYERSCHIED1","DE-RECKE_ESPEL1","DE-REHER1000000","DE-REUSENKOEGE2","DE-REUSENKOEGE5","DE-REUTH1000000","DE-RURICH_REPOW","DE-SANNAUER_HEL","DE-SCHAFFLUND10","DE-SCHAFFLUNDF1","DE-SCHAFFLUNDF2","DE-SCHASHAGEN10","DE-SCHEIBE10000","DE-SCHENKENBER1","DE-SCHERMBECK_R","DE-SCHNORBACH10","DE-SCHOENBRUNN1","DE-SCHOENFELD10","DE-SCHOENWALDE1","DE-SCHOEPPINGEN", "DE-SCHUBY100000","DE-SCHWANEWEDE2","DE-SCHWESING_RE","DE-SCHWESING-EN","DE-SCHWICHELDT1","DE-SELFKANT1000","DE-SILBERSTEDT1","DE-SILLERUP1000","DE-SOENNEBUELL1","DE-SOENNEBUELL2","DE-SOENNEBUELL3","DE-SOLLWITT1000","DE-SOMMERLAND_B","DE-SPRINGE-BE10","DE-ST_MICHAEL_N","DE-STEIFE_BRISE","DE-STETTEN_RE10","DE-STIEGLUND_RE","DE-ST-MICH12-14","DE-ST-MICHAEL11","DE-ST-MICHAEL15","DE-ST-MICHAELI2","DE-ST-MICHAELI3","DE-ST-MICHEL300","DE-STOCKELSDORF","DE-STOFFENG1000","DE-STRAELEN_AUW","DE-STRUCKUM1000","DE-SUDERBURG100","DE-SUEDERAU_100","DE-SUEDERDORF30","DE-SUEDERMA_WTF","DE-SUEDERMARSCH","DE-THONBERG1000","DE-THONHAUSEN_E","DE-TRATTENDORF1","DE-TWEDT1000000","DE-UEBACH-PALE1","DE-UEBACH-PALEN","DE-UELSBY100000","DE-UNKENBACH100","DE-UNZENBERG300","DE-UTHLEBEN1000","DE-VAREL1000000","DE-VAREL2000000","DE-VAREL3000000","DE-VEER_DOERPER","DE-VELTHEIM1000","DE-VLOTHO-EXTER","DE-VREDEN-DOEME","DE-WAHLBACH1000","DE-WALDGREHWEI1","DE-WANDERUP1000","DE-WAPPERSDORF1","DE-WEESBY100000","DE-WEESBY-BOEXL","DE-WERL10000000","DE-WERSCHE10000","DE-WETZDORF1000","DE-WEWELSFLETH1","DE-WILHELMSHAVE", "DE-WILSICKOW100","DE-WINDKATHE100","DE-WINNERT20000","DE-WITTBEK10000","DE-WITTGEESTE10","DE-WITTSTOCK100","DE-WOLBECK-WEST","DE-WOSCHKOW1000","DE-WREMEN100000","DE-WRIEZENER-HO"]
					},
				"Hungary":
					{
						"Gyor-Moson-Sopron":
							["Movar"],
						"Komarom-Esztergom":
							["Kisigmand","Scott","Csoma I"],
						"Vas":
							["Amundsen","Csoma II"]
					},
				"Iran":
					{	
						"Blank":
							["Siahpoush"]
					},
				"Ireland":
					{
						"Ireland":
							["Meentycat","Taurbeg","Coomacheo","Leanamore","Hollyford","Galway2 Cloosh","Galway1 CGT","Scartaglen","Raheenleagh","Sliabh Bawn","Ballycumber","Knocknatallig","Knockalough","Dromadda Beg","Killala"],
						"Cork":
							["Kealkill","Kilvinane","Milane Hill"],
						"Donegal":
							["Drumlough","Corkermore","Drumlough Hill I-Vestas","Meenadreen","Barnesmore","Cark"],
						"Kerry":
							["Beenageeha"],
						"Rosscommon":
							["Moneenatieve - Altagowlan","Carrane Hill","Arigna"],
						"Sligo":
							["Geevagh","Largan Hill"],
						"Blank":
							["Grousemount","Bruckana","Mount Lucas","Oweninny 1","Beennageeha","Elliotts Hill","IE-CARRICKALLEN","IE-RATHNACALLY1","IE-TEEVURCHER10"]
					},		
				"Israel":
					{
						"Northern":
							["Gilboa","Sirin"]	
					},
				"Kuwait":
					{
						"Al Jahra":
							["Shagaya"]
					},
				"Latvia":
					{
						"Blank":
							["Kurzeme"]
					},
				"Lithuania":
					{
						"Blank":
							["Silale Wind Park"]
					},
				"Luxembourg":
					{
						"Blank":
							["Weiler","Feulen"]
					},
				"Macedonia":
					{
						"Blank":
							["Bogdanci"]
					},
				"Netherlands":
					{
						"Flevoland":
							["EWI"],
						"Friesland":
							["G5X NL-Repowering"],
						"Blank":
							["Rommens","Geertsema","Beabuorren","Harlingen-Haven","ECN II","Acrres Test Site","Westermeerwind","Ede","Nieuw Prinsenland","Oud Dintel","Coevorden","ECN","Gemini","Eekerpolder","Fryslan","LANGELAAN","Borssele 1-2","NL-DE_ZUIDLOB10","NL-HOGEZANDSE_P","NL-PROCTER-GAMB","NL-REUSEL100000","NL-ZIERIKZEE100"]
					},
				"Norway":
					{
						"Blank":
							["Smoela","Hitra","Smoela 2","Nygaardsfjellet","Kjoellefjord","Hywind","Hoeg Jaeren","Lista","Havoeygavlen","Raggovidda","Tellenes","Tonstad","Soerfjord","Kvitfjell","Bjerkreim Cluster","Stigafjellet","Maakaknuten"]
					},
				"Poland":
					{
						"Lodzkie":
							["Krzyzanow"],
						"Dolnoslaskie":
							["Zgorzelec","Jadwisin"],
						"Kujawsko-Pomorskie":
							["Batkowo"],
						"Lubuskie":
							["Czyzewo"],
						"Lodzkie":
							["Gorzkowice","Czarnozyly","Szadek","Sieradz II"],
						"Mazowieckie":
							["Zuromin","Nasielsk","Makow Mazowiecki","Grzmiaca"],
						"Opolskie":
							["Zopowy","Zopowy II"],
						"Podkarpackie":
							["Galicja"],
						"Podlaskie":
							["Piecki","Taciewo"],
						"Pomorskie":
							["Puck","Pelplin","Subkowy","Lichnowy","Bystra"],
						"Warminsko-Mazurskie":
							["Korsze I","Korsze II","Dzialdowo","Kisielice II","Bialczyn","Korsze III"],
						"Wielkopolskie":
							["Margonin - Relax I","Golice","Wrzesnia","Morakowo","Kowalewo","Strzalkowo II","Strzalkowo I"],
						"Zachodnio-Pomorskie":
							["Krzecin","Klodkowo","Resko","Pelczyce","Myslino","Suchan","Parsowek"],
						"Blank":
							["Tychowo","Suwalki","Karnice","Kobylnica","Okragle","Gawlowice","Rajgrod","Skurpie","Mikolajki Pomorskie","Barwice","Lukaszow","Modlikowice","PL-BUDZIECHOW10","PL-BUKOWSKO1000","PL-GIZALKI10000","PL-GRABIK100000","PL-GRODZISK_W10","PL-JAROGNIEW_M1","PL-LEKI_DUKIEL1","PL-LIPNIKI10000","PL-OKONEK100000","PL-ROZTOKA10000","PL-RYMANOW10000","PL-SIERZCHOWO10","PL-TACZALIN1000","PL-TRALEWO10000","PL-WARTKOWO1000"]
					},
				"Romania":
					{
						"Constanta":
							["Mihai Viteazu","Nicolae Balcescu"],
						"Galati":
							["Cudalbi"],
						"Iasi":
							["Vanatori"],
						"Tulcea":
							["Dealul Pietros","Cara Constantini","Salbatica","Salbatica II","Babadag III"],
						"Blank":
							["Moldova Noua","Zephyr 1","Baragan","Zephyr 2"],
					},
				"Serbia":
					{
						"Blank":
							["RS-ALIBUNAR1000","RS-MALIBUNAR100"],
					},
				"Sweden":
					{
						"Gävleborgs Län":
							["Lingbo","Svartvallsberget"],
						"Hallands Län":
							["Dal"],
						"Skåne Län":
							["Köinge & Vannborga","Höge Väg"],
						"Västernorrlands Län":
							["Faleberg","Notasen","Rammeldalsberget","Spjutaasberget"],
						"Västra Götalands Län":
							["Lindärva"],
						"Östergötlands Län":
							["Triventus"],
						"Blank":
							["Lillgrund","Kyrkberget","Brahehus","Tuggarp","Toeftedalsfjellet","Korpfjaellet","Trattberget - Skallberget","Raftsjoehoejden","Stamaasen I","Aasen","Kaptensberget","Milletorp","Fallaasberget","Gunnarby","Fredriksdal","Moerttjaernberget","Gullmossen","Bjoerkhoejden","Mullberg","Hjuleberg","Oegonfaegnaden","Sidensjoe","Stormon","Hogabjar","Juktan","Grimsaas","Rostam","Laxaaskogen","Haejsberget","Enviksberget","Broecklingberget","Cloud","Hornamossen","Sydkraft","SE-EKEBY1000000","SE-HAELLSTORP10","SE-INGELSTRAEDE","SE-KARSHOLM1000","SE-KIABY1000000","SE-KLAGERUP1000","SE-OESSJOE_SKOG","SE-RAGAKRA10000","SE-ROBERTSFORS1","SE-TANGABO10000"]
					},
				"Turkey":
					{
						"Aydin":
							["Soke","Madranbaba"],
						"Canakkale":
							["Yenikoy"],
						"Eskisehir":
							["Kartal"],
						"Hatay":
							["Atik Belen I","Atik Belen II"],
						"Istanbul":
							["Yamactepe"],
						"Izmir":
							["Adares","Ovares","Yilmaz"],
						"Kirklareli":
							["Kiyikoy I","Kiyikoy II"],
						"Konya":
							["Akdag","Baglar","Ardicli","Baglar II","Ardicli II"],
						"Mugla":
							["Datça"],
						"Sivas":
							["Konakpinari","Karaçayir","Kangal III"],
						"Tokat":
							["Akyurt"],
						"Blank	":
							["Canakkale","Dinar","Balabanli","Dagpazari","Bereketli","Kanije","Zeliha","Poyraz","Airres 4","Kinik","Fatma","Ucpinar","Kocalar","Hasanoba","Denizli"]
					},
				"United Kingdom":
					{
						"Aberdeenshire":
							["St Johns Hill","Meikle Carewe"],
						"Antrim ":
							["Corkey","Rigged Hill"],
						"Argyllshire":
							["Tangy","Beinn An Turic"],
						"Cambridgeshire":
							["Ransonmoor","Burnthouse","French Farm"],
						"Cornualles":
							["Carland CrossHigh Down"],
						"Derbyshire":
							["Tir Mostyn"],
						"Devon":
							["Darracott Moor"],
						"Dumfries a.Galloway":
							["Arecleoch","Mark Hill","Harestanes","Carscreugh","Kilgallioch","Glen App"],
						"East Ayrshire ":
							["Afton","Hare Hill Extension","Hare Hill-Vestas"],
						"East Renfrewshire ":
							["Middleton"],
						"England":
							["Lambrigg","Out Newton","Artfield Fell","Callagheen","Westmill Wind","Rosehall Woods","Alltwalis","Teesside","Rothes II","Port of Tilbury","Mid Hill","Middlewick","Lochluichart","Four Burrows","Hull Training","Burbo Banks","Lynn","Inner Dowsing","Gunfleet Sands 1+2","Rhyl Flats","Greater Gabbard","Walney 1","Sheringham Shoal","Walney 2","London Array","Lincs","West of Duddon Sands","Royd Moor","Gunfleet Sands 3","Hunterston","Westermost Rough","Dudgeon","Race Bank","Galloper","Hagshaw Hill","Bears Down","Walney 04","Beatrice","Hornsea One","East Anglia One"],
						"Lancashire":
							["Coal Clough"],
						"Londonderry":
							["Brackagh Quarry","Altahuillion 1"],
						"Lothian":
							["Dun Law I","Dun Law II","Cruach Mhor"],
						"Mid Glamorgan":
							["Mynydd Portref","Mynydd Portref REG"],
						"North Lanarkshire":
							["Damhead"],
						"Northern Ireland":
							["Altahullion","Altahullion ll","Lough Hill","New Slieve Kirk","Carrickatane","Tievenameenta","Gortfinbar"],
						"Northumberland":
							["Lynemouth"],
						"Omagh":
							["Lendrum´s Bridge"],
						"Scotland":
							["Pen y Cymoedd","Forss","Glens Of Foudland","Black Hill","Wether Hill","Forss II","Hagshaw Hill 2","Clochnahill Wind Farm","Bankend Rig","Causeymire","Rothes Wind","Black Law","Beinn an Tuirc II","Hadyard Hill","Farr","Pauls Hill","Minsca","Drumderg","Whitelee","Crystal Rig 2+3","Toddleburn","Carcant Hill","Clyde South","Clyde North","Griffin Wind Farm","Hill of Towie","Carraig Gheal","Ardoch over Enoch","Ewe Hill1","Blackcraig","Ewe Hill 2","Millour Hill","Calder Water","Torrance","Dersalloch","Aikengall 2","Hywind Scotland","Novar","Beinn Ghlas","Glasgow RTDS","Cour Wind Farm","Beinneun Wind Farm","Grange Wind Farm"],
						"Staffordshire":
							["Rodbaston"],
						"Wales":
							["Moel Moelogan 3","Moel Moelogan 1 & 2","Moel Moelogan 2Carno 2","Mynydd y Betws","Maerdy","Rheidol","Gwynt y Mor","Bryn Titli","Trysglwyn","Carno","Llyn Alaw Windfarm"],
						"West Glamorgan":
							["Llynfi","Mynydd Brombil"],
						"West Yorkshire":
							["Knostrop Kelda","Ovenden Moor"],
						"Blank":
							["GB-A_CHRUACH100","GB-ACHAIRN10000","GB-ACHANY100000","GB-ACHLACHAN100","GB-ARMISTEAD100","GB-AVONMOUTH100","GB-BARLOCKHART1","GB-BATSWORTHY10","GB-BILSTHORPE10","GB-BISHOPTHORPE","GB-BLANTYRE_M10","GB-BLYTH_HARB10","GB-BOARDING_HOU","GB-BOUNDARY_L10","GB-BROCKLOCH_RI","GB-BURTON_P1000","GB-CAIRNBORROW1","GB-CARSINGTON_P","GB-CHIPLOW10000","GB-CLASHINDARRO","GB-COLDHAM20000","GB-COMMON_BARN1","GB-CRAMLINGTON1","GB-CRODA1000000","GB-CROOK_HILL10","GB-DALSWINTON10","GB-DEW_LAY10000","GB-DUNSLAND_CRO","GB-EYE_AIRFIELD","GB-FAIRBURN1000","GB-FLIMBY100000","GB-FREASDAIL100","GB-GAYTON100000","GB-GORDONBUSH10","GB-GREENDYKESID","GB-HALL_FARM100","GB-HAMPOLE10000","GB-HAZLEHEAD100","GB-HOLTON100000","GB-HOOK_MOOR100","GB-KELMARSH1000","GB-KESSINGLAND1","GB-KYPE_MUIR100","GB-LAMBS_HILL10","GB-LILBOURNE100","GB-LOCHHEAD1000","GB-LOW_SPINNEY1","GB-MARR10000000","GB-MIDDLE_MUIR1","GB-MOOR_HOUSE10","GB-MUIRHALL1000","GB-MUIRHALL2000","GB-NEW_ALBION10","GB-NEWARK100000","GB-NORTH_STEADS","GB-OAKDALE10000","GB-PENMANSHIEL1","GB-PENNY_HILL10","GB-PORT_OF_SHEE","GB-QUIXWOOD1000","GB-RANSON_MOOR1","GB-RAY_ESTATE10","GB-REAPS_MOSS10","GB-RHODDERS1000","GB-SISTERS10000","GB-SIXPENNY_W10","GB-SOBER_HILL10","GB-STRATHY_NORT","GB-TIRGWYNT1000","GB-TORMYWHEEL10","GB-TULLYMURDOCH","GB-TWIN_RIVERS1","GB-WANDYLAW1000","GB-WATFORD_LODG","GB-WATHEGAR1000","GB-WATHEGAR2000","GB-WEAR_POINT10","GB-WESTNEWTON10","GB-WINWICK10000","GB-WORKINGTON10","GB-YELVERTOFT10"]
					}
				
				
			},
		"SE & A":
			{
				"Algeria":
					{
						"Adrar":
							["Adrar - Kabertene"]
					},
				"Cyprus":
					{
						"Lárnaca":
							["Agia Anna"]
					},
				"Egypt":
					{
						"GENERICA":
							["Zafarana I-85MW","Zafarana II-80MW","Zafarana IV - Danida 120MW-I & II","Zafarana III JBIC-62MW + 58MW","Gabal El Zayt KFW-200 Mw","Gabal el Zayt FIEM 120MW","Gabal el Zayt JICA 220 MW","Gabal El Zayt KFW EXT 40","RGWE-BOO"]
					},
				"France":
					{
						"Aisne":
							["Omissy II","Lislet II","Omissy I","Brissy-Hamegicourt","Ribemont","Séry Les Mezières","Picoterie","Villers Le Sec","Beaurevoir","Leffincourt","Arc en Thiérache","Lislet I"],
						"Ardèche":
							["Plateau Ardechois"],
						"Ardennes":
							["Mont de Gerson"],
						"Aube":
							["Herbissonne","Sigean","Roquetaillade 1.1","Névian Grande Garrigue","Névian Combe de Brousse","Roquetaillade 1.2 & 2","Port La Nouvelle"],
						"Aveyron":
							["Lascombes","Flavin La Bouleste"],
						"Cantal":
							["MontloubyMontlouby II"],
						"Charente":
							["Aussac Vadalle"],
						"Côte-d'Or	":
							["Auxois Sud II"],
						"Côtes-d'Armor":
							["Calanhel","Les Landes du Tertre","Boqueho"],
						"Creuse":
							["La Souterraine"],
						"Finistère":
							["Plouarzel","Plouarzel Ampl.","Lanrivoaré"],
						"Guadeloupe":
							["Sainte Rose"],
						"Hérault":
							["Joncels"],
						"Ille-et-Vilaine":
							["La Nourais","Moulin de Tizon","Teillay"],
						"Indre":
							["La Vallée","Champagne Berrichonne"],
						"Loire-Atlantique":
							["Vallée du Don","Avessac","Conquereuil"],
						"Lozère":
							["Chaudeyrac"],
						"Manche":
							["La Heroudière"],
						"Marne":
							["Cote du Cerisat","INACTIVA Côte de Champagne - Argonne","Vanault Le Châtel","Quatre Vallées","Quatre Vallées 2","Quatre Vallées III","Argonne","Côtes de Champagne Sud","Côtes de Champagne","Epense","St. Amand sur Fion","Les Longes Roies"],
						"Marne-Haute":
							["Osne Le Val","Piroy"],
						"Meuse":
							["La Voie Sacrée 1-6 - Valette","La Voie Sacrée 20-25 - Raival","La Voie Sacrée 11-16 - Maurechamps","La Voie Sacrée 28-30 - Viller","La Voie Sacrée I 7-10 & II 26-27","Stenay","Rampont","Gery","Menaucourt","Rampont II -Haie Joly I 1-4 & III8-I3","Rampont II - Haie Joly II 5-7","Belrain"],
						"Morbihan":
							["Mauron","Pleugriffet","Grand Place","Moréac"],
						"Moselle":
							["Niedervisse","Bambesch"],
						"Pas-de-Calais":
							["Saint Léger"],
						"Sarthe":
							["Nord Sarthe"],
						"Sèvres-Deux":
							["Trayes","Souvigné","Pamproux"],
						"Somme":
							["Hombleux","Vauvillers II","Petit Terroir","Nurlu","Quint I & II","Santerre","Hombleux II","Nesloises"],
						"Tarn":
							["Soulanes","Albine"],
						"Vendée":
							["Brem Sur Mer","LEspinassiere I & II","Maché","Corpe"],
						"Yonne":
							["Pasilly"],
						"Blank":
							["Le Souleilla - Corbieres","Ploudalmezeau","Haut Cabardes","Haut Languedoc","Plouvien","Keranfouler","Le Gollot","Murat","Les Grandes-Chapelles","Longuyon-Braumont","Longuyon-Revemont","Longuyon-Haucourt","Hermin","Valhuon II","Val de Noye","Quesnoy","Quesnoy II","La Salesse","Remigny","Seuil de Bapaume","Plaine d Escrebieux","Basse Thierache Sud","Plateau d Andigny","Croisette","Haute Borne","Les Gourlus","Mont Saint Benoit","Mont de Bagny","Saint Pierre de Maille 3","Buire-le-Sec","Courant Nachamps","Eplessier Thieulloy","Mont Equoi","Champs Tortus","Coteaux du Blaiseron","Doux le Vent","Mazurier","Eleg","FR-AIRAINES1000","FR-ANGUILCOURT1","FR-BAUDIGNEC100","FR-BEGANNE10000","FR-BERVILLER100","FR-BOIS_DE_FOLL","FR-BOIS_DE_LA_S","FR-BOIS_DE_MO_A","FR-BOIS_DE_MO_B","FR-BOIS_DE_MO_C","FR-BOIS_JOLI100","FR-BRAY10000000","FR-CALMONT10000","FR-CANTONS_DU10","FR-CHALEONS1000","FR-CHAMP_CHARDO","FR-CHAMPFL_VIA1","FR-CHAMPFL_VIA2","FR-CHAMPFLEURY1","FR-CHAMPFLEURY2","FR-CHAOURSE1000","FR-CHAPELLE-DEO","FR-CHAPELLE-VAL","","FR-CHARMOIS1000","FR-CHARMONT1000","FR-CHARMONT2000","FR-CHAUVE100000","FR-CHEMIN_DABL1","FR-CHERMISEY100","FR-CLAMECY10000","FR-CLERIMOIS100","FR-COULONGES100","FR-COULONGES200","FR-COULONGES300","FR-COURGIS10000","FR-DAMPIERRE100","FR-DELOUZE10000","FR-DERVAL_LUSAN","FR-DYE100000000","FR-E4C_NORIA100","FR-E4C_QUADRAN1","FR-E4C_QUADRAN2","FR-EOLIA1000000","FR-EPINE_AUX_BO","FR-FALAISE20000","FR-FIERVILLE_A1","FR-FIERVILLE_B1","FR-FIERVILLE_B2","FR-FLOCQUES1000","FR-FOND_DE_PLAI","FR-FONTAIN_MA10","FR-FOYE10000000","FR-FRELIGNE1000","FR-FRENCQ100000","FR-FRESNOY10000","FR-FREVENT10000","FR-GAVRAY100000","FR-GUEGON100000","FR-GUEHENNO1000","FR-GUELTAS-NOYA","FR-HAMBERS10000","FR-HANGEST_SUR1","FR-HANGEST_SUR2","FR-HARDANGES100","FR-HAUTS_DE_C10","FR-IFFENDIC1000","FR-IVERGNY10000","FR-LA_CHAUDE100","FR-LA_GARRIGA10","FR-LA_LIMOUSIN1","FR-LA_MARNE1000","FR-LA_PLANCHE10","FR-LANGRES_SUD1","FR-LANGRES_SUD2","FR-LANGRES_SUD3","FR-LANGRES_SUD4","FR-LANGRES_SUD5","FR-LANOUEE10000","FR-LE_MELIER100","FR-LE_MONT_DE_2","FR-LE_SOUICH100","FR-LE-HAUT-DES1","FR-LES_EPARMONT","FR-LES_HAUTS_P1","FR-LES_HAUTS_P2","FR-LES_HAUTS_P3","FR-LES_LANDES10","FR-LES_LANDES20","FR-LEVIGNY10000","FR-LIGNY1000000","FR-LIHUS1000000","FR-LUSSAC100000","FR-MALANDAUX100","FR-MARGUERAY100","FR-MAULEON10000","FR-MIGE_ESCAMP1","FR-MIGE_ESCAMPS","FR-MONT_DE_L_A1","FR-MONT_DE_L_A2","FR-MONT_FAMILLO","FR-MONTAFILANT1","FR-MONT-BERGER1","FR-MONT-BERGERO","FR-MONTBRAY1000","FR-MONTS_DE_L-A","FR-MORVILLERS10","FR-MOULIN_DE_LA","FR-NESLE_LA_REP","FR-PAYS DE RETZ","FR-PECG10000000","FR-PECN10000000","FR-PECN20000000","FR-PECR10000000","FR-PERLES100000","FR-PETN10000000","FR-PLATEAU_DE_L","FR-PORTES_DE_C1","FR-PORTES_DE_C2","FR-PUECH_D_AL10","FR-QUARNON-CHAM","FR-QUITTEBEUF10","FR-RADENAC10000","FR-RENNEVILLE10","FR-RENNEVILLE20","FR-REPOW_COTE10","FR-SAINT_CONGAR","FR-SAINT_GERM10","FR-SAINT_GERM20","FR-SAINT_GERM30","FR-SAINT_HILAIR","FR-SAINT_MARTIN","FR-SAINT_MICHEL","R-SAINT_PHIL10","FR-SAINT-JULIEN","FR-SAMBRES10000","FR-SAONE_ET_MAD","FR-SCAER_CRENOR","FR-SEVERAC10000","FR-SEVIGNY_WA10","FR-SEVIGNY_WA20","FR-SOMME_SOUDE1","FR-SOMME_SOUDE2","FR-SOURCE_DE_L1","FR-SOURCE_DE_L2","FR-SSH100000000","FR-ST_PIERRE_DE","FR-ST_PIERREMON","FR-TETERCHEN100","FR-TRAMOMARINA1","FR-VALLEE_DE_LA","FR-VENOY_BEINE1","FR-VEULETTES100","FR-VILLACERF100","FR-VILLE_AUX_BO","FR-VITRY-LA-VIL","FR-VIX100000000","FR-VOIE_DU_MOUL","FR-WOELFLING100"],
					},
				"Greece":
					{
						"Aitolia kai Akarnan.":
							["Kali Chitsa","Litharoserma","Antirrio","Xerovouni"],
						"Akhaia":
							["Panachaiko II"],
						"Argolis":
							["Arachnaio II","Spithari"],
						"Evros":
							["Koryfoula","Melia"],
						"Evvoia":
							["Macryrachi","Portes","Servounia"],
						"Fokis":
							["Kefalaria"],
						"Imathia":
							["Panagia Soumela"],
						"Iraklion":
							["Perdikokoryfi","Epanosifis"],
						"Kastoria":
							["Ipsoma Papathanasiou"],
						"Kozani":
							["Zoodohos Pigi","Flamouria","Vermio Eressos-Lefkes"],
						"Lakonia":
							["Rachi Gkioni","Tourla","Koupia"],
						"Magnisia":
							["Alogorachi"],
						"Messinia":
							["Agios Athanasios","Amygdalitsa"],
						"Rethimni":
							["Kouloukonas"],
						"Serrai":
							["Mikri Toumpa"],
						"Voiotia":
							["Viotia","Maristi","Ptoon","Loggos"],
						"Blank":
							["Kerveros","Patriarchis","Trikorfo","Achladotopos","Modi II","Antia A","Makrirachi A","Makrirachi B","Antia B","Skopies","Kos","Leros","KALOGIROS","Modi III"]
					},
				"Italy":
					{
						"Agrigento":
							["Durra","Malvizzo","Narbone","Monte Petrasi","Lago Arancio","Rocca Ficuzza","Cattolica"],
						"Avellino":
							["Lacedonia","Conza"],
						"Benevento":
							["Monte Iardino","Noce Verde","Circello","Montefalcone","San Giorgio La Molara 2"],
						"Brindisi":
							["Erchie"],
						"Caltanisetta":
							["Butera"],
						"Campobasso":
							["Monte Mele"],
						"Catania":
							["Vizzini","Mineo","Licodia Eubea","Ennese-Ramacca-Radusa-Castel Judica"],
						"Catanzaro":
							["Piano di Corda","Cortale","Piano di Corda II","Sambuco"],
						"Chieti":
							["San Giovanni Lipioni"],
						"Cosenza":
							["Marco Aurelio Severino I"],
						"Crotone":
							["Isola di Capo Rizzuto","San Francesco","Isola di Capo Rizzuto Ampl.","Sant´Anna","Ciro"],
						"Foggia":
							["Taverna La Storta Nord","Taverna La Storta Sud","Serra del Vento Nord","Serra del Vento Sud","Castelluccio","Ascoli Satriano","Ortanova","Troia","AW2"],	
						"Grosseto":
							["Poggi Alti"],
						"Isernia":
							["Montarone - Vastogirardi 1","Frosolone","Acqua Spruzza II","Montarone II - Vastogirardi 1","Serra Chiapponi - Roccamandolfi","Piano dell'Agnello","Serra Tre Confini - San Pietro Avellana"],
						"L'Aquila":
							["Pietrafita"],
						"Messina":
							["Alcantara Nord","Alcantara Sud","Nebrodi Nord","Nebrodi Est","Nebrodi Ovest"],
						"Palermo":
							["Serra Marroco - Nicosia","Monte Zimarra - Gangi","Cozzo Vallefondi","Contrada Colla - Caltavuturo","Sclafani Bagni","Marineo","Prizzi Corleone A","Palermo","Caccamo","Cozzo del Lupo - Cerda","Lercara","Petralia Sottana","Alia Sclafani","Prizzi Corleone B"],
						"Pescara":
							["Colle della Selva - Campolieto 2"],
						"Potenza":
							["Monte Cute I","Monte Cute II","Banzi","Forleto Nuovo II","Vaglio","Vaglio IR","Lucus Power","Tolve","Serra Energie-Tolve 2","Wincap"],
						"Reggio Calabria":
							["Piani di Lopa - Bagaladi","Campi di Sant Antonio - Bagaladi","Aria del Vento"],
						"Sassari":
							["Sa Turrina Manna - Tula","Florinas","Tula 2","Sassari-Altanurra","Sedini - Littgheddu","Tula 1 Ampliamento"],
						"Siracusa":
							["Carlentini","Carlentini II"],
						"Taranto":
							["Laterza","Laterza II"],
						"Trapani":
							["Trapani","Alcamo","Mazara del Vallo"],
						"Vibo Valentia":
							["Serra Pelata I","Serra Pelata II"],
						"Blank":
							["San Gregorio Magno","Portoscuso","Melfi","Bosco Le Piane","Cerreto","Tricarico","Castel Franco","IT-AFFI_MONTE_D","IT-ARIANO_IRP10","IT-ARMO10000000","IT-ASCOLI_SAT10","IT-ASCOLI_SAT20","IT-BISACCIA1000","IT-BRIENZA10000","IT-BUSETO100000","IT-CASTELPAGA10","IT-COLLE_SANNIT","IT-CONTRADA_C10","IT-FAETO1000000","IT-FOGGIA100000","IT-GINESTRA1000","IT-MAIDA1000000","IT-MAIDA3000000","IT-MAIDA4000000","IT-MANET_ASCO10","IT-MAZARA_COPO1","IT-MAZARA_LIPPO","IT-MIMIANI10000","IT-MINERVINO_MU","IT-MINERVINO_SO","IT-MISTRETTA100","IT-MONTE_ALTI10","IT-MONTE_MESA10","IT-MONTICELLI10","IT-ORDONA100000","IT-PIETRAGALLA1","IT-PIETRAMONT10","IT-PORTELLA_PER","IT-RAGUSA100000","IT-SAN_MARCO100","IT-SAN_MARTINO1","IT-SAVIGNANO_I1","IT-SAVIGNANO_I2","IT-SCAMPITELLA1","IT-SERRACAPRI10","IT-SIMERI_CRICH","IT-TORRE_DI_RUG","IT-TROIA-SAN-V2","IT-TROIA-SAN-VI","IT-TURSI_E_COLO","IT-V_D_V_MAZAR1","IT-VALLATA10000","IT-VENTI_DI_N10"]
					},
				"Jordan":
					{
						"Ma'an":
							["Maan","INACTIVE Ampl. Maan","Al Rajef"]
					},
				"Kenya":
					{
						"Nairobi":
							["Ngong II"]
					},
				"Mauretania":
					{
						"Dakhlet Nouadhibou":
							["Boulenouar"],
						"Nouakchott":
							["Nouakchott"]
					},
				"Mauritius":
					{
						"Blank":
							["Plaine des Roches"]
					},
				"Morocco":
					{
						"Laayoune-Boujdour":
							["Laayounne"],
						"Marrakesch-Tensift-E":
							["Essaouira"],
						"Tanger-Tétouan":
							["Tetouan","Tanger I&II","Tetouan Ext. II & III","Tetouan III"],
						"Blank":
							["Haouma","Foum El Oued","Tarfaya","Aftissat Boujdour","Midelt"]
					},
				"Portugal":
					{
						"Algarve":
							["Corte dos Álamos"],
						"Ave":
							["Fafe"],
						"Beira Interior Norte":
							["Videmonte - Serra do Ralo","Pisco & Sao Gens"],
						"Beira Interior Sul":
							["Penamacor III A","Penamacor I","Enerfer I"],
						"Dão-Lafoes":
							["Alto Monção"],
						"Douro":
							["Nave,Mourisca"],
						"Grande Lisboa":
							["Fanhões I","Fanhões II","Arruda","Sobral","Catefica","Amaral","Caldas","Fanhões III"],
						"Minho-Lima":
							["Fafe Ampl."],
						"Oeste":
							["Sardinha"],
						"Tâmega":
							["Alvao"],
						"Blank":
							["PT-ALTO_DOS_F10","PT-ANCORA_MOIME","PT-ANCORA_SERNA","PT-ANCORA_TRES_","PT-CABECO100000","PT-CADAFAZ10000","PT-CASTANHEIRAS","PT-COSTA-VICENT","PT-GUARDAO10000","PT-IBERWIND_BOR","PT-IBERWIND_CAN","PT-IBERWIND_CHA","PT-IBERWIND_LOU","PT-IBERWIND_TOD","PT-MOSTEIRO1000","PT-PENA_SUAR100","PT-PENACOVA1000","PT-PICOS_VALE_D","PT-PICOS_VERDES","PT-RAPOSEIRA100","PT-RIA_BLADES10","PT-RIBAMAR10000","PT-SERRA_ALTA10","PT-TAROUCA10000","PT-TEIXERO10000","PT-VALERIOS1000","PT-VILA_LOBOS10","PT-CELA-NAZARE1","PT-TORRAO100000","PT-VALE_GRANDE1"]
					},
				"South Africa":
					{
						"Blank":
							["Jeffreys Bay","Sere","Noupoort","Loeriesfontein 2","Khobab","Kangnas","Perdekraal"]
					},
				"Spain":
					{
						"Alava":
							["Elgea","Elgea Ampl.","Elgea Urkilla"],
						"Albacete":
							["Virgen de los Llanos I","Higueruela","Capiruza I Ampl.","Virgen de los Llanos II","Cerro de la Punta","Virgen de Belén Ampl.","Las Hoyuelas","Muela Tortosilla","La Silla","Cuerda","Virgen de Belén I & II","Malefatón","Pozocañada","La Losilla","Molar de Molinar","Sierra de la Oliva","Muela de Pétrola","Moralejo I","Moralejo II","Cerro Vicente","La Pinilla","Cerro Revolcado","Malefatón II","Atalaya de la Solana","Morrablancar","Capiruza I","Capiruza II","Campollano-CabañaLezuzaGramalPortachuelo","Fuente de la Arena","Dehesa Virginia","El Relumbrar","El Romeral","El Romeral Ampl.","Sabina","Carcelen","Sierra Quemada","Isabela"],
						"Almeria":
							["Las Perdices","Carrascal II","Carrascal I","Cerradilla I","Cerradilla II","Nacimiento","Tacica de Plata","Serón I","Serón II","Enix","Santa María de Nieva I y II","Tíjola","Loma de Ayala","Tres Villas","Jarales","Las Lomillas"],
						"Asturias":
							["Belmonte","Sierra de los Lagos","Sierra de Acebo","Sierra de La Cuesta-Asturias","La Bobia","Penouta","Curiscao"," Baos y Pumar","Alto de Abara","Peña Cuervo","Carondio","Las Grallas","","Curiscao"," Baos y Pumar Ampl.","Sierra de los Lagos Ampl.","Pico Gallo","El Segredal","El Candal","La Bobia San Isidro 9-NUEVA","Cordel y Vidural"],
						"Avila":
							["Voltoya I - Ojos Albos","Voltoya I - Cruz de Hierro","Aldea Vieja","Voltoya I - Avila","Valpardo","Las Navas del Marqués","Valdihuelo","Lanchal","Pucheruelo"],
						"Baleares":
							["Es Milá"],
						"Burgos":
							["El Canto I","Mazorras-Peña Alta y La Torada","El Cerro Burgos","Urbel del Castillo II","Brújula Rodilla LlanosMartin Veleta","La Gamoneda","Corral Nuevo","El Canto Ampl.","Mazorras (Peña Alta y La Torada) Ampl.","El Cerro Ampl.","Arlanzón-Villoruebo y Villamiel","Rabinaldo","Valdeporres","La Magdalena","Montejo","Bureba","Cerro Blanco","El Carril I","El Sombrío","La Cotera","Las Viñas","Páramo de Vega","Coterejón II","El Canto II","El Carril II","Alto de la Degollada","Quintanilla","Cogollos II","Los Castríos","Montija","La Sía","","Los Llanos de Hontoria","Quintanilla Sobresierra","El Canto III","Ballestas y Casetona","Fuente Blanca"],
						"Caceres":
							["Sierra de Merengue"],
						"Cadiz":
							["Tarifa","Almendarache","Loma de Almendarache y El Pandero","Doña Benita Cuéllar","Zorreras","Bolaños","Alburejos","Isletes","Venzo","Chorreaderos Altos","Chorreaderos Bajos","La Torre","Puerto Facinas","Monteahumada","Tahivilla","Los Lances","Granujales","Alijar II","El Marquesado","Los Isletes Siemens","La Estancia"],
						"Cantabria":
							["Cañoneras I","Cañoneras II"],
						"Castellon":
							["Mazorral","Cerro Rajola","Alto Casillas I","Alto Casillas II","Alto Palancia II","Alto Palancia I","Alto Palancia III"],
						"Ciudad Real":
							["Alhambra - Cristobailones","El Moral"],
						"Cuenca":
							["Chumillas","Cruz","Mira","Monte Molón","Campalbo","El Escepar","Peralejo","Carrascosa","Pico Collalbas","Muela Cubillo","Escepar Ampl.","Villamayor","Peralejo Ampl.","Barchín"],
						"Granada":
							["Loja-Cueva Dorada y Sillones","El Conjuro II","El Conjuro I","Dólar I","Dólar III","Hueneja III","Ferreira II","Los Morrones"],
						"Guadalajara":
							["Maranchón I","Maranchón IV","Maranchón Sur","Clares","Cabezuelo","Escalón","Luzón Norte","Somolinos","Campisábalos","Hijes","Cantalojas","Grado","Canredondo","Sierra Menera","La Esperanza","El Guijo I","El Guijo II","Dos Pueblos","El Chaparro"],
						"Huelva":
							["El Sardon","El Granado","Tharsis","Valdefuentes","Majal Alto","El Centenar","Los Lirios","Tallisca","El Saucito","Las Cabezas","La Retuerta"],
						"Huesca":
							["Tardienta I","Tardienta II","Valiente","El Balson"],
						"Jaen":
							["Sierra del Trigo"],
						"La Coruña":
							["Coriscada","Castelo","Pedregal Tremuzo Ampl.","Forgoselo","Serra da Loba","Monte Treito","Pedregal Tremuzo","Serra da Panda","Padrón","Inditex","Touriñán IV","Serra da Loba Ampl. Peña Revolta","Monte Rande","Barbanza","A Capelada","Peña Galluda - Larachaaladoira","Muxia","Coto Teixido","Zas","Serra da Panda-G97"],
						"La Rioja":
							["Yerga I","Cabimonteros - Sierra de la Hez","Yerga II","Alcarama I","Alcarama II","Igea","Munilla","Larriba","Préjano","Munilla II","Gatún I","Gatún II","Escurrillo"],
						"Las Palmas":
							["Pesbán","Agüimes","Los Valles","Salinas del Matorral","Corralejo","La Florida","Salinas del Matorral Ampl.","Agaete","Agragua","Arinaga","Cañada de la Barca-Fuerteventura","Gando","San Antonio","Santa Lucia","Tirajana","Arinaga Prototipo Offshore","Alisio","ELICAN"],
						"Leon":
							["Redondal II","Redondal I","Valdecarrión","Era del Pico","Argañoso","La Cueza","Valdeperondo","Valdesamario","La Espina"],
						"Lerida":
							["Montargull & Montargull Ampl."],
						"Lugo":
							["Muras I","Goia Peñote II","Muras II","Pena Ventosa y Chan do Tenón","Sotavento","INAC Leboreiro","Viveiro","Goia Peñote","Sierra de Meira","A Farrapa","Pousadoiro","Ourol","Alto do Seixal","Montouto","Sotavento MADE","Leboreiro","Monciro","Pastoriza Rodeiro","Serrago-Vacariza","Serra das Penas","Paradela","Neda"],
						"Malaga":
							["Casares - Los Llanos","Casares - Los Llanos Ampl.","Sierra de Aguas","La Escalereta y La Nava","Cerro Durán","El Álamo","Puerto Málaga Ampl.-Sierra de Baños","Puerto Málaga","Cantalejos y La Cuesta-Málaga","Llanos del Espino","Cerro Gavira","El Puntade la Higuera","Cortijo Linera","Altamira","Sierra de Aguas Ampl.","Barrancos","La Cámara","Angosturas","Madroñales","Los Arcos","La Escalereta"],
						"Murcia":
							["Sierra de Ascoy","Sierra de Ascoy Ampl.","Sierra del Buey","Gavilanes Ampl.","Reventones","Almendros II","La Unión","La Tella","Las Cabras"],
						"Navarra":
							["El Perdón","Aritz-Leitza","Lerga","San Martin","Leoz","Echagüe","Alaiz","Izco","Aibar","Salajones","Peñablanca","Ampliación Lerga","San Esteban","Sierra Selva","San Esteban II B","Las Llanas","Aizquibel","Villanueva","Ampliación Alaiz","Ampliación Aibar","Ibargoiti-Prot. VG52","Peñablanca II","Sos","Aizquibel Fase II","San Esteban Ampl.","Uzkita","Peñablanca-Prot. G52","DESMONTADO Alaiz I+D Las BalsasG128 4.5","DESMONTAAlaiz I+D Balsas 04 G114 2","625MW","DESMONTADO Alaiz I+D Las Balsas G87","Alaiz I+D Las Balsas pos03 G122 2.1MW","Llanos de Codés","NO ACTIVO Alaiz I+D Las Balsas 05 G128","El Valle","Alaiz I+D Las Balsas pos05 G132 5MW","DESMONTADOAlaiz I+D Las Balsas po04 G126","DESMONTADOAlaiz I+D LasBalsas pos01 G132","Acciona offgrid","Cavar","Alaiz I+D Las Balsas pos02 G145 4.200Mw","Alaiz I+D Las Balsas-India pos01 G132"],
						"Orense":
							["Sil Ampl. I","Sil Ampl. II","Meda I","Sil","Serra do Burgo","Peña da Cruz","Serra do Larouco I","Meda II","Serra do Larouco II","Peña da Cruz Ampl.","Serra do Burgo Ampl.","Nogueira","O Vieiro"],
						"Palencia":
							["El Pical","Carrasquillo","Valbonilla","Navazo","Teruelo","Chambón","Dueñas","Angostillos","Encinedo","Grijota","Dehesa Tablares","Cuadrón","Hornillos","Páramo de Angostillos","Celada I","Celada V","Esquileo + Dehesilla I y II","Dos Picos","Tres Picos","El Rasorra","Peña Miján","Las Tadeas"],
						"Pontevedra":
							["Monte Seixo","Serra do Cando","Singular Monte do Ceo","Monte Seixo Ampl. Outeiro do Coto","As Ameixeiras","Serra do Cando Ampl. Outeiro do Coto","Mas Galán","Monte CarrioMonte Arca"],
						"Salamanca":
							["Sierra Dueña","Bandeleras","Rodera Alta"],
						"Segovia":
							["Voltoya II - Villacastín","Piedras del Alto","Voltoya II - Cruz de Hierro Ampl."],
						"Sevilla":
							["La Gomera","Palomarejo","La Gomera II"],
						"Soria":
							["Toranzo","El Tablado","Toranzo II","Tarayuela","Sierro","Hontalbilla I","Hontalbilla II","Bordecórex","Canalejas","Los Campillos","Morón de Almazán","Portelrubio","Layna","Radona I","Radona II","Bullana","Zorraquín","Ventosa del Ducado","Castilfrio","El Cayolas","Sierra del Cortado","El Madero","Urano","Parideras","Castil de Tierra","Sierra Ministra"],
						"Sta. Cruz Tenerife":
							["Arico - Llanos de la Esquina","Finca de Mogán-Arico","Fuencaliente","La Epina","Juan Adalid-Garafia","Apto. La Palma","Punta de Teno","Icor","Bermejo y Vera de Abote","Chimiche II"],
						"Tarragona":
							["Les Colladetes I","Les Colladetes II","Les Forques","Conesa I","Conesa II","Savallá II","Collet Dels Feixos","Mas de la Potra","Tortosa","Les Forques II","Conesa I Fase II","Ecovent"],
						"Teruel":
							["San Agustín","Valdeconejos","Sierra Costera","Puerto Escandón","La Torrecilla","La Torrecilla II","Puerto","Escucha","Escucha - San Just","Puerto - Trinidad","Sierra de Oriche","Los Gigantes"],
						"Toledo":
							["Sierra Romeral","Sierra Romeral Ampl.","Cabeza de Conde","Cerro Moreno","La Plata","Cerro de la Oliva","La Plata Ampl."],
						"Valencia":
							["La Cabrera","La Cabrera I","La Cabrera II","La Cabrera II Ampl.","La Solana","El Mulatón","Las Bodeguillas","Rincón de Cabello","Viudo II","Cerro Negro"],	
						"Valladolid":
							["San Lorenzo D","San Lorenzo C","Poleo","Carrecastro","Corral Nuevo - Torozos 2","Panaderas","Navillas"],
						"Vizcaya":
							["Puerto de Bilbao","Oiz","Oiz Ampl."],
						"Zamora":
							["Padornelo Ampl. G90","Aguallal","Sistral","San Ciprián","Labradas","La Gamoneda Ampl.","Aguallal Ampl.","Valmediano","Cinseiros","Hedroso Aciberos","Padornelo","Labradas Ampl.","Lubián","Hedroso Prototipo H-G87","Villalazán","Padornelo Ampl. G87","Lubián IIedroso Aciberos Ampl.","Peña Nebina","Valdelanave","Sierra Sesnández"],
						"Zaragoza":
							["Borja I","La Plana III-La Muela","El Pilar","Planas de Pola - Remolinos","Planas de Pola - Tauste","La Plana III Ampl.","La Serreta I","La Plana II -Mas Garullo","Los Visos","La Plana I - I+D","La Serreta II","Sos Ampl.","Campo de Borja","Boquerón","La G52","Borja II","Atalaya","La Plana I G80","Monteros","Bayo","Boquerón II","La Muela Norte","Fuendetodos I","Sierra de la Virgen","La Plana I I+D Ampl. G80","Boquerón Ampl.","Saso Plano","Entredicho","Fuendetodos II","Almarén - Sierra de la Virgen Ampl.","San Cristobal de Aguilón","I+D Cabezo Negro","El Bayo MADE","San Juan de Bargas","Atalaya MADE","Tarazona","La Muela II","La Muela III","Aragón","I+D El Boyal I y II","La Plana I G97","El Espartal","I+D Jaulín","Campoliva II","Primoral","Puylobo","I+D El Boyal III","Frescano","Tinajeros","Agón","La Nava","Los Cierzos","Coscojar II","La Peña","Santo Domingo de Luna","Loma Gorda","Pradillo","Campoliva I","Pedrola.","Tablares","El Aguila II","Sotillo"],
						"Blank	":
							["Casa","Tijola","La Noguera","Las Vegas","Los Isletes","La Fatarella","Piletas"]
					},
				"Tunisia":
					{
						"Bizerte":
							["Bizerte I-Metline-Kchabta","Bizerte II-Metline Ampl.-Kchabta Ampl."],
						"Nabeul":
							["Sidi Daoud I","Sidi Daoud II","Sidi Daoud III"]
					}
			}
		}
tmdl = {"SG <1.X MW":
			{
				"1.XESS":
				["GE-1.85-87"],
				"Bonus":
				["SS62"],
				"Ecotecnia":
				["EC74","EC80"],
				"G1":
				["BE-0.055","BE-0.095","BE-0.15","BE-0.25","BE-0.3","BE-0.45","BE-0.5","BE-0.6","SWT-0.6-44","SWT-1.0-54","SWT-1.0-54","SWT-1.3-62"],	
				"G2":
				["SWT-2.415-108"],
				"G4X":
				["GWT-0.6-G42","GWT-0.6-G44","GWT-0.7-G47","GWT-0.7-I47"],		
				"G5X":
				["GWT-0.8-G52","GWT-0.8-G52R","GWT-0.8-G58"],		
				"GE Energy":
				["15S,15SL"],
				"Made":
				["AE23","AE30","AE32","AE46","AE52","AE56","AE59","AE61"],			
				"Neg Micon":
				["NM43"],			
				"Nordex":
				["AW77","N62"],					
				"Nordtank":
				["NT37","NT39"],					
				"OTROS":
				["NM4X"],	
				"Senvion":
				["48/600/75","48/750/75","MD70/65","MD70/85","MD77/100","MD77/111.5","MD77/112","MD77/61.5","MD77/65","MD77/80","MD77/85","MD77/90","MD77/96","5"],	
				"Vestas":
				["OV42","OV47","V25","V39","V42","V44","V47","V52","V66"],	
				"VXX":
				["V47-0.66","V39-0.50"]		
			},
		"SG 2.X MW":
			{
				"2.XM":
				["MM92-2.0"],	
				"Bonus":
				["SS62"],			
				"D3":
				["SWT-2.3DD-113"],	
				"G1":
				["SWT-2.0-76","SWT-2.3-82"],	
				"G2":
				["SWT-2.3-101","SWT-2.3-108","SWT-2.3-82","SWT-2.3-82 VS","SWT-2.3-93","SWT-2.5-108","SWT-2.625-120","SWT-2.75-129"],	
				"G8X":
				["GWT-.0-G80","GWT-.0-G87","GWT-1.5-G80","GWT-1.6-G80","GWT-1.8-G80","GWT-2.0-G80","GWT-2.0-G83","GWT-2.0-G87","GWT-2.0-G90"],		
				"G9X":
				["GWT-.0-G97","GWT-2.0-G87","GWT-2.0-G90","GWT-2.0-G97","GWT-2.0-G9X","GWT-2.1-G97"],		
				"OTROS":
				["SS6X","SS93","SZ88","SZ95","SZ97"],	
				"S88":
				["S88-2.1","S95-2.1"],			
				"Senvion":
				["MM100/100","MM100/75","MM100/76","MM100/76.5","MM100/80","MM70/55","MM70/65","MM82","MM82/100","MM82/59","MM82/69","MM82/80","MM82/85","MM92","MM92/100","MM92/64","MM92/68","MM92/68.5","MM92/69","MM92/74.5","MM92/76","MM92/76.5","MM92/78","MM92/78.5","MM92/80","MM92/88.5","MM92/89","MM92/94"],	
				"SG2.1":
				["GWT-0.1-G122","GWT-2.0-G114","GWT-2.1-G114","GWT-2.1-G122","GWT-2.2-G122","GWT-2.6-G114"],	
				"SG2.6":
				["GWT-2.5-G114","GWT-2.5-G126","GWT-2.6-G114","GWT-2.6-G126"],	
				"Vestas":
				["V80"],	
				"VXX":
				["V90-2.0"]			
			},	
		"SG 3.X MW":
			{
				"3.XM":
				["M104-3.4","M114-3.4"],	
				"D3":
				["SWT-3.0-101","SWT-3.0-108","SWT-3.0-113","SWT-3.15-142","SWT-3.2-101","SWT-3.2-108","SWT-3.2-113","SWT-3.3-130","SWT-3.4-101","SWT-3.4-108","SWT-3.6-130","blank"],	
				"G4":
				["SWT-3.6-107","SWT-3.6-120","blank"],
				"Made":
				["A116"],
				"OTROS":
				["SS6X","SS93"],
				"Senvion":
				["3.0M/119","3.0M/139","3.0M/89","3.0M/90","3.2M/119NES","3.2M/123","3.2M/139NES","3.2M/143","3.2M/90","3.2M/93","3.2M123","3.4M/100","3.4M/110NES","3.4M/116.5","3.4M/119","3.4M/119NES","3.4M/128","3.4M/130EBC","3.4M/139NES","3.4M/143","3.4M/73","3.4M/76.5","3.4M/78","3.4M/80","3.4M/93","3.4M/93NES","3.4M/96","3.4M/96","5","3.4M/97","3.4M/98","3.4M76.5","3.6M/110","3.6M/110EBC","3.6M/130EBC","3.6M/132EBC","3.6M/93NES","3.6M/99NES","3.7M/110EBC"],		
				"SG3.X":
				["GWT-3.0-G132","GWT-3.3-G132","GWT-3.4-G132","GWT-3.5-G132","GWT-3.6-G132","GWT-3.7-G132"]
			},
		"SG 4.X MW":
			{
				"Adwen":
				["AD5-116","AD5-135"],	
				"D3":
				["SG-4.3-120DD","SWT-3.3-130","SWT-3.9-142","SWT-4.1-142","SWT-4.2-130","SWT-4.3-130"],	
				"G10X":
				["GWT-4.5-G128","GWT-5.0-G10X","GWT-5.0-G128"],	
				"G4":
				["SWT-4.0-120","SWT-4.0-130","SWT-4.0-146"],	
				"OTROS":
				["G10X"],	
				"Senvion":
				["4.2M/130EBC","4.2M/93NES"],	
				"SG4.X":
				["GWT-4.2-G145","GWT-4.5-G132","GWT-4.5-G145","GWT-4.8-G132","GWT-4.8-G145","GWT-5.0-G132"]	
			},
		"SG >5.X MW":
			{
				"6.XM":
				["M152-6.2"],				
				"Adwen":
				["AD8-180"],	
				"D6":
				["SWT-10.0-193","SWT-6.0-120","SWT-6.0-154"],
				"D7":
				["SWT-7.0-154"],
				"D8":
				["SWT-8.0-154","SWT-8.0-167"],
				"Senvion":
				["6M/117"]
			},	
		"Others":
			{
				"Made":
				["AE32"],	
				"OTROS":
				["NM4X","SZ88"],
				"SG2.1":
				["GWT-.0-G114","GWT-.0-G122"],
				"SG2.6":
				["GWT-.0-"],
				"SG3.X":
				["GWT-.0-G132"],
				"Vestas":
				["V47","V66"]
			}
		}
supp = {"Composite_Siemens_Design":
			{
				"Blades":
				["LM","Gamesa","Siemens","TPI","Other"]
			},
		"Composite_Gamesa_Design":
			{
				"Blades":
				["LM","Gamesa","Siemens","TPI","Other"]
			},
		"Mechanical":
			{
				"Gearbox":
				["Hansen/ZF","Winergy","Gamesa","Other (specified in comments)"],
				"Blade_Bearings":
				["Laulagun","Hutchinson","Other"],
				"Main_Shafts":
				["Specified in comments"],
				"Other":
				["Specified in comments"],
			},
		"Electrical":
			{
				"Generator":
				["ABB","Cantarey","Winergy","Indar","Other"],
				"Transformer":
				["ABB","Other"],
				"Converter":
				["ABB","Ingeteam","DAC","Converteam", "Other"]
			},
		"Drones":
			{
				"Other":
				["Other"]
			},
		"Planning USA":
			{
				"Other":
				["Other"]
			}, 
		"Planning Canada":
			{
				"Other":
				["Other"]
			}
			
		}

$(document).ready( function()
{
	loadCheck();
	userLimit = [];
	if(!localStorage.getItem("updated0")){ logout();}
});
function liveRefresh()
{
	// return
	var loc = window.location.href;
	// if(loc.includes("localhost"))
	if(loc.includes("192."))
	{
		var imported = document.createElement('script');
		imported.src = 'js/live.js';
		document.head.appendChild(imported);
		
	}
	else
	{
		if(location.protocol !== 'https:'){location.replace(`https:${location.href.substring(location.protocol.length)}`);}
	}
}
function resSet()
{
	var width = document.getElementById('middleArea').offsetWidth;
	var mainMid = document.getElementById('mainMiddleContent');
	var copyLine = document.getElementById("copyright");
		
	if(width < 1300)
	{
		copyLine.style.float  = "none";
		copyLine.style.marginRight   = "0px";
		resType = "t";
	}
	else
	{
		copyLine.style.float  = "right";
		copyLine.style.marginRight   = "20px";
	}
	
	centerer(document.getElementById("wa"));
	centererLogin(document.getElementById("loginBox"));
        
}
window.onmousedown = function (e) 
{
    var el = e.target;
    if (el.tagName.toLowerCase() == 'option' && el.parentNode.hasAttribute('multiple')) {
        e.preventDefault();

        // toggle selection
        if (el.hasAttribute('selected')) el.removeAttribute('selected');
        else el.setAttribute('selected', '');

        // hack to correct buggy behavior
        var select = el.parentNode.cloneNode(true);
        el.parentNode.parentNode.replaceChild(select, el.parentNode);
    }
}
function loadCheck()
{

	specialForm = "";
	
	
	makeBoxpand("techiAdminBS","Manage users","Manage users", 1);
	makeBoxpand("techiSearchBS","Search users","Search users", 0);
	makeBoxpand("reqsAdminBS","Requests creation","Requests creation", 1);
	makeBoxpand("reqSearchBS","Requests search","Requests search", 0);
	makeBoxpand("logSearchBS","Buscar Log de Movimientos","Buscar Log de Movimientos", 1);
	
	
	makeBoxpand("reqsUPAdminBS","Support requests","Support requests", 1);
	makeBoxpand("reqUPSearchBS","Support requests search","Support requests search", 0);
	
	makeBoxpand("podSearchBS","Search filters","Search filters", 1);
	makeBoxpand("ocreateAdminBS","Proposal manager","Proposal manager", 1);
	makeBoxpand("podCreateAdminBS","Project reports","Project reports", 1);
	makeBoxpand("orderSearchBS","Search filters","Search filters", 0);
	makeBoxpand("reportsSearchBS","Search Filters","Search Filters", 1);

	ltt1 = "Creation";
	ltt2 = "Edition";
	ltt3 = "Deletion";
	ltt4 = "Access";
	ltt5 = "Password change"
	ltt6 = "Clone"
	
	actualEtype = "";
	actualDCODE = "";
	actualQCODE = "";
	profileCounter = 0;
	
	actualHoursTurbData = "";

	
	clientSaveButton = document.getElementById("clientSaveButton");
	sucusavebutton = document.getElementById("sucuSaveButton");
	maquiSaveButton = document.getElementById("maquiSaveButton");
	techiSaveButton = document.getElementById("techiSaveButton");
	reqSaveButton = document.getElementById("reqSaveButton");
	actiSaveButton = document.getElementById("actiSaveButton");
	inveSaveButton = document.getElementById("inveSaveButton");
	orderSaveButton = document.getElementById("orderSaveButton");
	orderSaveButtonCL = document.getElementById("orderSaveButtonCL");
	
	actualLegState = "0" ;

	a_clients_targets = ["a-clientName", "a-clientManager", "a-clientNit", "a-clientNature", "a-clientPhone", "a-clientAddress", "a-clientEmail", "a-clientLocation"];
	f_clients_targets = ["f-clientName", "f-clientNit", "f-clientEmail"];
	
	a_techi_targets = [ "a-techiName", "a-techiEmail", "a-techiCat","uGID", "uPos", "emContact", "uPhone", "uTruck", "uPlate", "uModel", "uHdate", "uGTI"];
	
	a_req_targets = [ "a-reqDate", "a-reqAutor", "a-reqWindfarm","a-reqDetail", "a-reqTechs", "a-reqProvided", "a-reqDays", "a-reqAutor2", "a-reqType", "a-reqState", "a-reqComments"];

	f_req_targets = ["f-reqType","f-reqWindfarm", "f-reqDistrict", "f-reqProvided", "f-reqNum", "f-reqInidate", "f-reqEndate"];
	
	// ---
	a_reqUP_targets = [ "a-reqUPProvided", "a-reqUPAutor", "a-reqUPDate","a-reqUPWindfarm", "a-reqUPTypeProp", "a-reqUPAddress", "a-reqUPturbNum", "a-reqUPcaseNum", "a-reqUPpm", "a-reqUrequired", "a-reqUplat", "a-reqUtowH", "a-reqUComponent", "a-reqUbrand", "a-reqUSN", "a-reqUtState", "a-reqUtool", "a-reqUpart", "a-reqUDesc", "a-reqUComments"];
	
	f_reqUP_targets = ["f-reqUPType","f-reqUPWindfarm", "f-reqUPspeciality", "f-reqUrequired", "f-reqUPNum", "f-reqUPInidate", "f-reqUPEndate"];
	// ---

	f_techi_targets = ["f-techiCat", "f-techiName", "f-techiLocation"];
	f_sch_targets = ["f-schTechiCat", "f-schTechiName", "f-schTechmail"];
	
	f_pod_targets = ["f-quoteParent", "f-podWindfarm", "f-pdistrict", "f-podSO", "f-podWO"];
	
	a_orde_targets = ["a-ptype","a-orderParent", "a-orderAddress", "a-orderContact1", "a-orderPhone1", "a-orderContact2", "a-orderPhone2", "a-orderWindFarm","a-platform", "a-orderWindFarmType","a-Department", "a-reqTypeProp", "a-orderDetail"];
	
	a_pod_targets = ["a-quoteParent", "a-podWF", "a-podSO", "a-podWO", "a-podCO", "a-podPO", "a-podG4", "a-podInidate", "a-podType", "a-podPlatform", "a-podTow", "p-Department", "p-reqTypeProp","a-projectWindFarmType", "a-podDetail"];
	
	f_orde_targets = ["f-orderType","f-orderParent", "f-orderWindFarm", "f-orderStatus", "f-orderTurbine", "f-orderDetail"];
	
	f_log_targets = ["f-logResp", "f-logInidate", "f-logEndate", "f-logType", "f-logTarget","f-logMove"];
	
	
	
	var areaPicker = document.getElementById("areaPicker");
	areaPicker.focus()
	
	// GET AREAS LIST
	var areas = Object.keys(wfloc);
	// FILL AREAS LIST
	areaPicker.innerHTML = "";
	
	var option = document.createElement("option");
	option.value = "";
	option.innerHTML = "Select area";
	areaPicker.appendChild(option);
	
	for(var i=0; i<areas.length; i++)
	{
		var item = areas[i];
		var option = document.createElement("option");
		option.value = item;
		option.innerHTML = item;
		areaPicker.appendChild(option);
	}
	
	var tPlatformPicker = document.getElementById("tPlatformPicker");
	tPlatformPicker.focus()
	
	// GET PLATFORM LIST
	var plaforms = Object.keys(tmdl);
	// FILL PLATFORM LIST
	tPlatformPicker.innerHTML = "";
	
	var option = document.createElement("option");
	option.value = "";
	option.innerHTML = "Select platform";
	tPlatformPicker.appendChild(option);
	
	for(var i=0; i<plaforms.length; i++)
	{
		var item = plaforms[i];
		var option = document.createElement("option");
		option.value = item;
		option.innerHTML = item;
		tPlatformPicker.appendChild(option);
	}
	
	var reqSupSpeciality = document.getElementById("a-reqUPProvided");
	var reqSupSpecialityF = document.getElementById("f-reqUPspeciality");
	
	// GET PLATFORM LIST
	var specialities = Object.keys(supp);
	// FILL PLATFORM LIST
	reqSupSpeciality.innerHTML = "";
	reqSupSpecialityF.innerHTML = "";
	
	var option = document.createElement("option");
	option.value = "";
	option.innerHTML = "Select speciality";
	reqSupSpeciality.appendChild(option);
	reqSupSpecialityF.appendChild(option.cloneNode(true));
	
	for(var i=0; i<specialities.length; i++)
	{
		var item = specialities[i];
		var option = document.createElement("option");
		option.value = item;
		option.innerHTML = item;
		reqSupSpeciality.appendChild(option);
		reqSupSpecialityF.appendChild(option.cloneNode(true));
	}
	
	
	
	
	
	platsList = ["ALL","D3","G1","G2","GE 1.5","G5X","G80","G83","G87","G90","G97","G114","G126","G132","G145","G2","G2/D3","G52","G58","G80","G83","G87","G90","G97","GAM","V42","V47","V4X","V8X","Other"];

	
	windfarmList = ["Adair","Amherst Island","Adams County","Adelaide","Air Force","Alexander","Allegheny Ridge","Armow","Auwahi","Avangrid","Baffin","Barton Chapel","Barton Iowa","Battell Energy Alliance","Bear Creek","Big Blue","Big Horn II","Big Turtle I","Big Turtle II","Biglow II","Biglow III","Bison 1A","Bison 1B","Bison 2","Bison 3","Bison 4","Blackwell","Blue Creek","Boulder","Box Spring","Brazil","Broadview","Buffalo Gap III","Buffalo Ridge II","Cannon Power","Capricorn Ridge","Carroll","Cayuga Ridge","Cedar Point","Cerro de Hula","Champion","Chatham","Chestnut Flats","Chile","Cimarron I","Cimarron II","City of Winchester","Clearway (NRG)","Comber","Conestogo","Crossroads (D3)","Crossroads (G2)","Deerfield (G87)","Deerfield (G97)","Dempsey Ridge","Desert Wind","Duke","Eclipse","EDF","El Arrayan","El Cabo","Elbow Creek","Elk City","Ensign","Farmer City","Flexeiras","Fluvanna","Forest Creek","Fowler Ridge","Future Generation","Gaines Cavern","Garden I","Gesner","Gloucester","Grady","Golden Spread","Gosfield","Goulais","Grand Bend","Grand Renewables","Grand Valley I&II","Grand Valley III","Grant Plains","Grant Wind","Green River","Greenwich Lakes","Groton","GSG","Guajiru","Gunn’s Hill","Hackberry","Hancock (VESTAS)","Harbec","Hard Scrabble","Harvest Wind","Hatchet Ridge","Highland","Holy","Horse Hollow","Hoosier","Howard","Indian Mesa","Ironwood","Jericho","K2","Kawailoa","Kay Wind", "Keenan II","King Mountain","Kingman","Kingston","Klondike","KUMEYAAY","LATAM","Laurel","Laurel Hill","Lempster","Live Oak","Locust Ridge","Locust Ridge II","Logan's Gap","Los Vientos","Lower Snake River A","Lundgren","McBain","Macksburg","Marcona (D3)","Marcona (G2)","Medicine Bow (V42)","Medicine Bow (V47)","Mendota Hills","Mendota Hills 2","Mesgig Ugjusn (M.U.)","MESQUITE (G83)","MESQUITE (G87)","Mesquite Star","Mexico","MFG repair facility","Midway","Minonk","Mont St Marguerite","Mont Rothery","Montezuma II","Montezuma II","Morning Light","Morse","Mountain Air","Mt Storm","New Creek (G90)","New","New Harvest","Nine Canyon III","North Allegheny","Northern Colorado (Repower)","North Kent","O'Brien County","Ocotillo","OG&E","Oldman 2","Oliver (Repower)","OU Spirit","Oxley","Panhandle I","Panhandle II","Pantex","Papalote Creek II","Pattern","Patton","Pennask","Peru","PGE","Pocahontas","Pomeroy","Port Alma","Post Oak","Prairie Queen","Pratt","Providence Heights","Reading","Redbed","Reese","Record Hill", "Ridgewind", "Rock Falls","Rolling Hills","Sand Bluff","Sandy Ridge","Santa Isabel","Senate","Shinish Creek","Stillwater","Sibley Hills","Site Name","South Branch","South Chestnut","South Kent","South Trent","Spinning Spur","Spring Valley","Spruce Mountain","St. Columban","St. Joseph","Stafford Flour Mill","Stoney Corners","Summerhaven","Sunbridge","Solomon Forks","Swauk","Sweetwater 4","Sweetwater 5","Talbot","Timber Road III","Top of Iowa","Top of the World","Trairi","Tres Hermanas (D3)","Tres Hermanas (G2)","Tucannon River","Tuolumne","Twin Buttes", "Twin Ridges", "Tyler Bluff","University of Delaware","Valley View","Vasco Wind","Vienna I","Vienna II","Waverly","Wellsburg","Western Plains","Whirlwind","White Creek","Wildorado","Windstar (G80)","Windstar (G87)","Windthorst 2","Windy Flats","Winnebago","Wolfe Island","Woodward Mountain", "Other"];
	
	
	districtList = ["Aftermarket","Coastal","East","Great Plains","Iowa", "LATAM","North","NW","Ontario","TBD","Southwest","Warranty Management", "Various"];
	
	// DELETE THIS ARRAYS
	// DELETE THIS ARRAYS
	// DELETE THIS ARRAYS
	// DELETE THIS ARRAYS
	// DELETE THIS ARRAYS
	
	
	
	catsList = ["Composites", "Blade Balancing", "Blade Damage Analysis", "Blade Dynamic Testing", "Blade Inspection", "Blade Repair", "Borescope Blade", "Cleaning", "Drone Inspection", "Internal Gearbox Repair", "Main bearing inspections", "Nacelle/Hub Fiberglass Repair", "Training", "Drivetrain", "Borescope GBX", "Borescope MB", "Gearbox HSS", "Gearbox IMS", "Generator Bearings", "High Advance  Mechanical Troubleshooting", "Slew Ring", "Yaw Claw", "Electrical", "Generator Exchange", "Transformer Exchange", "BOP", "Converter", "Generator Repair", "High Advance Electrical Troubleshooting", "Medium Voltage", "Transformer Repair", "Other", "Bedframe", "Blade", "Bearing", "Brake Disc", "Hub Shroud", "Nacelle", "Nose Cone", "Rotor Shim", "Yaw Ring"]
	
	
	liveRefresh();

	aud = null;
	actualUtype = null;
	editMode = 0;
	lastStartTime = "";
	partsTotal = 0;
	partsTotala = 0;
	etimeTotal = 0;
	atimeTotal = 0;
	actisTotal = 0;
	actisTotala = 0;
	othersTotal = 0;
	othersTotala = 0;
	accessTotal = 0;
	accessTotala = 0;
	crewCount = 0;

	var budgetSelectorOrder = document.getElementById("budgetSelectorOrder");
	budgetSelectorOrder.addEventListener('change', handleFileSelectBudget, false);
	
	var budgetSelectorDay = document.getElementById("budgetSelectorDay");
	budgetSelectorDay.addEventListener('change', handleFileSelectDay, false);
	
	var budgetSelectorReq = document.getElementById("budgetSelectorReq");
	budgetSelectorReq.addEventListener('change', handleFileSelectReq, false);
	
	var budgetSelectorTr = document.getElementById("budgetSelectorTr");
	budgetSelectorTr.addEventListener('change', handleFileSelectTr, false);
	
	var budgetSelectorTurbine = document.getElementById("budgetSelectorTurbine");
	budgetSelectorTurbine.addEventListener('change', handleFileSelectTurbine, false);

	if(localStorage.getItem("lastMail")){document.getElementById("userLoginBox").value = localStorage.getItem("lastMail");}
	document.querySelector('#userLoginBox').addEventListener('keypress', function (e){var key = e.which || e.keyCode; if (key === 13){login();}});
	document.querySelector('#userPassBox').addEventListener('keypress', function (e){var key = e.which || e.keyCode; if (key === 13){login();}});
	
		
	jQuery.datetimepicker.setLocale("en");
	// jQuery('#a-orderPriority2').datetimepicker();
	jQuery('#a-resoDate').datetimepicker({ dateFormat: 'yy-mm-dd' });
	
	jQuery('#subReqDate').datetimepicker
	({
			timepicker:false,
			format:'Y-m-d',
		}).on('change', function() {
			$('.xdsoft_datetimepicker').hide();
			var str = $(this).val();
			str = str.split(".");
			
	});
	
	jQuery('#a-reqUPDate').datetimepicker
	({
			timepicker:false,
			format:'Y-m-d',
		}).on('change', function() {
			$('.xdsoft_datetimepicker').hide();
			var str = $(this).val();
			str = str.split(".");
			
	});
	
	jQuery('#turbReqStartDate').datetimepicker
	({
			timepicker:false,
			format:'Y-m-d',
		}).on('change', function() {
			$('.xdsoft_datetimepicker').hide();
			var str = $(this).val();
			str = str.split(".");
			
	});
	
	jQuery('#closeDateQuote').datetimepicker
	({
			timepicker:false,
			format:'Y-m-d',
		}).on('change', function() {
			$('.xdsoft_datetimepicker').hide();
			var str = $(this).val();
			str = str.split(".");
			
	});
	
	jQuery('#EQMDATE').datetimepicker
	({
			timepicker:false,
			format:'Y-m-d',
		}).on('change', function() {
			$('.xdsoft_datetimepicker').hide();
			var str = $(this).val();
			str = str.split(".");
			
	});
	
	jQuery('#EQDDATE').datetimepicker
	({
			timepicker:false,
			format:'Y-m-d',
		}).on('change', function() {
			$('.xdsoft_datetimepicker').hide();
			var str = $(this).val();
			str = str.split(".");
			
	});
	
	jQuery('#EQENDATE').datetimepicker
	({
			timepicker:false,
			format:'Y-m-d',
		}).on('change', function() {
			$('.xdsoft_datetimepicker').hide();
			var str = $(this).val();
			str = str.split(".");
			
	});
	
	jQuery('#INIDATE').datetimepicker
	({
			timepicker:false,
			format:'Y-m-d',
		}).on('change', function() {
			$('.xdsoft_datetimepicker').hide();
			var str = $(this).val();
			str = str.split(".");
			
	});
	
	jQuery('#ENDATE').datetimepicker
	({
			timepicker:false,
			format:'Y-m-d',
		}).on('change', function() {
			$('.xdsoft_datetimepicker').hide();
			var str = $(this).val();
			str = str.split(".");
			
	});
	
	jQuery('#f-reqInidate').datetimepicker
	({
			timepicker:false,
			format:'Y-m-d',
		}).on('change', function() {
			$('.xdsoft_datetimepicker').hide();
			var str = $(this).val();
			str = str.split(".");
			
	});

	jQuery('#f-reqEndate').datetimepicker
	({
			timepicker:false,
			format:'Y-m-d',
		}).on('change', function() {
			$('.xdsoft_datetimepicker').hide();
			var str = $(this).val();
			str = str.split(".");
			
	});
	
	jQuery('#a-reqDate').datetimepicker
	({
			timepicker:false,
			format:'Y-m-d',
		}).on('change', function() {
			$('.xdsoft_datetimepicker').hide();
			var str = $(this).val();
			str = str.split(".");
			
	});
	
	jQuery('#a-podInidate').datetimepicker
	({
			timepicker:false,
			format:'Y-m-d',
		}).on('change', function() {
			$('.xdsoft_datetimepicker').hide();
			var str = $(this).val();
			str = str.split(".");
			
	});
	
	jQuery('#uHdate').datetimepicker
	({
			timepicker:false,
			format:'Y-m-d',
		}).on('change', function() {
			$('.xdsoft_datetimepicker').hide();
			var str = $(this).val();
			str = str.split(".");
			
	});
	
	jQuery('#dayDate').datetimepicker
	({
			timepicker:false,
			format:'Y-m-d',
		}).on('change', function() {
			$('.xdsoft_datetimepicker').hide();
			var str = $(this).val();
			str = str.split(".");
			
	});
	
	jQuery('#schSD').datetimepicker
	({
			timepicker:false,
			format:'Y-m-d',
		}).on('change', function() {
			$('.xdsoft_datetimepicker').hide();
			var str = $(this).val();
			str = str.split(".");
			
	});

	jQuery('#schED').datetimepicker
	({
			timepicker:false,
			format:'Y-m-d',
		}).on('change', function() {
			$('.xdsoft_datetimepicker').hide();
			var str = $(this).val();
			str = str.split(".");
			
	});
	
	jQuery('#turbIdDate').datetimepicker
	({
			timepicker:false,
			format:'Y-m-d',
		}).on('change', function() {
			$('.xdsoft_datetimepicker').hide();
			var str = $(this).val();
			str = str.split(".");
			
	});

	if(localStorage["tmpOrder"])
	{
			actualOrderData = JSON.parse(localStorage["tmpOrder"]);
	}
	else
	{
			actualOrderData = [];
	}
	
	var picker = document.getElementById("schWeekField");
	for(var i=1; i<53; i++)
	{
		var option = document.createElement("option");
		option.value = i;
		option.innerHTML = "Week "+i;
		picker.appendChild(option);
		
	}
	
	
	var pickerT = document.getElementById("a-reqDays");
	pickerT.innerHTML = "";
	
	var pickerTecs = document.getElementById("a-reqTechs");
	pickerT.innerHTML = "";
	
	var option = document.createElement("option");
	option.value = "0";
	option.innerHTML = "0";
	pickerT.appendChild(option);
	
	var option = document.createElement("option");
	option.value = "0.5";
	option.innerHTML = "0.5";
	pickerT.appendChild(option);
	
	for(var i=1; i<161; i++)
	{
		var option = document.createElement("option");
		option.value = i;
		option.innerHTML = i;
		pickerT.appendChild(option);
	}
	
	for(var i=0; i<21; i++)
	{
		var option = document.createElement("option");
		option.value = i;
		option.innerHTML = i;
		pickerTecs.appendChild(option);
	}
	
	
	// -------------
	
	
	var pickerSubRequestSpent = document.getElementById("subReqSpent");
	pickerSubRequestSpent.innerHTML = "";
	
	var option = document.createElement("option");
	option.value = "";
	option.innerHTML = "Time spent (hours)";
	pickerSubRequestSpent.appendChild(option);
	
	var option = document.createElement("option");
	option.value = "0";
	option.innerHTML = "0";
	pickerSubRequestSpent.appendChild(option);
	
	var option = document.createElement("option");
	option.value = "0.5";
	option.innerHTML = "0.5";
	pickerSubRequestSpent.appendChild(option);
	
	for(var i=1; i<161; i++)
	{
		var option = document.createElement("option");
		option.value = i;
		option.innerHTML = i;
		pickerSubRequestSpent.appendChild(option);
	}
	
	
	
	
	
	langPickIni();
}
// QUOTING ----------------------------------------------
function checkStart()
{
	var d = window.location.href;
	var t = d.split("?");
	if(t.length > 1){var a = t[1];ifLoad('ifPassRec');pssReCode = a.split("key=")[1];pssReCode = pssReCode.split("&")[0];history.pushState({}, null, "https://opspecialistsgroup.com/");return true;}
	return false
}
function langPickIni()
{
	if (!localStorage.getItem("langPl")) 
	{
		lang = "es_co"; 
		langGetIni(lang);
	}
	else
	{
		lang = localStorage.getItem("langPl");
		langGetIni(lang);
	}
}
function langGetIni(l) 
{
	var info ={};
	info.lang = l;
	
	sendAjax("lang","langGet",info,function(response)
	{
		
		language = response.message;
		setLang();
		checkLogin();
	});
}
function checkLogin()
{
	if(checkStart()){return}
	$(window).resize(function(){resSet();});
	if (window.localStorage.getItem("aud")) 
	{
		var workArea = document.getElementById("workArea");
		workArea.style.display = "initial";
		var loginCover = document.getElementById("loginArea");
		loginCover.style.display = "none";
		
		document.getElementById("exitIcon").style.display = "block";

		aud = JSON.parse(window.localStorage.getItem("aud"));
		actualUtype = window.localStorage.getItem("userLoged");

		var utype = getUtype(aud.TYPE);
		var name = aud.RESPNAME;
		document.getElementById("userTypeInfo").innerHTML = utype+" - "+name;
		setMenuItems(actualUtype);
		checkForceOut(aud.MAIL);
	}
	else
	{
		var workArea = document.getElementById("workArea");
		workArea.style.display = "none";
		var loginCover = document.getElementById("loginArea");
		loginCover.style.display = "initial";

		if(localStorage.getItem("aud"))
		{
			localStorage.removeItem("aud");
		}
		setTimeout(function(){ resSet() }, 400);
	}
	
	document.getElementById("coverX").style.display = "none";
	
}
function checkForceOut(email)
{
	var info = {};
	info.email = email
	sendAjax("users","checkForceOut",info,function(response)
	{
		var ans = response.message;
		if(ans == "1"){logout();}
	});
}
function getUtype(utype)
{
	if(utype == "A"){var uclass = "Administrator";}
	if(utype == "JZ"){var uclass = "Advanced Specialist";}
	if(utype == "CO"){var uclass = "Commercial";}
	if(utype == "FB"){var uclass = "Financial Business Analyst";}
	if(utype == "PL"){var uclass = "Planning";}
	if(utype == "PM"){var uclass = "Project Manager";}
	if(utype == "SM"){var uclass = "Site Manager";}
	if(utype == "SP"){var uclass = "Supervisor";}
	if(utype  == "S"){var uclass = "Technical Specialist"}
	if(utype == "UC"){var uclass = "Contractor";}
	
	return uclass;
}
function setLang()
{
	for (var text in language)
	{
		
		if(text == "platInstrucctions"){continue}
		
		if(document.getElementById(text))
		{
			var element = document.getElementById(text);
			element.innerHTML = language[text];

			if(element.type == "text" || element.type == "password"){element.placeholder = language[text];}
			if(element.type == "textarea" || element.type == "password"){element.innerHTML = "";element.placeholder = language[text];}
		}
	}
}
function backHome()
{
	document.getElementById("loginTitle1").innerHTML = language["loginTitle1"];
	document.getElementById("loginTitle2").innerHTML = language["loginTitle2"];
	resSet();
}
function login()
{
	var info = {};
	
	var type = document.getElementById("userTypeBox").value; 
	var email = document.getElementById("userLoginBox").value; 
	var pin = encry(document.getElementById("userPassBox").value); 

	if(type == "")
	{
                alertBox(language["alert"],language["sys022"],300);
		return;
	}
	if(email == "")
	{
		alertBox(language["alert"],language["sys005"],300);
		return;
	}
	if(pin == "")
	{
		alertBox(language["alert"],language["sys006"],300);
		return;
	}
	
	info.autor = email;
	info.pssw = pin;
	info.type = type;
	info.date = getNow();
	info.optype = ltt4;
	info.target = email;

	
	sendAjax("users","login",info,function(response)
	{
                
		var ans = response.message;
		
		if(ans == "Disabled")
		{
				alertBox(language["alert"],"<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Este usuario se encuentra desactivado.",300);
				return;
		}

		if(response.status)
		{
			localStorage.setItem("lastMail", document.getElementById("userLoginBox").value);
			// document.getElementById("userLoginBox").value = ""; 
			document.getElementById("userPassBox").value = ""; 
		
			aud = ans;
			console.log(aud)
			
			document.getElementById("mymenu").style.display = "block";
			
			localStorage.setItem("aud",JSON.stringify(aud));
			actualUcode = aud.CODE;
			actualUname = aud.BNAME;
					
			var loginCover = document.getElementById("loginArea");
			loginCover.style.display = "none";
			
			var workArea = document.getElementById("workArea");
			workArea.style.display = "block";
			
			document.getElementById("exitIcon").style.display = "block";
			
			var utype = getUtype(aud.TYPE);
			var name = aud.RESPNAME;
			document.getElementById("userTypeInfo").innerHTML = utype+" - "+name;
			
			actualUtype = aud.TYPE;
			localStorage.setItem("userLoged",actualUtype);
			setMenuItems(actualUtype);
                        
		}
		else
		{
			alertBox(language["alert"],language["missAuth"],300);
		}
		
	});

}
function setMenuItems(value)
{
	var mainMenu = document.getElementById("mymenu");
	mainMenu.innerHTML = "";
	
	// LIMIT TO CONTRACTOR AND SITE MANAGER AS PM OR OTHERS


	// uPos
	if(value != "PM")
	{
		var options = ["Contractor", "Composite Field Specialist", "Drone & Composite Field Specialist", "Mechanical & Electrical Field Specialist", "Drone & Mechanical & Electrical Field Specialist", "Commercial", "Financial Business Analyst", "Drone Specialist", "Planning", "Project Manager", "Site Manager", "Supervisor","Traveler troubleshooter", "Technical Specialist"];
	}
	else
	{
		var options = ["Contractor", "Site Manager"];
	}
	
	
	var picker = document.getElementById("uPos");
	picker.innerHTML = "";
	
	var option = document.createElement("option");
	option.innerHTML = "Select user position";
	option.value = "";
	picker.appendChild(option);
	
	for(var i=0; i<options.length; i++)
	{
		var item = options[i];
		
		var option = document.createElement("option");
		option.innerHTML = item;
		option.value = item;
		picker.appendChild(option);
	}
	
	var picker = document.getElementById("f-techiLocation");
	picker.innerHTML = "";

	for(var i=0; i<options.length; i++)
	{
		var item = options[i];
		
		var option = document.createElement("option");
		option.innerHTML = item;
		option.value = item;
		picker.appendChild(option);
	}
	
	
	if(value == "A")
	{
		mainMenu.appendChild(menuCreator("menuMasterO"));
		mainMenu.appendChild(menuCreator("menuMasterREP"));
		mainMenu.appendChild(menuCreator("menuMasterPOD"));
		mainMenu.appendChild(menuCreator("menuMasterT"));
		mainMenu.appendChild(menuCreator("menuMasterSH"));
		mainMenu.appendChild(menuCreator("menuMasterReq"));
		mainMenu.appendChild(menuCreator("menuMasterReqUP"));
		ifLoad('ifMasterO');
		// ifLoad('ifMasterT');
		// ifLoad('ifMasterSH');
		// ifLoad('ifMasterReq');
		// ifLoad('ifMasterReqUP');
		// ifLoad('ifMasterREP');
		// ifLoad('ifMasterPOD');
		
		// aud.TYPE = "S";
		
		// ifLoad('iforderMain');
		// orderStarter("50ebb92d53a34634c95be5ad8841098e");
		
		// actualProjectNum = "802";
		// ifLoad('ifPodMain');
		// podStarter("e73a52c37947e554c0a2c152203bcf48");
	}
	if(value == "PL")
	{
		mainMenu.appendChild(menuCreator("menuMasterO"));
		mainMenu.appendChild(menuCreator("menuMasterREP"));
		mainMenu.appendChild(menuCreator("menuMasterPOD"));
		// mainMenu.appendChild(menuCreator("menuMasterT"));
		mainMenu.appendChild(menuCreator("menuMasterSH"));
		mainMenu.appendChild(menuCreator("menuMasterReq"));
		mainMenu.appendChild(menuCreator("menuMasterReqUP"));
		ifLoad('ifMasterO');
	}
	else if(value == "JZ")
	{
		mainMenu.appendChild(menuCreator("menuMasterPOD"));
		mainMenu.appendChild(menuCreator("menuMasterSH"));
		ifLoad('ifMasterPOD');
	}
	else if(value == "CO")
	{
		mainMenu.appendChild(menuCreator("menuMasterO"));
		ifLoad('ifMasterO');
	}
	else if(value == "FB")
	{
		mainMenu.appendChild(menuCreator("menuMasterREP"));
		mainMenu.appendChild(menuCreator("menuMasterPOD"));
		// ifLoad('ifMasterO');
		ifLoad('ifMasterREP');
	}
	else if(value == "PM")
	{
		mainMenu.appendChild(menuCreator("menuMasterO"));
		mainMenu.appendChild(menuCreator("menuMasterREP"));
		mainMenu.appendChild(menuCreator("menuMasterPOD"));
		mainMenu.appendChild(menuCreator("menuMasterReqUP"));
		mainMenu.appendChild(menuCreator("menuMasterT"));
		ifLoad('ifMasterO');
		
		
		
	}
	else if(value == "SM")
	{
		mainMenu.appendChild(menuCreator("menuMasterPOD"));
		ifLoad('ifMasterPOD');
	}
	else if(value == "SP")
	{
		mainMenu.appendChild(menuCreator("menuMasterO"));
		mainMenu.appendChild(menuCreator("menuMasterREP"));
		mainMenu.appendChild(menuCreator("menuMasterPOD"));
		mainMenu.appendChild(menuCreator("menuMasterT"));
		mainMenu.appendChild(menuCreator("menuMasterSH"));
		mainMenu.appendChild(menuCreator("menuMasterReq"));
		mainMenu.appendChild(menuCreator("menuMasterReqUP"));
		ifLoad('ifMasterO');
	}
	else if(value == "S")
	{
		mainMenu.appendChild(menuCreator("menuMasterO"));
		// mainMenu.appendChild(menuCreator("menuMasterREP"));
		mainMenu.appendChild(menuCreator("menuMasterPOD"));
		mainMenu.appendChild(menuCreator("menuMasterReq"));
		
		
		// ACTIVATE ON PRODUCTIVE
		mainMenu.appendChild(menuCreator("menuMasterReqUP"));
		
		
		ifLoad('ifMasterPOD');
	}
	else if(value == "UC")
	{
		mainMenu.appendChild(menuCreator("menuMasterPOD"));
		ifLoad('ifMasterPOD');
	}

	var icon = document.getElementById("respIcon");
	mainMenu.appendChild(icon);
}
function setAsTemplate()
{
	if(aud.TYPE != "A")
	{
		alertBox(language["alert"], language["restricted"], 300);
		return;
	}
	else
	{
		formBox("templateNameBox","Set as template",300);
		document.getElementById("tmpName").value = actualOrderData.TEMPLATENAME;
	}
}
function saveTemplateSend()
{
	var info = {};
	info.code = actualOrderData.CODE;
	info.name = document.getElementById("tmpName").value;
	
	if(info.name == "")
	{
		alertBox(language["alert"], "You must enter a template name", 300);
		return;
	}

	sendAjax("users","setAsTemplate",info,function(response)
	{
		var ans = response.message;
		console.log("ans");
		hide_pop_form();
		orderStarter(actualOrderData.CODE);
	});
}
function setUserList(value)
{
	
	var picker = document.getElementById("actiNameS");
	picker.innerHTML = "";
	
	if(value == "Composite Field Specialist" || value == "Mechanical & Electrical Field Specialist" || value == "Drone Specialist" || value == "Drone & Composite Field Specialist" || value == "Drone & Mechanical & Electrical Field Specialist" || value == "Traveler troubleshooter")
	{
		document.getElementById("actiNameSbox").style.display = "block";
		document.getElementById("actiNameTbox").style.display = "none";
		
		var info = {};
		info.type = value;
		
		sendAjax("users","getUserList",info,function(response)
		{
			var list = response.message;

			var option = document.createElement("option");
			option.value = "";
			option.innerHTML = "Pick name";
			picker.appendChild(option);
			
			var option = document.createElement("option");
			option.value = "TBD";
			option.innerHTML = "TBD";
			picker.appendChild(option);
			
			for(var i=0; i<list.length; i++)
			{
				var item = list[i];
				
				var option = document.createElement("option");
				option.value = item.CODE;
				option.innerHTML = item.RESPNAME;
				picker.appendChild(option);
			}
			
		});
	
	}
	else
	{
		document.getElementById("actiNameTbox").style.display = "block";
		document.getElementById("actiNameSbox").style.display = "none";
		
		var option = document.createElement("option");
		option.value = "";
		option.innerHTML = "Pick name";
		picker.appendChild(option);
		
		var option = document.createElement("option");
		option.value = "TBD";
		option.innerHTML = "TBD";
		picker.appendChild(option);
	}
	
	document.getElementById("actiName").value = "";
	document.getElementById("actiNameS").value = "";
	
}
function setUserListClone(value)
{
	
	var picker = document.getElementById("actiRespCloneS");
	picker.innerHTML = "";
	
	if(value == "Composite Field Specialist" || value == "Mechanical & Electrical Field Specialist" || value == "Drone Specialist" || value == "Drone & Composite Field Specialist" || value == "Drone & Mechanical & Electrical Field Specialist" || value == "Traveler troubleshooter")
	{
		document.getElementById("actiRespCloneS").style.display = "block";
		document.getElementById("actiRespClone").style.display = "none";
		
		var info = {};
		info.type = value;
		
		sendAjax("users","getUserList",info,function(response)
		{
			var list = response.message;

			var option = document.createElement("option");
			option.value = "";
			option.innerHTML = "Pick name";
			picker.appendChild(option);
			
			var option = document.createElement("option");
			option.value = "TBD";
			option.innerHTML = "TBD";
			picker.appendChild(option);
			
			for(var i=0; i<list.length; i++)
			{
				var item = list[i];
				
				var option = document.createElement("option");
				option.value = item.CODE;
				option.innerHTML = item.RESPNAME;
				picker.appendChild(option);
			}
			
		});
	
	}
	else
	{
		document.getElementById("actiRespClone").style.display = "block";
		document.getElementById("actiRespCloneS").style.display = "none";
		
		var option = document.createElement("option");
		option.value = "";
		option.innerHTML = "Pick name";
		picker.appendChild(option);
		
		var option = document.createElement("option");
		option.value = "TBD";
		option.innerHTML = "TBD";
		picker.appendChild(option);
	}
	
	document.getElementById("actiRespClone").value = "";
	document.getElementById("actiRespCloneS").value = "";
	
}
function respMenu() 
{
        document.getElementsByClassName("topnav")[0].classList.toggle("responsive");
}
function menuCreator(id)
{
        var iface = "if"+id.split("menu")[1];
        
        var item = document.createElement("a");
        item.onclick = function(){ifLoad(iface)}
        item.innerHTML = language[id];
        var li = document.createElement("li");
        li.appendChild(item);
        return li;
}
function logout()
{
        actualInterface = "";
        var loginCover = document.getElementById("loginArea");
        loginCover.style.display = "block";
        var workArea = document.getElementById("workArea");
        workArea.style.display = "none";
        localStorage.removeItem("userLoged");
        localStorage.removeItem("aud");
		document.getElementById("mymenu").style.display = "none";
		document.getElementById("exitIcon").style.display = "none";
		var icon = document.getElementById("respIcon");
        document.getElementById("hidden").appendChild(icon)
		document.getElementById("userTypeInfo").innerHTML = "";
		
		localStorage.setItem("updated0", "yes");
		
        actualUtype = null;
        aud = null;
        backHome();
}
// IFLOAD
function ifLoad(code)
{
	var ifc = document.getElementById(code);
	var box = document.getElementById("wa");
	var limbo = document.getElementById("hidden");
	if(box.children.length > 0){limbo.appendChild(box.children[0]);}

	box.appendChild(ifc);

	if(code == "ifMasterO")
	{
		document.getElementById("s-clearerOrders").onclick = function()
		{
				
			if(editMode == 0)
			{
				clearFields(a_orde_targets, "a-orde");
			}
			else
			{
				clearFields(a_orde_targets, "a-orde");
				ordeGet();
				orderSaveButton.innerHTML = "Create";
				editMode = 0;
			}
		}
		
		document.getElementById("f-clearerOrders").onclick = function()
		{
			clearFields(f_orde_targets);
			ordeGet();
		}
	   
	   clearFields(a_orde_targets, "a-orde");
	   clearFields(f_orde_targets);
	   
	   orderSaveButton.innerHTML = "Create";
	   // clearFields(a_sucu_targets, "a-orde");
	   
	   // TEST FILLER
	   
	   // document.getElementById("a-orderParent").value = "Test Client";
	   // document.getElementById("a-orderWindFarm").value = "Test Wind Farm";
	   // document.getElementById("a-orderAddress").value = "Test Address";
	   // document.getElementById("a-orderContact1").value = "Test Contact 1";
	   // document.getElementById("a-orderPhone1").value = "Test Phone 1";	
	   // document.getElementById("a-orderContact2").value = "Test Contact 2";
	   // document.getElementById("a-orderPhone2").value = "Test Phone 2";
	   // document.getElementById("a-orderTurbine").value = "Test Turbine";
	   // document.getElementById("a-orderDetail").value = "Test Work Detail";
	   
	   ordeGet();
	}
	if(code == "ifPassRec")
	{
		document.getElementById("workArea").style.display = "initial";
		return
	}
	if(code == "ifMasterT")
	{
		document.getElementById("s-clearerTechis").onclick = function()
		{
			if(editMode == 0)
			{
				clearFields(a_techi_targets, "a-techi");
			}
			else
			{
				clearFields(a_techi_targets, "a-techi");
				techisGet();
				techiSaveButton.innerHTML = "Create";
				editMode = 0;
			}
		}
		document.getElementById("f-clearerTechis").onclick = function()
		{
			clearFields(f_techi_targets);
			techisGet();
		}
		techiSaveButton.innerHTML = "Create";
		clearFields(a_techi_targets, "a-techi");
		techisGet();
	}
	if(code == "ifMasterReq")
	{

		document.getElementById("s-clearerReq").onclick = function()
		{
			if(editMode == 0)
			{
				clearFields(a_req_targets, "a-req");
			}
			else
			{
				clearFields(a_req_targets, "a-req");
				reqsGet();
				reqSaveButton.innerHTML = "Create";
				editMode = 0;
			}
		}
		document.getElementById("f-clearerReq").onclick = function()
		{
			clearFields(f_req_targets);
			reqsGet();
		}
		reqSaveButton.innerHTML = "Create";
		clearFields(f_req_targets);
		reqsGet();
	}
	if(code == "ifMasterReqUP")
	{

		document.getElementById("s-clearerReqUP").onclick = function()
		{
			if(editMode == 0)
			{
				clearFields(a_reqUP_targets, "a-reqUP");
			}
			else
			{
				clearFields(a_reqUP_targets, "a-reqUP");
				reqUPsGet();
				reqUPSaveButton.innerHTML = "Create";
				editMode = 0;
			}
		}
		document.getElementById("f-clearerReqUP").onclick = function()
		{
			clearFields(f_reqUP_targets);
			reqUPsGet();
		}
		reqUPSaveButton.innerHTML = "Create";
		clearFields(f_req_targets);
		reqUPsGet();
	}
	if(code == "ifMasterSH")
	{
		makeBoxpand("schAdminBS","Schedule","Schedule", 1);
		
		if(aud.CATEGORY == "S")
		{
			
			document.getElementById("f-schTechiCat").value = "S";
			document.getElementById("f-schTechiCat").disabled = true;
		}
		else
		{
			console.log(aud.TYPE )
			document.getElementById("f-schTechiCat").value = "";
			document.getElementById("f-schTechiCat").disabled = false;
		}
		
		document.getElementById("f-clearerSch").onclick = function()
		{
			clearFields(f_sch_targets, "sch");
			schGet();
		}
		
		schGet();
		
	}
	if(code == "ifMasterMonth")
	{
		var code = actualTechData.CODE;
		getUschcedule(code);
		
		actualIF = "month";
	}
	if(code == "ifMasterWeek")
	{
		document.getElementById("colorPalette").innerHTML = language["colorPalette"];
		document.getElementById("schTypeField").value = "";
		document.getElementById("schNameField").value = "";
		
		actualIF = "week";
	}
	if(code == "ifMasterL")
	{
		document.getElementById("f-clearerLog").onclick = function()
		{
				clearFields(f_log_targets);
				logGet();
		}
		clearFields(f_log_targets, "a-log");
		logGet();
	}
	if(code == "iforderMain")
	{
		makeBoxpand("oResumeSection","Quote Data Resume","Quote Data Resume", 1);
		makeBoxpand("oTurbSection","Turbines","Turbines", 1);
		makeBoxpand("oActisSection","Labor","Labor", 1);
		makeBoxpand("oPartsSection","Parts","Parts", 1);
		makeBoxpand("oToolsSection","Tools","Tools", 1);
		makeBoxpand("oAccessSection","Added Cost","Added Cost", 1);
		makeBoxpand("oSupporSection","Quoting support hours","Quoting support hours", 1);
		makeBoxpand("oTimesSection","Execution Totals","Execution Totals", 1);
		
		if(aud.TYPE == "CO")
		{
			document.getElementById("oTimesSectionA").style.display = "none";
		}
		else
		{
			document.getElementById("oTimesSectionA").style.display = "block";
			makeBoxpand("oTimesSectionA","Execution Totals (actual)","Execution Totals (actual)", 1);
		}

	}
	if(code == "ifPodMain")
	{
		makeBoxpand("pResumeSection","Project Report","Project Report", 1);
		makeBoxpand("pDaySection","Daily","Daily", 1);
		
		makeBoxpand("oSupporSection","Quoting support hours","Quoting support hours", 1);
		makeBoxpand("oTimesSection","Execution Totals","Execution Totals", 1);
	}
	if(code == "ifMasterTraining")
	{
		makeBoxpand("oTraSection","Training list","Training list", 1);
		
		getTrainings();
	
	}
	if(code == "ifMasterPPE")
	{
		makeBoxpand("oPPESection","PPE and tools","PPE and tools", 1);
		
		getPPE();
	
	}
	if(code == "ifMasterREP")
	{
		
		var rTypes =    [         
									{"NAME": "General projects", "VAL":"1"},
									{"NAME": "Aftermarket", "VAL":"8"},
									{"NAME": "Added Cost use", "VAL":"2"},
									{"NAME": "Specialist Schedule by user", "VAL":"3"},
									{"NAME": "Project Hours by User/Company", "VAL":"4"},
									{"NAME": "Specialist Schedule Labor Hours by user", "VAL":"5"},
									{"NAME": "Hours by project", "VAL":"6"},
									{"NAME": "Standard & Specialty repairs jobs", "VAL":"7"},
									// {"NAME": "Power VI Data Extraction", "VAL":"9"}
									
							   ]

		var picker = document.getElementById("reportSelector");
		picker.innerHTML = "";
		
		var option = document.createElement("option");
		option.innerHTML = "Select a report type";
		option.value = "";
		picker.appendChild(option);

		for(var i=0; i<rTypes.length; i++)
		{
			var oData = rTypes[i];
			var option = document.createElement("option");
			option.innerHTML = oData.NAME;
			option.value = oData.VAL;
			picker.appendChild(option);
		}
		
		
		
		
		picker.value = "";
		picker.value = "1";
		
		
		picker.onchange();
		
		document.getElementById("repoIniDate").value = "2023-05-01";
		document.getElementById("repoEndDate").value = "2023-05-30";
                
	}
	if(code == "ifMasterPOD")
	{
		
		document.getElementById("s-clearerPod").onclick = function()
		{
				
			if(editMode == 0)
			{
				clearFields(a_pod_targets, "a-pod");
			}
			else
			{
				clearFields(a_pod_targets, "a-pod");
				podGet();
				document.getElementById("podSaveButton").innerHTML = "Create";
				editMode = 0;
			}
		}
		document.getElementById("f-clearerPOD").onclick = function()
		{
			clearFields(f_pod_targets);
			podGet();
		}
		podGet();
		
		setCats("a-podG4");
		// setCats("f-podWO");

	}

	resSet();
}
function showProfile()
{

	var info = {};
	info.code = actualTechData.CODE;
	// info.code = "8rt8e608c99692ca0f2bf6029a222a36";

	sendAjax("users","getUprofile",info,function(response)
	{
		var ans = response.message;
		
		var table = document.createElement("table");
		table.className = "tablePro";
		table.id = "profile"+profileCounter;
		
		var tr = document.createElement("tr");
		var td1 = document.createElement("td");
		td1.innerHTML = "<b style='color:#009899;'>Name:</b> "+ans.CNAME;
		var td2 = document.createElement("td");
		td2.innerHTML = "<b style='color:#009899;'>Email:</b> "+ans.MAIL;
		tr.appendChild(td1);
		tr.appendChild(td2);
		table.appendChild(tr);
		
		var tr = document.createElement("tr");
		var td1 = document.createElement("td");
		
		if(ans.CATEGORY == "JZ"){var type = "Advanced Specialist";}
		if(ans.CATEGORY == "CO"){var type = "Commercial";}
		if(ans.CATEGORY == "FB"){var type = "Financial Business Analyst";}
		if(ans.CATEGORY == "PL"){var type = "Planning";}
		if(ans.CATEGORY == "PM"){var type = "Project Manager";}
		if(ans.CATEGORY == "SM"){var type = "Site Manager";}
		if(ans.CATEGORY == "SP"){var type = "Supervisor";}
		if(ans.CATEGORY  == "S"){var type = "Technical Specialist"}
		if(ans.CATEGORY == "UC"){var type = "Contractor";}
		
		td1.innerHTML = "<b style='color:#009899;'>User Type:</b> "+type;
		var td2 = document.createElement("td");
		td2.innerHTML = "<b style='color:#009899;'>GID:</b> "+ans.uGID;
		tr.appendChild(td1);
		tr.appendChild(td2);
		table.appendChild(tr);
		
		var tr = document.createElement("tr");
		var td1 = document.createElement("td");
		td1.innerHTML = "<b style='color:#009899;'>Position:</b> "+ans.uPos;
		var td2 = document.createElement("td");
		td2.innerHTML = "<b style='color:#009899;'>Hire date:</b> "+ans.uHdate;
		tr.appendChild(td1);
		tr.appendChild(td2);
		table.appendChild(tr);
		
		var tr = document.createElement("tr");
		var td1 = document.createElement("td");
		td1.innerHTML = "<b style='color:#009899;'>Phone #:</b> "+ans.uPhone;
		var td2 = document.createElement("td");
		td2.innerHTML = "<b style='color:#009899;'>Emergency Phone #:</b> "+ans.emContact;
		tr.appendChild(td1);
		tr.appendChild(td2);
		table.appendChild(tr);
		
		var tr = document.createElement("tr");
		var td1 = document.createElement("td");
		td1.innerHTML = "<b style='color:#009899;'>Truck Vin #:</b> "+ans.uTruck;
		var td2 = document.createElement("td");
		td2.innerHTML = "<b style='color:#009899;'>Truck Plate #:</b> "+ans.uPlate;
		tr.appendChild(td1);
		tr.appendChild(td2);
		table.appendChild(tr);
		
		var tr = document.createElement("tr");
		var td1 = document.createElement("td");
		td1.innerHTML = "<b style='color:#009899;'>Truck Model #:</b> "+ans.uModel;
		var td2 = document.createElement("td");
		td2.innerHTML = "<b style='color:#009899;'>Gamesa Tech ID #:</b> "+ans.uGTI;
		tr.appendChild(td1);
		tr.appendChild(td2);
		table.appendChild(tr);
		
		var tr = document.createElement("tr");
		var td1 = document.createElement("td");
		td1.colSpan  = "2";
		td1.style.textAlign = "center";
		var exit = document.createElement("button");
		exit.innerHTML = "Exit";
		exit.className = "exitProfile";
		exit.onclick = function ()
		{
			hide_pop_form();
		}
		td1.appendChild(exit);
		tr.appendChild(td1);
		table.appendChild(tr);
		
		document.getElementById("hidden").appendChild(table);
		formBox("profile"+profileCounter,"User Full Profile",600);
		profileCounter++;
		
	});
	
}
function getUschcedule(code)
{
	var info = {};
	info.code = code;

	sendAjax("users","getUschcedule",info,function(response)
	{
		var ans = response.message;
		var agenda = ans;
		document.getElementById("uSchTitle").innerHTML = "Schedule for: <b style='color: #000000 !important;'>"+actualTechData.RESPNAME+" - "+actualTechData.uPos+"</b>";
		calendar(agenda);
	});

}
function goThisWeek()
{
	ifLoad('ifMasterWeek');
	var date = getNow().split(" ")[0];
	var week = getWeek(date);
	var year = date.split("-")[0];
	document.getElementById("schYearField").value = year;
	document.getElementById("schWeekField").value = week;
	getWeekSchedule(year, week);
}
function getWeek(date)
{
	var week = (new Date(date).getWeek())-1;
	return week;
}
function getWeekSchedule(year, week)
{
	var info = {};
	info.week = week;
	info.range = getDateRangeOfWeek(week, (parseInt(year)+1));
	sendAjax("users","getWeekSchedule",info,function(response)
	{
		var ans = response.message;
		var agenda = ans;
		calendarW(agenda, info.range);
	});
}
function getWeekScheduleF()
{
	
	var year = document.getElementById("schYearField").value;
	var week = parseInt(document.getElementById("schWeekField").value);
	var position = document.getElementById("schTypeField").value;
	var name = document.getElementById("schNameField").value;
	
	var info = {};
	info.year = parseInt(year);
	info.week = week;
	info.position = position;
	info.name = name;
	info.range = getDateRangeOfWeek(week, (parseInt(year)+1));

	sendAjax("users","getWeekScheduleF",info,function(response)
	{
		var ans = response.message;
		var agenda = ans;
		calendarW(agenda, info.range);
	});
}
function getWeekSE(weekNo)
{
	
	console.log(weekNo)
	var d1 = new Date();
    lastM = eval(d1.getDay()- 1);
    d1.setDate(d1.getDate() - lastM);
    var weekNoToday = d1.getWeek();
    var weeksInTheFuture = eval( weekNo - weekNoToday );
    d1.setDate(d1.getDate() + eval( 1 * weeksInTheFuture ));
    var rd1 = eval(d1.getMonth()+1) +"-" + d1.getDate() + "-" + d1.getFullYear();
    d1.setDate(d1.getDate() + 6);
    var rd7 = eval(d1.getMonth()+1) +"-" + d1.getDate() + "-" + d1.getFullYear() ;
    return rd1 + " to "+rd7;
	
}
Date.prototype.getWeek = function() 
{
  var date = new Date(this.getTime());
  date.setHours(0, 0, 0, 0);
  // Thursday in current week decides the year.
  date.setDate(date.getDate() + 3 - (date.getDay() + 6) % 7);
  // January 4 is always in week 1.
  var week1 = new Date(date.getFullYear(), 0, 4);
  // Adjust to Thursday in week 1 and count number of weeks from date to week1.
  return 1 + Math.round(((date.getTime() - week1.getTime()) / 86400000 - 3 + (week1.getDay() + 6) % 7) / 7);
}
Date.prototype.getWeek = function () 
{
    var onejan = new Date(this.getFullYear(), 0, 1);
    return Math.ceil((((this-onejan)/86400000)+onejan.getDay()+1)/7);
};
function getDateRangeOfWeek(weekNo, y)
{
	var d1, lastM, rd1, rd7;
    d1 = new Date(''+y+'');
    lastM = d1.getDay() + -0 ;
    d1.setDate(d1.getDate() - lastM);

	// SU
    d1.setDate(d1.getDate() + (7 * ((weekNo+1) - d1.getWeek())));
	var month = (d1.getMonth()+1);
    var day = d1.getDate();
	if(parseFloat(month) < 10){month = "0"+month};
	if(parseFloat(day) < 10){day = "0"+day};
    rd1 = d1.getFullYear()+"-"+month+"-"+day;

	// MO
	d1.setDate(d1.getDate() + 1);
	var month = (d1.getMonth()+1);
    var day = d1.getDate();
	if(parseFloat(month) < 10){month = "0"+month};
	if(parseFloat(day) < 10){day = "0"+day};
	rd2 =  d1.getFullYear()+"-"+month+"-"+day;
	
	// TU
	d1.setDate(d1.getDate() + 1);
	var month = (d1.getMonth()+1);
    var day = d1.getDate();
	if(parseFloat(month) < 10){month = "0"+month};
	if(parseFloat(day) < 10){day = "0"+day};
	rd3 =  d1.getFullYear()+"-"+month+"-"+day;
	
	// WE
	d1.setDate(d1.getDate() + 1);
	var month = (d1.getMonth()+1);
    var day = d1.getDate();
	if(parseFloat(month) < 10){month = "0"+month};
	if(parseFloat(day) < 10){day = "0"+day};
	rd4 =  d1.getFullYear()+"-"+month+"-"+day;
	
	// TH
	d1.setDate(d1.getDate() + 1);
	var month = (d1.getMonth()+1);
    var day = d1.getDate();
	if(parseFloat(month) < 10){month = "0"+month};
	if(parseFloat(day) < 10){day = "0"+day};
	rd5 =  d1.getFullYear()+"-"+month+"-"+day;
	
	// FR
	d1.setDate(d1.getDate() + 1);
	var month = (d1.getMonth()+1);
    var day = d1.getDate();
	if(parseFloat(month) < 10){month = "0"+month};
	if(parseFloat(day) < 10){day = "0"+day};
	rd6 =  d1.getFullYear()+"-"+month+"-"+day;
	
	// SA
	d1.setDate(d1.getDate() + 1);
	var month = (d1.getMonth()+1);
    var day = d1.getDate();
	if(parseFloat(month) < 10){month = "0"+month};
	if(parseFloat(day) < 10){day = "0"+day};
	rd7 =  d1.getFullYear()+"-"+month+"-"+day;
    
	return [rd1, rd2, rd3, rd4, rd5, rd6, rd7];
};

// -----------------------  CALENDAR SECTION -------------------------
function calendarW(agenda, range)
{
	actualRange = range;
	actualAgenda = agenda;
	var codes = [];
	var lines = [];
	
	for(var i=0; i<agenda.length; i++)
	{
		var item = agenda[i];
		var line = {"UCODE": item.UCODE, "TNAME": item.TNAME, "POSITION": item.POSITION};
		var lineStr = JSON.stringify(line);
		if(!codes.in_array(lineStr))
		{
			codes.push(lineStr);
			lines.push({"UCODE": item.UCODE, "TNAME": item.TNAME, "POSITION": item.POSITION});
		}
	}

	tableCreator("weekTable",lines);

}
function calendar(agenda)
{
	var list = agenda;
	actualAgenda = [];
	for(var i=0; i<list.length; i++)
	{
		var item = list[i];
		var dateT = new Date(item.DATE+" 00:00:00").getTime();
		var schech = {"dateT": dateT, "data": item};
		actualAgenda.push(schech)
	}
	
	setColors();

}
function saveSch()
{

	console.log(aud.TYPE)
	if(aud.TYPE == "S")
	{
		alertBox(language["alert"], "You are not allowed to make changes on the schedule, contact an advanced specialist.", 300);
		return;
	}
	
	var info = {};
	var sd = new Date(document.getElementById("schSD").value);
	var ed = new Date(document.getElementById("schED").value);
	var days = getDates(sd, ed);
	info.range = days;
	info.schType = document.getElementById("schType").value;
	info.schObs = document.getElementById("schObs").value;
	info.code = actualTechData.CODE;
	info.schName = actualTechData.RESPNAME;
	info.schPos = actualTechData.uPos;
	
	if(info.schType == ""){info.schObs = "";}
	
	sendAjax("users","saveSch",info,function(response)
	{
		var ans = response.message;
		hide_pop_form();
		getUschcedule(info.code);
		if(actualIF == "week")
		{
			getWeekScheduleF();
		}
	});
	
}
function formatDate(date) 
{
	var monthNames = ["January", "February", "March","April", "May", "June", "July",    "August", "September", "October","November", "December"];

	var day = date.getDate();
	var monthIndex = date.getMonth()+1;
	var year = date.getFullYear();

	if(parseFloat(monthIndex) < 10){monthIndex = "0"+monthIndex};
	if(parseFloat(day) < 10){day = "0"+day};

	return year+'-'+monthIndex +'-'+ day;
}
function setColors()
{
	$(function() 
	{
		var currentYear = new Date().getFullYear();
		var redDateTime = new Date(currentYear, 0, 1).getTime();
		$('#calendar').calendar({ 
			displayWeekNumber: true,
			enableRangeSelection: true,
			selectRange: function(e) 
			{
				var start = formatDate(e.startDate);
				var end = formatDate(e.endDate);
				datePop(start, end);
			},
			customDayRenderer: function(element, date) 
			{

				var item = element[0];
				var dateT = date.getTime();
				var data = checkDT(dateT);
				
				if(data != "no")
				{
					var color = getColor(data.TYPE);
					item.style.backgroundColor = color;
					item.data = data;
					
					if(data.DETAIL != "")
					{
						item.setAttribute('title', data.DETAIL);
					}
					else
					{
						item.setAttribute('title', "");
					}

					item.onclick = function ()
					{
						var data = this.data;
						document.getElementById("schType").value = data.TYPE;
						document.getElementById("schObs").value = data.DETAIL;
					}
				}
				else
				{
					item.onclick = function ()
					{
						document.getElementById("schType").value = "";
						document.getElementById("schObs").value = "";
					}
				}

			}
		});
	});
	
	var weekNums = document.getElementsByClassName("week-number");
	
}
function loadWeek(week)
{
	console.log(week);
}
function getColor(type)
{
	if(type == "NPR"){return "#00CCFF";}
	else if(type == "PTO"){return "#F5A067";}
	else if(type == "PRJ"){return "#6EFFBB";}
	else if(type == "TRN"){return "#FFCC00";}
	else if(type == "R&R"){return "#ff8abb";}
	else if(type == "OTH"){return "#BDA299";}
	else if(type == "HOL"){return "#f7d7f0";}
	else if(type == "TVL"){return "#61bdac";}
}
function checkDT(dateT)
{
	var list = actualAgenda;
	
	for(var i=0; i<list.length; i++)
	{
		var item = list[i];
		var itemDt = item.dateT;
		if(itemDt == dateT)
		{
			return item.data;
		}
	}
	return "no";
	
}
function datePop(start, end)
{
	actualSessionDate = start;
	document.getElementById("schSD").value = start;
	document.getElementById("schED").value = end;

	refreshSessions()
	
}
function refreshSessions()
{
	var info = {};
	info.date = actualSessionDate;
	info.tech = actualTechData.CODE;
	
	console.log(info)
	
	sendAjax("users","refreshSessions",info,function(response)
	{
		var ans = response.message;
		console.log(ans);
		tableCreator("sessionsTable", ans);
		formBox("setSchePop","Event details",1000);
	})

}
function addSession()
{
	var info = {};
	info.DATE = actualSessionDate;
	info.TECH = actualTechData.CODE;
	info.TYPE = document.getElementById("sessType").value;
	info.CO = document.getElementById("sessCO").value;
	info.SO = document.getElementById("sessSO").value;
	info.INIDATE = document.getElementById("sessIni").value;
	info.ENDATE = document.getElementById("sessEnd").value;
	info.WBS = document.getElementById("sessWBS").value;
	
	if(info.TYPE == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select a session type", 300);return}
	if(info.CO == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a cost order", 300);return}
	if(info.SO == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a service order", 300);return}
	if(info.INIDATE == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select a Start hour", 300);return}
	if(info.ENDATE == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select a End hour", 300);return}

	info.INIDATE = parseFloat(document.getElementById("sessIni").value);
	info.ENDATE = parseFloat(document.getElementById("sessEnd").value);
	
	if(info.INIDATE == info.ENDATE)
	{
		alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Start hour and End hour can not be the same", 300);
		return
	}
	if(info.ENDATE < info.INIDATE)
	{
		alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Start hour can not be after End hour", 300);
		return
	}
	info.HOURS = parseFloat(info.ENDATE)-parseFloat(info.INIDATE);

	info.INIDATE = $( "#sessIni option:selected" ).text();
	info.ENDATE = $( "#sessEnd option:selected" ).text();
	
	console.log(info)
	
	sendAjax("users","addSession",info,function(response)
	{
		
		var ans = response.message;
		console.log(ans);
		
		document.getElementById("sessType").value = "";
		document.getElementById("sessCO").value = "";
		document.getElementById("sessSO").value = "";
		document.getElementById("sessIni").value = "";
		document.getElementById("sessEnd").value = "";
		document.getElementById("sessWBS").value = "";

		refreshSessions();
	
	})
}
function getDates(startDate, stopDate) 
{
    var dateArray = new Array();
    var currentDate = startDate;
    while (currentDate <= stopDate) 
	{
        currentDate = currentDate.addDays(1);
		dateArray.push(formatDate(new Date (currentDate)));
    }
    return dateArray;
}
Date.prototype.addDays = function(days) 
{
    var date = new Date(this.valueOf());
	date.setDate(date.getDate() + days);
    return date;
}
// -----------------------  CALENDAR SECTION -------------------------
function setQnums()
{
	
	var  picker = document.getElementById("repoProject");
	picker.innerHTML = "";
	
	var option = document.createElement("option");
	option.value = "";
	option.innerHTML = "All projects";
	picker.appendChild(option);
	
	var info = {};
	
	sendAjax("users","getQnums",info,function(response)
	{
		
		var ans = response.message;
		console.log(ans);
		
		var list = ans;
	
		for(var i=0; i<list.length; i++)
		{
			var item = list[i].QCODE;
			
			var option = document.createElement("option");
			option.value = item;
			option.innerHTML = item;
			
			picker.appendChild(option);
			
		}
	});
	
}
function setPlats(id)
{
	
	var  picker = document.getElementById(id);
	picker.innerHTML = "";
	var option = document.createElement("option");
	option.value = "";
	option.innerHTML = "Pick a platform";
	picker.appendChild(option);
	var list = platsList;
	// list.sort();
	for(var i=0; i<list.length; i++)
	{
		var item = list[i];
		var option = document.createElement("option");
		option.value = item;
		option.innerHTML = item;
		picker.appendChild(option);
	}
}
function setWinds(id)
{
	
	var  picker = document.getElementById(id);
	picker.innerHTML = "";
	var option = document.createElement("option");
	option.value = "";
	option.innerHTML = "Pick a windfarm";
	picker.appendChild(option);
	var list = windfarmList;
	// list.sort();
	for(var i=0; i<list.length; i++)
	{
		var item = list[i];
		var option = document.createElement("option");
		option.value = item;
		option.innerHTML = item;
		picker.appendChild(option);
	}
}
function setDists(id)
{
	
	var  picker = document.getElementById(id);
	picker.innerHTML = "";
	var option = document.createElement("option");
	option.value = "";
	option.innerHTML = "Pick a district";
	picker.appendChild(option);
	var list = districtList;
	// list.sort();
	for(var i=0; i<list.length; i++)
	{
		var item = list[i];
		var option = document.createElement("option");
		option.value = item;
		option.innerHTML = item;
		picker.appendChild(option);
	}
}
function setCats(id)
{
	
	var  picker = document.getElementById(id);
	picker.innerHTML = "";
	
	var option = document.createElement("option");
	option.value = "";
	option.innerHTML = "Pick a category";
	picker.appendChild(option);
	var list = catsList;
	list.sort();
	for(var i=0; i<list.length; i++)
	{
		var item = list[i];
		
		var option = document.createElement("option");
		option.value = item;
		option.innerHTML = item;
		
		picker.appendChild(option);
		
	}
	
}
function podStarter(code)
{
	var info = {};
	
	info.pcode = code;
	sendAjax("users","podFullGet",info,function(response)
	{
		var ans = response.message;
		// console.log(ans);

		actualPodData = ans.pData;
		actualPdays = ans.pDays;
		actualPcode = ans.pData.PCODE;
		setPbar(ans.progress)
		
		// console.log(ans.pTotals);
		
		
		actualProjectLocked = actualPodData.LOCKED;
		
		localStorage.setItem("tmpPod", JSON.stringify(actualPodData));

		// HEADERFILL
		
		tableCreator("pDaysTable", actualPdays);
		
		document.getElementById("podQuoteLabel").innerHTML = actualPodData.QCODE;
		document.getElementById("podFarmLabel").innerHTML = actualPodData.WFARM;
		document.getElementById("podTurbineLabel").innerHTML = actualPodData.TURBINE;
		document.getElementById("podPlatformLabel").innerHTML = actualPodData.PLATFORM;
		document.getElementById("podSOLabel").innerHTML = actualPodData.SO;
		document.getElementById("podWOLabel").innerHTML = actualPodData.WO;
		document.getElementById("podCOLabel").innerHTML = actualPodData.CO;
		document.getElementById("podPOLabel").innerHTML = actualPodData.PO;
		document.getElementById("podG4Label").innerHTML = actualPodData.G4;
		document.getElementById("podIniDateLabel").innerHTML = actualPodData.INIDATE;
		document.getElementById("podJobLabel").innerHTML = actualPodData.JOB;
		document.getElementById("podDetailLabel").innerHTML = actualPodData.DETAIL;
		
		var totals = ans.pTotals;
		var ptotals = "<b style='color: #009899;'>Turbines:</b> "+totals.total0+" <b style='color: #009899;'>Mob In/Out:</b> "+totals.total1+" <b style='color: #009899;'>Labor:</b> "+totals.total2+" <b style='color: #009899;'>Standby:</b> "+totals.total3+" <b style='color: #009899;'>NC:</b> "+totals.total4+" <b style='color: #009899;'>Out of scope:</b> "+totals.total5;
		
		if(actualPodData.CLOSD != "")
		{
			document.getElementById("statusBarTitle").innerHTML = "<b style='color: #009899;'>Project state:</b> Closed on "+actualPodData.CLOSD+" "+"<b style='color: #009899;'>Closed status:</b> "+actualPodData.CSTATE+" "+ptotals;
		}
		else
		{
			document.getElementById("statusBarTitle").innerHTML = "<b style='color: #009899;'>Project state:</b> Open"+" "+ptotals;
		}


		return;
		
		// ACTLISTFILLER
		// tableCreator("oActsTable", ans.oActs);
		
		// CLEAR LABOR FIELDS
		// document.getElementById("actiResponsible").value = "";
		// document.getElementById("actiTime").value = "";
		// document.getElementById("actiPriceUnit").value = "";
		// document.getElementById("actiName").value = "";
		// document.getElementById("actiCompany").value = "";
		// document.getElementById("actiMiMo").value = "";
		// document.getElementById("actiDesc").value = "";


	});
}
function addTraining()
{

	var info = {};
	
	info.CNAME = document.getElementById("CNAME").value;
	info.PROVIDER = document.getElementById("PROVIDER").value;
	info.TRTYPE = document.getElementById("TRTYPE").value;
	info.INIDATE = document.getElementById("INIDATE").value;
	info.ENDATE = document.getElementById("ENDATE").value;
	info.COMMENTS = document.getElementById("COMMENTS").value;
	info.UCODE = actualTechData.CODE;
	
	if(info["CNAME"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a course name",300); return}
	if(info["PROVIDER"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a provider",300); return}
	if(info["TRTYPE"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must pick a training type",300); return}
	if(info["INIDATE"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must pick a valid from date",300); return}
	if(info["ENDATE"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must pick a valid until date",300); return}
	
	console.log(info);
	
	// return
	sendAjax("users","addTraining",info,function(response)
	{
		
		var ans = response.message;
		alertBox(language["alert"],language["sys004"], 300);
		
		document.getElementById("CNAME").value = "";
		document.getElementById("PROVIDER").value = "";
		document.getElementById("TRTYPE").value = "";
		document.getElementById("INIDATE").value = "";
		document.getElementById("ENDATE").value = "";
		document.getElementById("COMMENTS").value = "";
		
		getTrainings();
		
	});
	
}
function addPPE()
{

	var info = {};
	
	info.TOEQUI = document.getElementById("TOEQUI").value;
	info.EQSERIAL = document.getElementById("EQSERIAL").value;
	info.EQSKU = document.getElementById("EQSKU").value;
	info.EQMDATE = document.getElementById("EQMDATE").value;
	info.EQDDATE = document.getElementById("EQDDATE").value;
	info.EQENDATE = document.getElementById("EQENDATE").value;
	info.EQBRAND = document.getElementById("EQBRAND").value;
	info.EQMODEL = document.getElementById("EQMODEL").value;
	info.EQSTATE = document.getElementById("EQSTATE").value;
	info.EQCOMMENTS = document.getElementById("EQCOMMENTS").value;
	info.UCODE = actualTechData.CODE;
	
	if(info["TOEQUI"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a type of equipment",300); return}
	if(info["EQSERIAL"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a serial",300); return}
	if(info["EQSKU"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a SKU ",300); return}
	if(info["EQMDATE"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must pick a valid manufactured date",300); return}
	if(info["EQDDATE"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must pick a valid Delivery date",300); return}
	if(info["EQENDATE"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must pick a valid use until date",300); return}
	if(info["EQBRAND"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a brand",300); return}
	if(info["EQMODEL"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a model",300); return}
	if(info["EQSTATE"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter the condition",300); return}
	
	console.log(info);
	
	// return
	sendAjax("users","addPPE",info,function(response)
	{
		
		var ans = response.message;
		alertBox(language["alert"],language["sys004"], 300);
		
		document.getElementById("TOEQUI").value = "";
		document.getElementById("EQSERIAL").value = "";
		document.getElementById("EQSKU").value = "";
		document.getElementById("EQMDATE").value = "";
		document.getElementById("EQDDATE").value = "";
		document.getElementById("EQENDATE").value = "";
		document.getElementById("EQBRAND").value = "";
		document.getElementById("EQMODEL").value = "";
		document.getElementById("EQSTATE").value = "";
		document.getElementById("EQCOMMENTS").value = "";
		
		getPPE();
		
	});
	
}
function getTrainings()
{
	var info = {};
	info.ucode = actualTechData.CODE;
	
	sendAjax("users","getTrainings",info,function(response)
	{
		var ans = response.message;
		console.log(ans)
		document.getElementById("trTitle").innerHTML = "Training for: <b style='color: #000000 !important;'>"+actualTechData.RESPNAME+" - "+actualTechData.uPos+"</b>";
		tableCreator("trainingsTable", ans);
	});
	
}
function getPPE()
{
	var info = {};
	info.ucode = actualTechData.CODE;
	
	sendAjax("users","getPPE",info,function(response)
	{
		var ans = response.message;
		console.log(ans)
		document.getElementById("ppeTitle").innerHTML = "PPE and Tools for: <b style='color: #000000 !important;'>"+actualTechData.RESPNAME+" - "+actualTechData.uPos+"</b>";
		tableCreator("ppeTable", ans);
	});
	
}
function addDay()
{

	var info = {};
	
	info.dayDate = document.getElementById("dayDate").value;
	info.dayWeather = document.getElementById("dayWeather").value;
	info.dayPlan = document.getElementById("dayPlan").value;
	info.dayWO = document.getElementById("dayWO").value;
	info.daySO = document.getElementById("daySO").value;
	info.dayWBS = document.getElementById("dayWBS").value;
	info.pcode = actualPcode;
	info.qcode = actualPodData.QCODE;
	
	if(info["dayDate"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must pick a date",300); return}
	if(info["dayWeather"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must pick a weather",300); return}
	if(info["dayPlan"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a plan of day",300); return}
	if(info["dayWO"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a Workorder",300); return}
	if(info["daySO"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a Service order",300); return}
	if(info["dayWBS"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a WBS",300); return}
	
	sendAjax("users","addDay",info,function(response)
	{
		
		var ans = response.message;
		
		alertBox(language["alert"],language["sys004"], 300);
		
		document.getElementById("dayDate").value = "";
		document.getElementById("dayWeather").value = "";
		document.getElementById("dayPlan").value = "";
		document.getElementById("dayWO").value = "";
		document.getElementById("daySO").value = "";
		document.getElementById("dayWBS").value = "";
		
		getDays();
		
	});
	
}
function saveObs()
{
	
	var info = {};
	info.otype = actualDtype;
	info.dcode = actualDCODE;
	info.obs = document.getElementById("dayObs").value;
	if(actualDayLocked == "1"){alertBox(language["alert"], language["closedElement"], 300); this.value = value;return;}
	
	if(actualDtype == "L")
	{
		updateObs();
		info.obs = actualObsArray;
		
		console.log("saveL")
		
		if(document.getElementById("safetyObsField") == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter all mandatory fields",300); return}
		if(document.getElementById("challengeObsField") == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter all mandatory fields",300); return}
		if(document.getElementById("toolObsField") == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter all mandatory fields",300); return}
		if(document.getElementById("ppeObsField") == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter all mandatory fields",300); return}
		if(document.getElementById("generalObsField") == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter all mandatory fields",300); return}
		if(document.getElementById("techObsField") == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter all mandatory fields",300); return}
		
	}
	
	console.log(info)
	
	// return
	
	sendAjax("users","saveObs",info,function(response)
	{
		var ans = response.message;
		console.log(ans);
		
		aobs1 = "";
		aobs2 = "";
		aobs3 = "";
		aobs4 = "";
		aobs5 = "";
		aobs6 = "";
		
		getDays();
	});

}
function getDays()
{
	var info = {};
	info.pcode = actualPcode;
	
	sendAjax("users","getPdays",info,function(response)
	{
		var ans = response.message;
		tableCreator("pDaysTable", ans);
	});
	
}
function setPbar(value)
{
	document.getElementById("bFill").style.width = value+"%";
	document.getElementById("bFillTitle").innerHTML = value+"%";
}
function orderStarter(code)
{
	var info = {};
	
	info.ocode = code;
	
	sendAjax("users","orderFullGet",info,function(response)
	{
		var ans = response.message;
		
		showBlades(0);
		
		document.getElementById("actiNameTbox").style.display = "block";
		document.getElementById("actiNameSbox").style.display = "none";
		document.getElementById("oAccesstotal").innerHTML = "$0";
		document.getElementById("oAccesstotalA").innerHTML = "$0";
		actualOrderData = ans.oData;
		
		var resumeTbar = document.getElementById("oResumeSection").children[0].children[0];
		var setAsTemplateButton = document.getElementById("setAsTemplateButton");
		
		if(actualOrderData.TYPE == "1")
		{
			resumeTbar.innerHTML = "Quote Data Resume";
			setAsTemplateButton.innerHTML = "Convert to template";
		}
		else if(actualOrderData.TYPE == "0")
		{
			resumeTbar.innerHTML = "Template: "+actualOrderData.TEMPLATENAME;
			setAsTemplateButton.innerHTML = "Save template";
		}
		else
		{
			resumeTbar.innerHTML = "Quote from template: "+actualOrderData.TEMPLATENAME;
			setAsTemplateButton.innerHTML = "Convert to template";
		}
		
		actualOrderStatus = actualOrderData.STATUS;
		
		localStorage.setItem("tmpOrder", JSON.stringify(actualOrderData));
		
		// HEADERFILL
	
		if(actualOrderData.STATUS == "1"){var state = "New - Quote "+actualOrderData.ONUM;}
		if(actualOrderData.STATUS == "2"){var state = "Approved - Quote "+actualOrderData.ONUM;}
		if(actualOrderData.STATUS == "3"){var state = "Closed - Quote "+actualOrderData.ONUM;}
		
		document.getElementById("oResState").innerHTML = state;
		document.getElementById("oResClient").innerHTML = actualOrderData.CLIENT;
		document.getElementById("oResAddress").innerHTML = actualOrderData.ADDRESS;
		document.getElementById("oResWindFarm").innerHTML = actualOrderData.WINDFARM;
		document.getElementById("oResContact1").innerHTML = actualOrderData.CONTACT1;
		document.getElementById("oResPhone1").innerHTML = actualOrderData.PHONE1;
		document.getElementById("oResContact2").innerHTML = actualOrderData.CONTACT2;
		document.getElementById("oResPhone2").innerHTML = actualOrderData.PHONE2;
		document.getElementById("oResDistrict").innerHTML = actualOrderData.DISTRICT;
		document.getElementById("oResTurbine").innerHTML = actualOrderData.TURBINE;
		document.getElementById("oResWkDetail").innerHTML = actualOrderData.WKDETAIL;
		document.getElementById("oResCrDate").innerHTML = actualOrderData.DATE;
		document.getElementById("oPlatform").innerHTML = actualOrderData.PLATFORM;
		document.getElementById("oResServOrder").value = actualOrderData.SERVORDER;
		document.getElementById("oResWorkOrder").value = actualOrderData.WORKORDER;
		document.getElementById("oResCostOrder").value = actualOrderData.COSTORDER;
		document.getElementById("oResPurchaseOrder").value = actualOrderData.PURCHASEORDER;

		actualOrderTurbs = ans.oTurbs;
		actualOrderActs = ans.oActs;
		actualOrderParts = ans.oParts;
		actualOrderTools = ans.oOthers;
		actualOrderAccess = ans.oAccess;

		// TURBLISTFILLER
		tableCreator("oTurbsTable", ans.oTurbs);
		
		// ACTLISTFILLER
		tableCreator("oActsTable", ans.oActs);

		// PARTLISTFILLER
		tableCreator("oPartsTable", ans.oParts);
		
		 // TOOLSLISTFILLER
		tableCreator("oOthersTable", ans.oOthers);

		// ACCESSLISTFILLER
		tableCreator("oAccTable", ans.oAccess);
		
		// CLEAR LABOR FIELDS
		document.getElementById("actiResponsible").value = "";
		document.getElementById("actiTime").value = "";
		document.getElementById("actiPriceUnit").value = "";
		document.getElementById("actiName").value = "";
		document.getElementById("actiCompany").value = "";
		document.getElementById("actiMiMo").value = "";
		document.getElementById("actiDesc").value = "";
		
		document.getElementById("toolUnit").value = "";
		document.getElementById("toolUnit").disabled = true;
		
		// SET ST TIMES
		document.getElementById("stLabors").value = actualOrderData.STLABOR;
		document.getElementById("stParts").value = actualOrderData.STPARTS;
		document.getElementById("stTools").value = actualOrderData.STTOOLS;
		document.getElementById("stAccess").value = actualOrderData.STACCESS;
		document.getElementById("stDocs").value = actualOrderData.STDOCS;
		// document.getElementById("stOthers").value = actualOrderData.STOTHERS;
		
		// SET ST TIMES LABOR
		document.getElementById("oStandBy").value = actualOrderData.LABST;
		console.log(ans.oStandBy)
		
		var teStandby = ans.oStandBy[0].STB;
		
		if(parseFloat(teStandby)>0)
		{document.getElementById("oStandByA").value = teStandby;}
		else
		{document.getElementById("oStandByA").value = "0";}
		
		document.getElementById("oStandByA").disabled = true;

		setTotals();


	});
}
function oAprobe()
{
	
	if(actualOrderStatus == "3"){alertBox(language["alert"], language["closedOrder"], 300);return;}
	// RESTRICT TEMPLATE SAVE IF NOT ADMIN
	if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
	
	var state = actualOrderData.STATUS;
	var serviceOrder = document.getElementById("oResServOrder").value;
	var workOrder = document.getElementById("oResWorkOrder").value;
	var costOrder = document.getElementById("oResCostOrder").value;
	var purchaseOrder = document.getElementById("oResPurchaseOrder").value;
	
	if(serviceOrder == "")
	{
		alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter the service order", 300);
		return;
	}
	// if(workOrder == "")
	// {
		// alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter the Workorder", 300);
		// return;
	// }
	if(costOrder == "")
	{
		alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter the cost order", 300);
		return;
	}
	// if(purchaseOrder == "")
	// {
		// alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter the purchase order", 300);
		// return;
	// }
	
	var info = {};
	info.state = state;
	info.serviceOrder = serviceOrder;
	info.workOrder = workOrder;
	info.costOrder = costOrder;
	info.purchaseOrder = purchaseOrder;
	info.ocode = actualOrderData.CODE;

	var param = [info];
	
	confirmBox(language["confirm"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Do you want to set this quote as approved?", 		oAprobeConfirmed, 300, param);
	

}
function oAprobeConfirmed(param)
{
	
	var info = param[0];

	sendAjax("users","quoteApprove",info,function(response)
	{
			var ans = response.message;
			console.log(ans)
			alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>This quote has been marked as approved ", 300);
			
			orderStarter(actualOrderData.CODE)
			
			// EXIT TO ORDER LIST TECHIES
			// ifLoad("ifMasterO");
	});
        
}
function setQdata(quote)
{
	
	if(quote == "")
	{
		clearFields(a_pod_targets, "a-orde");
		actualPodCode = "";
		return;
	}

	
	var info = {}
	info.code = quote;
	sendAjax("users","getQdata",info,function(response)
	{
		var ans = response.message;
		console.log(ans)
		
		var wfPicker = document.getElementById("a-podWF")
		wfPicker.value = ans.WINDFARM;
		
		
		var distPicker = document.getElementById("districtPicker")
		distPicker.innerHTML = "";
		var option = document.createElement("option");
		option.value = ans.DISTRICT;
		option.innerHTML = ans.DISTRICT;
		distPicker.appendChild(option);
		
		
		
		document.getElementById("a-podSO").value = ans.SERVORDER;
		document.getElementById("a-podWO").value = ans.WORKORDER;
		document.getElementById("a-podCO").value = ans.COSTORDER;
		document.getElementById("a-podPO").value = ans.PURCHASEORDER;
		document.getElementById("a-podPlatform").value = ans.PLATFORM;
		
		document.getElementById("p-Department").value = ans.DEPARTMENT;
		document.getElementById("p-reqTypeProp").value = ans.PROPTYPE;
		
		
		
		
		
		
		document.getElementById("a-podDetail").value = ans.WKDETAIL;
		
		
		
	});
}
// SAVERS AND REFRESHERS
function podSave(item)
{
	// RESTRICTLINE
	if(aud.TYPE == "UC")
	{alertBox(language["alert"], language["restricted"], 300);	return;}
	
	var  info = infoHarvest(a_pod_targets);
	
	if(item.innerHTML == "Create"){info.otype = "c";}
	if(item.innerHTML == "Save"){info.otype = "e";}

	info.utype = "O";
	info.autor = aud.RESPNAME;
	info.autorCode = aud.CODE;
	info.date = getNow();
	info.type = "O";
	info.target = "pod";
	info.userType = aud.TYPE;
	
	info["a-podDistrict"] = document.getElementById("districtPicker").value;
	
	if(info["a-podWF"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a wind farm name",300); return}
	if(info["a-quoteParent"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must pick a quote number",300); return}
	
	else if(info["a-podDistrict"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select a windfarm district, click on windfarm selector to pick one",300); return}
	else if(info["a-podSO"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a service order",300); return}
	else if(info["a-podWO"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a WBS element",300); return}
	else if(info["a-podCO"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a cost order",300); return}
	else if(info["a-podPO"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a purchase order",300); return}
	else if(info["a-podG4"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a category",300); return}
	else if(info["a-podInidate"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select a start date",300); return}
	else if(info["a-podType"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select a job type",300); return}
	else if(info["a-podDetail"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a project description",300); return}
	else if(info["a-podPlatform"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select a platform",300); return}
	else if(info["a-podTow"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select a type of work",300); return}
	
	// ----------------------------
	info.area = document.getElementById("areaPicker").value;
	info.country = document.getElementById("countryPicker").value;
	// ----------------------------
	
	// ----------------------------
	info.tPlat = document.getElementById("tPlatformPicker").value;
	info.tserie = document.getElementById("tSeriePicker").value;
	// ----------------------------
	 
	console.log(info)
	
	// return
	
	if(info.otype == "c")
	{
		info.optype = ltt1;

		sendAjax("users","podSave",info,function(response)
		{
			var ans = response.message;
			console.log(ans)
			if(ans == "exist")
			{
				alertBox(language["alert"], language["podExist"],300);
			}
			else
			{
				alertBox(language["alert"], language["sys003"],300);
				clearFields(a_pod_targets, "a-pod");
				podGet();
			}
		});
	}
	else
	{
		info.optype = ltt2;
		info.pcode = actualPodCode;
		
		sendAjax("users","podSave",info,function(response)
		{
			var ans = response.message;
			alertBox(language["alert"], language["sys004"],300);
			clearFields(a_pod_targets, "a-pod");
			document.getElementById("podSaveButton").innerHTML = "Create";
			podGet();
		});
	}
}
function orderSave(item)
{
	var  info = infoHarvest(a_orde_targets);
	
	if(item.innerHTML == "Create"){info.otype = "c";}
	if(item.innerHTML == "Save"){info.otype = "e";}
	info.utype = "O";
	info.autor = aud.RESPNAME;
	info.autorCode = aud.CODE;
	info.date = getNow();
	info.type = "O";
	info.target = info["a-orderParent"];
	info.userType = aud.TYPE;
	
	
	if(info["a-orderParent"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a client name",300); return}
	else if(info["a-orderWindFarm"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a windfarm name",300); return}
	else if(info["a-orderAddress"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter an address",300); return}
	else if(info["a-orderContact1"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a contact name",300); return}
	else if(info["a-orderPhone1"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a contact phone",300); return}
	else if(info["a-orderContact2"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter an internal contact name",300); return}
	else if(info["a-orderPhone2"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter an internal contact phone",300); return}
	else if(info["a-orderTurbine"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a turbine",300); return}
	else if(info["a-platform"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select a platform",300); return}
	
	info["a-orderDistrict"] = document.getElementById("districtPicker").value;
	
	info.tempName = $( "#a-ptype option:selected" ).text();
	// return;
	
	// ----------------------------
	info.area = document.getElementById("areaPicker").value;
	info.country = document.getElementById("countryPicker").value;
	// ----------------------------
	
	// ----------------------------
	info.tPlat = document.getElementById("tPlatformPicker").value;
	info.tserie = document.getElementById("tSeriePicker").value;
	// ----------------------------
	
	console.log(info)
	
	if(info.otype == "c")
	{
		info.optype = ltt1;

		sendAjax("users","orderSave",info,function(response)
		{
			var ans = response.message;
			console.log(ans);
			// return;

			if(ans == "exist")
			{
				alertBox(language["alert"], language["sys002"],300);
			}
			else
			{
				alertBox(language["alert"], language["sys003"],300);
				clearFields(a_orde_targets, "a-orde");
				ordeGet();
			}
		});
	}
	else
	{
		info.optype = ltt2;
		info.ocode = actualOrderCode;
		
		sendAjax("users","orderSave",info,function(response)
		{
			var ans = response.message;

			alertBox(language["alert"], language["sys004"],300);
			clearFields(a_orde_targets, "a-orde");
			orderSaveButton.innerHTML = "Create";
			ordeGet();
		});
	}
}
function pickedPtype(value)
{
	var orderParent = document.getElementById("a-orderParent");
	var orderWindFarm = document.getElementById("a-orderWindFarm");
	var orderAddress = document.getElementById("a-orderAddress");
	var orderContact1 = document.getElementById("a-orderContact1");
	var orderPhone1 = document.getElementById("a-orderPhone1");
	var orderContact2 = document.getElementById("a-orderContact2");
	var orderPhone2 = document.getElementById("a-orderPhone2");
	var platform = document.getElementById("a-platform");
	var orderDetail = document.getElementById("a-orderDetail");
	
	
	if(value != "1")
	{
		var tmpValue = "Standards Job Template";
		orderParent.value = tmpValue;
		orderWindFarm.value = "Other";
		orderAddress.value = tmpValue;
		orderContact1.value = tmpValue;
		orderPhone1.value = tmpValue;
		orderContact2.value = tmpValue;
		orderPhone2.value = tmpValue;
		platform.value = "Other";
		orderDetail.value = tmpValue;		
		document.getElementById("a-orderDetail").disabled = true;
		
	}
	else
	{
		var tmpValue = "";
		orderParent.value = tmpValue;
		orderWindFarm.value = "";
		orderAddress.value = tmpValue;
		orderContact1.value = tmpValue;
		orderPhone1.value = tmpValue;
		orderContact2.value = tmpValue;
		orderPhone2.value = tmpValue;
		platform.value = "";
		orderDetail.value = tmpValue;	
		document.getElementById("a-orderDetail").disabled = false;
	}
}
function ordeGet()
{
	var info = {};
	var  info = infoHarvest(f_orde_targets);
	info.askType = aud.TYPE;
	info.techcode = "";
	info.ucode = aud.CODE;
	
	sendAjax("users","getOrdeList",info,function(response)
	{
		var ans = response.message;
		var templates = response.templates;
		console.log(templates);
		tableCreator("ordersTable", ans);
		
		var typePicker = document.getElementById("a-ptype");
		
		if(!typePicker.disabled)
		{
			refreshTemplates(templates);
		}
	});
}
function refreshTemplates(list)
{
	
	var picker = document.getElementById("a-ptype");
	picker.innerHTML = "";
	
	var option = document.createElement("option");
	option.value = "1";
	option.innerHTML = "Standard Project";
	picker.appendChild(option);
	
	
	for(var i=0; i<list.length; i++)
	{
		var item = list[i];
		var option = document.createElement("option");
		option.value = item.CODE;
		option.innerHTML = item.TEMPLATENAME;
		picker.appendChild(option);
	}
}
function podGet()
{
	var info = {};
	var  info = infoHarvest(f_pod_targets);
	info.askType = aud.TYPE;
	info.techcode = "";
	info.ucode = aud.CODE;

	sendAjax("users","getPodList",info,function(response)
	{
		var ans = response.message;
		var qlist = response.qlist;
		setQlist(qlist);
		tableCreator("podTable", ans);
	});
}
function setQlist(qlist)
{
	var list = qlist;
	var picker = document.getElementById("a-quoteParent");
	picker.innerHTML = "";
	
	var option = document.createElement("option");
	option.innerHTML = "Pick a quote";
	option.value = "";
	picker.appendChild(option);

	for(var i=0; i<list.length; i++)
	{

		var item = list[i];
		var option = document.createElement("option");
		option.innerHTML = item.ONUM+" - "+item.CLIENT;
		option.value = item.ONUM;
		
		picker.appendChild(option);
	}
}
function addTurbine()
{
	
	if(actualOrderStatus == "3"){alertBox(language["alert"], language["closedOrder"], 300);return;}
	// RESTRICT TEMPLATE SAVE IF NOT ADMIN
	if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}

	var turbName = document.getElementById("turbName").value;
	var turbHours = document.getElementById("turbHours").value;
	
	var turbWO = document.getElementById("turbWO").value;
	var turbSO = document.getElementById("turbSO").value;
	var turbCO = document.getElementById("turbCO").value;
	var turbWBS = document.getElementById("turbWBS").value;
	
	
	var turbwhsf = document.getElementById("turbwhsf").value;
	var turbComm = document.getElementById("turbComm").value;
	var turbIdDate = document.getElementById("turbIdDate").value;
	var turbReqStartDate = document.getElementById("turbReqStartDate").value;
	
	
	var turbPriority = document.getElementById("turbPriority").value;
	
	// BLADES DATA-------------------------
	
	var turbAsn = document.getElementById("turbAsn").value;
	var turbAplanedSh = document.getElementById("turbAplanedSh").value;
	var turbAprepTime = document.getElementById("turbAprepTime").value;
	var turbAinstTime = document.getElementById("turbAinstTime").value;
	
	
	
	var turbBsn = document.getElementById("turbBsn").value;
	var turbBplanedSh = document.getElementById("turbBplanedSh").value;
	var turbBprepTime = document.getElementById("turbBprepTime").value;
	var turbBinstTime = document.getElementById("turbBinstTime").value;
	
	
	var turbCsn = document.getElementById("turbCsn").value;
	var turbCplanedSh = document.getElementById("turbCplanedSh").value;
	var turbCprepTime = document.getElementById("turbCprepTime").value;
	var turbCinstTime = document.getElementById("turbCinstTime").value;
	
	// BLADES DATA-------------------------
	
	
	
	var turbAsn = document.getElementById("turbAsn").value;
	var turbBsn = document.getElementById("turbBsn").value;
	var turbCsn = document.getElementById("turbCsn").value;
	
	// RESTORE THIS -----
	if(turbName == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a turbine name",300); return}
	if(turbHours == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter the hours",300); return}
	// RESTORE THIS -----
	
	
	
	// if(turbAsn == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter Serial number for blade A",300); return}
	// if(turbBsn == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter Serial number for blade B",300); return}
	// if(turbCsn == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter Serial number for blade C",300); return}
	
	var info = {};
	
	info.ocode = actualOrderData.CODE;
	info.turbName = turbName;
	info.turbHours = turbHours;
	
	
	info.turbWO = turbWO;
	info.turbSO = turbSO;
	info.turbCO = turbCO;
	info.turbWBS = turbWBS;
	
	
	info.turbwhsf = turbwhsf;
	info.turbComm = turbComm;
	info.turbIdDate = turbIdDate;
	info.turbReqStartDate = turbReqStartDate;
	info.turbPriority = turbPriority;
	
	info.turbAsn = turbAsn;
	info.turbAplanedSh = turbAplanedSh;
	info.turbAprepTime = turbAprepTime;
	info.turbAinstTime = turbAinstTime;
	
	info.turbBsn = turbBsn;
	info.turbBplanedSh = turbBplanedSh;
	info.turbBprepTime = turbBprepTime;
	info.turbBinstTime = turbBinstTime;
	
	info.turbCsn = turbCsn;
	info.turbCplanedSh = turbCplanedSh;
	info.turbCprepTime = turbCprepTime;
	info.turbCinstTime = turbCinstTime;
	info.mode = "1";
	info.date = getNow();
	
	console.log(info);
	
	// return
	
	sendAjax("users","saveoTurb",info,function(response)
	{
		var ans = response.message;
		refreshoTurbs();
		
		document.getElementById("turbName").value = "";
		document.getElementById("turbHours").value = "";
		document.getElementById("turbAsn").value = "";
		document.getElementById("turbBsn").value = "";
		document.getElementById("turbCsn").value = "";
		
		
		document.getElementById("turbWO").value = "";
		document.getElementById("turbSO").value = "";
		document.getElementById("turbCO").value = "";
		document.getElementById("turbwhsf").value = "";
		document.getElementById("turbComm").value = "";
		document.getElementById("turbIdDate").value = "";
		document.getElementById("turbPriority").value = "0";
		
		document.getElementById("turbWBS").value = "";
		
		document.getElementById("turbAplanedSh").value = "";
		document.getElementById("turbAprepTime").value = "";
		document.getElementById("turbAinstTime").value = "";
		
		document.getElementById("turbBplanedSh").value = "";
		document.getElementById("turbBprepTime").value = "";
		document.getElementById("turbBinstTime").value = "";
		
		document.getElementById("turbCplanedSh").value = "";
		document.getElementById("turbCprepTime").value = "";
		document.getElementById("turbCinstTime").value = "";
		
		
		var turbWO = document.getElementById("turbWO").value;
		var turbSO = document.getElementById("turbSO").value;
		var turbCO = document.getElementById("turbCO").value;
		var turbWBS = document.getElementById("turbWBS").value;
		
		
		var turbwhsf = document.getElementById("turbwhsf").value;
		var turbComm = document.getElementById("turbComm").value;
		var turbIdDate = document.getElementById("turbIdDate").value;
		var turbPriority = document.getElementById("turbPriority").value;
		
		
		
	});
   
}
function showBlades(mode)
{
	
	// return;
	
	var box = document.getElementById("bladesBlock");
	var boxF = document.getElementById("bladesBlockProgress");
	if(mode == 0)
	{
		box.style.display = "none";
		boxF.style.display = "none";
	}
	else
	{
		box.style.display = "initial";
		boxF.style.display = "initial";
	}
}
function showObsField(mode)
{
	var box = document.getElementById("dayObsBlock");
	var originalBox = document.getElementById("dayObs");
	
	if(mode == 0)
	{
		box.style.display = "none";
		originalBox.style.display = "initial";
	}
	else
	{
		box.style.display = "initial";
		originalBox.style.display = "none";
	}
}
function updateObs(field)
{

	aobs1 = document.getElementById("safetyObsField").value;
	aobs2 = document.getElementById("challengeObsField").value;
	aobs3 = document.getElementById("toolObsField").value;
	aobs4 = document.getElementById("generalObsField").value;
	aobs5 = document.getElementById("ppeObsField").value;
	aobs6 = document.getElementById("techObsField").value;

	actualObsArray = "Safety Observations: "+aobs1+"<br>Challenges or Quality Issues: "+aobs2+"<br>Tool/Material Issues: "+aobs3+"<br>General Project Update: "+aobs4+"<br>PPE Safety Inspection Completed  (any observations): "+aobs5+"<br>Technical Issues: "+aobs6;
}
function addLabor()
{
	
	if(actualOrderStatus == "3"){alertBox(language["alert"], language["closedOrder"], 300);return;}
	// RESTRICT TEMPLATE SAVE IF NOT ADMIN
	if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}

	
	var actiResponsible = document.getElementById("actiResponsible").value;
	var actiTime = document.getElementById("actiTime").value;
	var actiPriceUnit = document.getElementById("actiPriceUnit").value;
	var actiName = document.getElementById("actiName").value;
	var actiCompany = document.getElementById("actiCompany").value;
	var actiMiMo = document.getElementById("actiMiMo").value;
	var actiMiMoQ = document.getElementById("actiMiMoQ").value;
	var actiDesc = document.getElementById("actiDesc").value;
	var actiUcode = document.getElementById("actiNameS").value;
	
	
	if(actiResponsible == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select a responsible",300); return}
	if(actiTime == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a labor time units",300); return}
	if(actiPriceUnit == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a time unit price",300); return}
	// if(actiName == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a responsible name",300); return}
	if(actiCompany == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a responsible  company",300); return}
	
	if(actiUcode != ""){actiName = $( "#actiNameS option:selected" ).text();}
	
	
	
	var info = {};
	
	info.ocode = actualOrderData.CODE;
	info.actiResponsible = actiResponsible;
	info.actiTime = actiTime;
	info.actiPriceUnit = actiPriceUnit;
	info.actiName = actiName;
	info.actiCompany = actiCompany;
	info.actiMiMo = actiMiMo;
	info.actiMiMoQ = actiMiMoQ;
	info.actiDesc = actiDesc;
	info.date = getNow();
	info.actiUcode = actiUcode;


	sendAjax("users","saveoAct",info,function(response)
	{
		var ans = response.message;
		refreshoActs();
	});
   
}
function refreshoActs()
{
	var info = {};
	info.ocode = actualOrderData.CODE;
	
	sendAjax("users","getOActs",info,function(response)
	{
		var list = response.message;
		actualOrderActs = list;
		tableCreator("oActsTable", list);
		
		document.getElementById("actiResponsible").value = "";
		document.getElementById("actiTime").value = "";
		document.getElementById("actiPriceUnit").value = "";
		document.getElementById("actiName").value = "";
		document.getElementById("actiCompany").value = "";
		document.getElementById("actiDesc").value = "";
		document.getElementById("actiMiMo").value = "";
		
	});
}
function refreshoTurbs()
{
	var info = {};
	info.ocode = actualOrderData.CODE;
	
	sendAjax("users","getOTurbs",info,function(response)
	{
		var list = response.message;
		actualOrderTurbs = list;
		console.log(actualOrderTurbs)
		tableCreator("oTurbsTable", list);
	});
}
function addPart()
{
	if(actualOrderStatus == "3"){alertBox(language["alert"], language["closedOrder"], 300);return;}
	// RESTRICT TEMPLATE SAVE IF NOT ADMIN
	if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
	
	var partNumber = document.getElementById("partNumber").value;
	var partDetail = document.getElementById("partDetail").value;
	var partCost = document.getElementById("partCost").value;
	var partVendor = document.getElementById("partVendor").value;
	var partShipping = document.getElementById("partShipping").value;
	var partQty = document.getElementById("partQty").value;
	
	if(partShipping == ""){partShipping = 0;}

	if(partNumber == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a part number",300); return}
	if(partDetail == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a part detail",300); return}
	if(partCost == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a part cost",300); return}
	if(partVendor == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a part vendor",300); return}
	if(partQty == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a part quantity",300); return}
	
	var info = {};
	
	info.ocode = actualOrderData.CODE;
	info.partNumber = partNumber;
	info.partDetail = partDetail;
	info.partCost = partCost;
	info.partVendor = partVendor;
	info.partShipping = partShipping;
	info.partQty = partQty;
	info.date = getNow();
	
	sendAjax("users","saveoPart",info,function(response)
	{
		var ans = response.message;
		refreshoParts();
	});
}
function refreshoParts()
{
	var info = {};
	info.ocode = actualOrderData.CODE;
	
	sendAjax("users","getOParts",info,function(response)
	{
		var list = response.message;
		tableCreator("oPartsTable", list);
		
		document.getElementById("partNumber").value = "";
		document.getElementById("partDetail").value = "";
		document.getElementById("partCost").value = "";
		document.getElementById("partVendor").value = "";
		document.getElementById("partShipping").value = "";
		document.getElementById("partQty").value = "";
	});
}
function addOther()
{
	if(actualOrderStatus == "3"){alertBox(language["alert"], language["closedOrder"], 300);return;}
	// RESTRICT TEMPLATE SAVE IF NOT ADMIN
	if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
	
	var toolNumber = document.getElementById("toolNumber").value;
	var toolDetail = document.getElementById("toolDetail").value;
	var toolCost = document.getElementById("toolCost").value;
	var toolVendor = document.getElementById("toolVendor").value;
	var toolMode = document.getElementById("toolMode").value;
	var toolUnit = document.getElementById("toolUnit").value;
	var toolShipping = document.getElementById("toolShipping").value;
	var toolQty = document.getElementById("toolQty").value;
	   
	var info = {};
	
	info.ocode = actualOrderData.CODE;
	info.toolNumber = toolNumber;
	info.toolDetail = toolDetail;
	info.toolCost = toolCost;
	info.toolVendor = toolVendor;
	info.toolMode = toolMode;
	info.toolUnit = toolUnit;
	info.toolShipping = toolShipping;
	info.toolQty = toolQty;
	info.date = getNow();
	
	
	if(toolNumber == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a tool number",300); return}
	if(toolDetail == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a tool detail",300); return}
	if(toolCost == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a tool cost",300); return}
	if(toolVendor == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a tool vendor",300); return}
	if(toolQty == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a tool quantity",300); return}
	
	if(info.toolMode == "Rental" && info.toolUnit == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select an unit type for rental mode",300); return}

	sendAjax("users","saveoOther",info,function(response)
	{
		var ans = response.message;

		refreshoOther();
	});
}
function refreshoOther()
{
	var info = {};
	info.ocode = actualOrderData.CODE;
	
	sendAjax("users","getOothers",info,function(response)
	{
		var list = response.message;
		tableCreator("oOthersTable", list);
		
		document.getElementById("toolNumber").value = "";
		document.getElementById("toolDetail").value = "";
		document.getElementById("toolCost").value = "";
		document.getElementById("toolVendor").value = "";
		document.getElementById("toolMode").value = "Buy";
		document.getElementById("toolUnit").value = "";
		document.getElementById("toolShipping").value = "";
		document.getElementById("toolQty").value = "";
		
		document.getElementById("toolUnit").value = "";
		document.getElementById("toolUnit").disabled = true;

	});
}
function addAccess()
{
	if(actualOrderStatus == "3"){alertBox(language["alert"], language["closedOrder"], 300);return;}
	// RESTRICT TEMPLATE SAVE IF NOT ADMIN
	if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
	
	var accMethod = document.getElementById("accMethod").value;
	var accUnit = document.getElementById("accUnit").value;
	var accCost = document.getElementById("accCost").value;
	var accMimo = document.getElementById("accMimo").value;
	var accMimoQ = document.getElementById("accMimoQ").value;
	var accQty = document.getElementById("accQty").value;
	var accVendor = document.getElementById("accVendor").value;
	
	if(accMethod == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must pick an Added Cost",300); return}
	if(accUnit == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must pick an unit type",300); return}
	if(accCost == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a cost",300); return}
	if(accQty == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a quantity",300); return}

	
	var info = {};
	
	info.ocode = actualOrderData.CODE;
	info.accMethod = accMethod;
	info.accUnit = accUnit;
	info.accCost = accCost;
	info.accMimo = accMimo;
	info.accMimoQ = accMimoQ;
	info.accQty = accQty;
	info.accVendor = accVendor;
	info.date = getNow();

	sendAjax("users","saveoAccess",info,function(response)
	{
		var ans = response.message;
		refreshoAccess();
	});
}
function refreshoAccess()
{
	var info = {};
	info.ocode = actualOrderData.CODE;
	
	sendAjax("users","getOaccess",info,function(response)
	{
		var list = response.message;
		tableCreator("oAccTable", list);
		
		document.getElementById("accMethod").value = "";
		document.getElementById("accUnit").value = "";
		document.getElementById("accCost").value = "";
		document.getElementById("accMimo").value = "";
		document.getElementById("accQty").value = "";
		document.getElementById("accVendor").value = "";

	});
}
function saveSupport()
{
	if(actualOrderStatus == "3"){alertBox(language["alert"], language["closedOrder"], 300);return;}
	
	var stLabors = document.getElementById("stLabors").value;
	var stParts = document.getElementById("stParts").value;
	var stTools = document.getElementById("stTools").value;
	var stAccess = document.getElementById("stAccess").value;
	var stDocs = document.getElementById("stDocs").value;
	// var stOthers = document.getElementById("stOthers").value;
	
	if(stLabors == ""){document.getElementById("stLabors").value = 0}
	if(stParts == ""){document.getElementById("stParts").value = 0}
	if(stTools == ""){document.getElementById("stTools").value = 0}
	if(stAccess == ""){document.getElementById("stAccess").value = 0}
	if(stDocs == ""){document.getElementById("stDocs").value = 0}
	// if(stOthers == ""){document.getElementById("stOthers").value = 0}
	
	var info = {};
	info.ocode = actualOrderData.CODE;
	info.stLabors = stLabors;
	info.stParts = stParts;
	info.stTools = stTools;
	info.stAccess = stAccess;
	info.stDocs = stDocs;
	// info.stOthers = stOthers;
	
	sendAjax("users","updateSt",info,function(response)
	{
		var ans = response.message;
		setTotals();
	});
}
function saveSbLab()
{
	if(actualOrderStatus == "3"){alertBox(language["alert"], language["closedOrder"], 300);return;}
	
	var oStandBy = document.getElementById("oStandBy").value;
	if(oStandBy == ""){document.getElementById("oStandBy").value = 0}
	var oStandBy = document.getElementById("oStandBy").value;

	var info = {};
	info.ocode = actualOrderData.CODE;
	info.oStandBy = oStandBy;
	
	// document.getElementById("oStandByA").value = oStandBy;
		
	sendAjax("users","updateStLab",info,function(response)
	{
		var ans = response.message;
	});
}
function saveSbLabA()
{
	var oStandBy = document.getElementById("oStandByA").value;
	if(oStandBy == ""){document.getElementById("oStandByA").value = 0}
	var oStandBy = document.getElementById("oStandByA").value;
	
	document.getElementById("oStandBy").value = oStandBy;

	var info = {};
	info.ocode = actualOrderData.CODE;
	info.oStandBy = oStandBy;
		
	sendAjax("users","updateStLab",info,function(response)
	{
		var ans = response.message;
	});
}
function techisGet()
{
	var info = {};
	var  info = infoHarvest(f_techi_targets);
	
	sendAjax("users","getTechiList",info,function(response)
	{
		var ans = response.message;
		tableCreator("techisTable", ans);
	});
}
function reqsGet(mode)
{
	var info = {};
	var  info = infoHarvest(f_req_targets);
	if(mode != null)
	{
		info.mode = "ex";
	}
	else
	{
		info.mode = "";
	}
	sendAjax("users","getReqList",info,function(response)
	{
		var ans = response.message;
		console.log(ans);
		if(info.mode == "ex")
		{
			var filename = response.path;
			var url = "files/requests/"+filename+".xls";
			downloadReport(decry(url));
		}
		
		tableCreator("reqsTable", ans);
	});
}
function reqUPsGet(mode)
{
	var info = {};
	var  info = infoHarvest(f_reqUP_targets);
	if(mode != null)
	{
		info.mode = "ex";
	}
	else
	{
		info.mode = "";
	}
	sendAjax("users","getReqUPList",info,function(response)
	{
		var ans = response.message;
		console.log(ans);
		if(info.mode == "ex")
		{
			var filename = response.path;
			var url = "files/requests/"+filename+".xls";
			downloadReport(decry(url));
		}
		
		tableCreator("reqsUPTable", ans);
	});
}
function reqAdsGet(code)
{
	var info = {};
	info.code = code

	sendAjax("users","reqAdsGet",info,function(response)
	{
		var ans = response.message;
		console.log(ans);
		tableCreator("subRequestTable", ans);
	});
}
function schGet()
{
	var info = {};
	var  info = infoHarvest(f_sch_targets);
	
	sendAjax("users","getSchList",info,function(response)
	{
		var ans = response.message;
		tableCreator("schTable", ans);
	});
}
function techisSave(item)
{
	var  info = infoHarvest(a_techi_targets);
	
	if(item.innerHTML == "Create"){info.otype = "c";}
	if(item.innerHTML == "Save"){info.otype = "e";}
	
	actualTechiType = document.getElementById("a-techiCat").value;
	
	info.AUTHOR = aud.CODE;
	
	info.utype = actualTechiType;
	info.autor = aud.RESPNAME;
	info.date = getNow();
	info.type = "T";
	info.target = info["a-techiEmail"];
  
	if(info["a-techiName"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a name",300); return}
	else if(info["a-techiCat"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must pick a user type",300); return}
	else if(info["a-techiEmail"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter an email",300); return} 		
	
	console.log(info)
	// return;
	
	
	if(info.otype == "c")
	{
		info.optype = ltt1;

		sendAjax("users","techiSave",info,function(response)
		{
			var ans = response.message;
			
			if(ans == "exist")
			{
				alertBox(language["alert"], language["sys002"],300);
			}
			else
			{
				alertBox(language["alert"], language["sys003"],300);
				clearFields(a_techi_targets, "a-techi");
				techisGet();
			}
		});
	}
	else
	{
		info.optype = ltt2;
		info.techiCode = actualTechiCode;
		
		sendAjax("users","techiSave",info,function(response)
		{
			var ans = response.message;
			console.log(ans)

			alertBox(language["alert"], language["sys004"],300);
			clearFields(a_techi_targets, "a-techi");
			techiSaveButton.innerHTML = "Create";
			techisGet();
		});
	}
}
function reqSave(item)
{
	var  info = infoHarvest(a_req_targets);
	
	if(item.innerHTML == "Create"){info.otype = "c";}
	if(item.innerHTML == "Save"){info.otype = "e";}
	
	actualTechiType = document.getElementById("a-techiCat").value;
	
	info.utype = actualTechiType;
	info.autor = aud.RESPNAME;
	info.date = getNow();
	info.type = "T";
	info.target = "Reqs";
	info.reqType = "main";
	
	info["a-reqDistrict"] = document.getElementById("districtPicker").value;
	
	if(info["a-reqDate"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a date",300); return}
	else if(info["a-reqAutor"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a requester",300); return}
	else if(info["a-reqDistrict"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a district",300); return} 		
	else if(info["a-reqWindfarm"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a windfarm",300); return} 		
	else if(info["a-reqDetail"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a description",300); return} 		
	else if(info["a-reqTechs"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a number of techs",300); return} 		
	else if(info["a-reqProvided"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a request result",300); return} 		
	else if(info["a-reqDays"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a time in days",300); return} 		else if(info["a-reqAutor2"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select an author",300); return}
	else if(info["a-reqComments"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter comments for te request",300); return} 		
	
	console.log(info)
	// return;
	// ----------------------------
	info.area = document.getElementById("areaPicker").value;
	info.country = document.getElementById("countryPicker").value;
	// ----------------------------
	
	if(info.otype == "c")
	{
		info.optype = ltt1;

		sendAjax("users","reqSave",info,function(response)
		{
			var ans = response.message;
			console.log(ans)
			alertBox(language["alert"], language["sys003"],300);
			clearFields(a_req_targets, "a-req");
			reqsGet();
		});
	}
	else
	{
		info.optype = ltt2;
		info.reqCode = actualReqCode;
		
		sendAjax("users","reqSave",info,function(response)
		{
			var ans = response.message;
			console.log(ans)

			alertBox(language["alert"], language["sys004"],300);
			clearFields(a_req_targets, "a-req");
			reqSaveButton.innerHTML = "Create";
			reqsGet();
		});
	}
}
function reqSaveUP(item)
{
	var  info = infoHarvest(a_reqUP_targets);

	if(item.innerHTML == "Create"){info.otype = "c";}
	if(item.innerHTML == "Save"){info.otype = "e";}

	
	info.utype = aud.TYPE;
	info.autor = aud.RESPNAME;
	info.date = getNow();
	info.type = "T";
	info.target = "Reqs";
	info.reqType = "main";
	
	info["a-reqUpDistrict"] = document.getElementById("districtPicker").value;
	
	if(info["a-reqUPProvided"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select a speciality",300); return}
	else if(info["a-reqUPAutor"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a requester",300); return}
	else if(info["a-reqUPDate"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select a date",300); return}
	else if(info["a-reqUPWindfarm"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select a windfarm",300); return}
	else if(info["a-reqUPAddress"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter an address",300); return}
	else if(info["a-reqUPpm"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter an project manager",300); return}
	else if(info["a-reqUrequired"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select the required support",300); return}
	else if(info["a-reqUplat"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select a platform",300); return}
	else if(info["a-reqUComponent"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select a component",300); return}
	else if(info["a-reqUbrand"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select a brand",300); return}
	else if(info["a-reqUtState"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select a turbine state",300); return}
	else if(info["a-reqUtool"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select the tooling",300); return}
	else if(info["a-reqUpart"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select the parts",300); return}
	else if(info["a-reqUDesc"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter the failure description",300); return}

	
	// ----------------------------
	info.area = document.getElementById("areaPicker").value;
	info.country = document.getElementById("countryPicker").value;
	// ----------------------------
	
	// ----------------------------
	info.tPlat = document.getElementById("tPlatformPicker").value;
	info.tserie = document.getElementById("tSeriePicker").value;
	// ----------------------------
	
	console.log(info)
	
	// return
	
	if(info.otype == "c")
	{
		info.optype = ltt1;

		sendAjax("users","reqUPSave",info,function(response)
		{
			var ans = response.message;
			console.log(ans)
			alertBox(language["alert"], language["sys003"],300);
			clearFields(a_reqUP_targets, "a-req");
			reqUPsGet();
		});
	}
	else
	{
		info.optype = ltt2;
		info.reqCode = actualReqCode;
		
		sendAjax("users","reqUPSave",info,function(response)
		{
			var ans = response.message;
			console.log(ans)

			alertBox(language["alert"], language["sys004"],300);
			clearFields(a_reqUP_targets, "a-req");
			reqSaveButton.innerHTML = "Create";
			reqUPsGet();
		});
	}
}
function additionalSave(item)
{
	var  info = actualReqData;
	
	if(item.innerHTML == "Add request"){info.otype = "c";}
	if(item.innerHTML == "Save"){info.otype = "e";}

	
	info.utype = aud.TYPE;
	info.autor = aud.RESPNAME;
	info.date = getNow();
	info.type = "T";
	info.target = "Reqs";
	info.reqType = "main";
	
	
	info.DATE = document.getElementById("subReqDate").value;
	info.COMMENTS = document.getElementById("subReqComments").value;
	info.FRAMEDAYS = document.getElementById("subReqSpent").value;
	info.REQSTATE = document.getElementById("subReqStatus").value;
	info.REQTYPE = "sub";
	info.REQPARENT = info.RNUM;
	
	// CHECK ONLY FOR DIFFERENT FIELDS
	if(info["DATE"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select a date",300); return}
	else if(info["COMMENTS"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter comments",300); return}
	else if(info["FRAMEDAYS"] == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select the spent hours",300); return}
	// CHECK ONLY FOR DIFFERENT FIELDS
	
	console.log(info);
	
	// return;
	
	if(info.otype == "c")
	{
		info.optype = ltt1;

		sendAjax("users","reqAddSave",info,function(response)
		{
			var ans = response.message;
			console.log(ans)
			alertBox(language["alert"], language["sys003"],300);
			// clearFields(a_reqUP_targets, "a-req");
			
			
			document.getElementById("subReqDate").value = "";
			document.getElementById("subReqComments").value = "";
			document.getElementById("subReqSpent").value = "";
			document.getElementById("subReqStatus").value = "Pending";
			
			
			reqAdsGet(info.RNUM);
		});
	}
	else
	{
		info.optype = ltt2;
		info.reqCode = actualReqCode;
		
		sendAjax("users","reqAddSave",info,function(response)
		{
			var ans = response.message;
			console.log(ans)

			alertBox(language["alert"], language["sys004"],300);
			clearFields(a_reqUP_targets, "a-req");
			reqSaveButton.innerHTML = "Create";
			reqUPsGet();
		});
	}
}
// TABLES ----------------------------
function tableCreator(tableId, list)
{
	var table = document.getElementById(tableId);
	tableClear(tableId);
	
	if(list.length == 0)
	{
			var nInYet = document.createElement("div");
			nInYet.innerHTML = language["noResults"];
			nInYet.className = "blankProducts";
			table.appendChild(nInYet);
			resSet();
			
			if(tableId == "oActsTable")
			{
				etimeTotal = 0;
				atimeTotal = 0;
				actisTotal = 0;
				actisTotala = 0;
				document.getElementById("oEstimated").innerHTML = etimeTotal+" Hours";
				document.getElementById("oEstimatedA").innerHTML = atimeTotal+" Hours";
				document.getElementById("oActotal").innerHTML = addCommas(actisTotal)
				document.getElementById("oActotal").innerHTML = addCommas(actisTotala)
			}
			if(tableId == "oPartsTable")
			{
				 partsTotal = 0;
				 partsTotala = 0;
				 document.getElementById("oReptotal").innerHTML = addCommas(partsTotal)
				 document.getElementById("oReptotalA").innerHTML = addCommas(partsTotala)
			}
			if(tableId == "oOthersTable")
			{
				 othersTotal = 0;
				 othersTotala = 0;
				 document.getElementById("oOtherstotal").innerHTML = addCommas(othersTotal);
				 document.getElementById("oOtherstotalA").innerHTML = addCommas(othersTotala);
			}
			
			return;
	}
	// TECHIS TABLE
	if(tableId == "techisTable")
	{
		for(var i=0; i<list.length; i++)
		{
			var row = document.createElement("div");
			row.className = "rowT";
			
			if(aud.CATEGORY == "PM")
			{if(list[i].AUTHOR != aud.CODE){continue;}}
						
			var a = cellCreator('Identificación', list[i].NIT)
			var b = cellCreator('Name', list[i].RESPNAME)
			
			if(list[i].TYPE == "JZ"){var type = "Advanced Specialist";}
			if(list[i].TYPE == "CO"){var type = "Commercial";}
			if(list[i].TYPE == "FB"){var type = "Financial Business Analyst";}
			if(list[i].TYPE == "PL"){var type = "Planning";}
			if(list[i].TYPE == "PM"){var type = "Project Manager";}
			if(list[i].TYPE == "SM"){var type = "Site Manager";}
			if(list[i].TYPE == "SP"){var type = "Supervisor";}
			if(list[i].TYPE  == "S"){var type = "Technical Specialist"}
			if(list[i].TYPE == "UC"){var type = "Contractor";}
			
			var c = cellCreator('Type', type)
			var d = cellCreator('Especialidad', list[i].MASTERY)
			var loc = cellCreator('Ciudad', list[i].LOCATION)
			var e = cellCreator('Email', list[i].MAIL)
			var f = cellCreator('Position', list[i].uPos)
			var g = cellCreator('Em. Contact', list[i].emContact)
			
			if(list[i].BANNED == ""){var banned = "All visible";}
			else if(list[i].BANNED == "all"){var banned = "None visible";}
			else{var banned = list[i].BANNED;}
			var l = cellCreator('Limits', banned);
			
			
			var profile = document.createElement("img");
			profile.src = "irsc/profile.png";
			profile.reg = list[i];
			profile.setAttribute('title', 'Profile');
			profile.setAttribute('alt', 'Profile');
			profile.onclick = function()
			{
				actualTechData = this.reg;
				showProfile();
					
			}
			var edit = document.createElement("img");
			edit.src = "irsc/editIcon.png";
			edit.reg = list[i];
			edit.setAttribute('title', 'Edit');
			edit.setAttribute('alt', 'Edit');
			edit.onclick = function()
			{
					
					editMode = 1;
					var info = this.reg;

					var items = [decry(info.RESPNAME), info.MAIL, info.TYPE, info.uGID, info.uPos, info.emContact, info.uPhone, info.uTruck, info.uPlate, info.uModel, info.uHdate, info.uGTI];
					
					infoFiller(items, a_techi_targets);
					document.getElementById("a-techiEmail").disabled = true;
					techiSaveButton.innerHTML = "Save";
					actualTechiCode = this.reg.CODE;
					actualTechiType = this.reg.TYPE;

				   return false;
			}
			var pass = document.createElement("img");
			pass.src = "irsc/passIcon.png";
			pass.reg = list[i];
			pass.setAttribute('title', 'Change Password');
			pass.setAttribute('alt', 'Change Password');
			pass.onclick = function()
			{
				pssChange(this.reg.MAIL, this.reg.TYPE);
			}
			
			var limits = document.createElement("img");
			limits.src = "irsc/Urgente.png";
			limits.reg = list[i];
			limits.setAttribute('title', 'Project view selector');
			limits.setAttribute('alt', 'Project view selector');
			limits.onclick = function()
			{
				var info = {};
				info.mail = this.reg.MAIL;
				info.banned = this.reg.BANNED;
				actualBannedList = info.banned;
				sendAjax("users","getOrderLimits",info,function(response)
				{
					var ans = response.message;
					console.log(ans);
					
					// FILL TABLE
					actualLimitPickerList = ans;
					tableCreator("qlimitTable", ans);
					
					setLimitBox(info.mail, info.banned);
				});
			}
			var del = document.createElement("img");
			del.src = "irsc/delIcon.png";
			del.reg = list[i];
			del.setAttribute('title', 'Delete');
			del.setAttribute('alt', 'Delete');
			del.onclick = function()
			{
					var tableId = this.parentNode.parentNode.parentNode.id;
					var param = [tableId, this.reg.MAIL, this.reg.TYPE];
					
					confirmBox(language["confirm"], language["sys011"], deleteRecord, 300, param);
			}

			var icons = [profile, edit, pass, limits, del];
			var x = cellOptionsCreator('', icons)
			var cells = [b,c,e,f,g,l,x];
			for(var r=0; r<cells.length; r++){row.appendChild(cells[r]);}
			if(list[i].TYPE == "A"){continue}
			table.appendChild(row);
		}
	}
	// REQUESTS TABLE
	if(tableId == "reqsTable")
	{
		for(var i=0; i<list.length; i++)
		{
			var row = document.createElement("div");
			row.className = "rowT";
			
			
			if(list[i].REQPARENT != ""){continue;}
			
			
			if(list[i].REQSOURCE == "log")
			{var type = "Log";}
			else
			{var type = "Request";}
			var aa = cellCreator('Type', type);
			
			var a0 = cellCreator('Code', list[i].RNUM);
			var a = cellCreator('Date', list[i].DATE);
			var a1 = cellCreator('Type', list[i].TYPE);
			var a2 = cellCreator('Author', list[i].AUTOR);
			var b = cellCreator('Requester', list[i].REQUESTER);
			var c = cellCreator('District', list[i].DISTRICT);
			var c2 = cellCreator('Windfarm', list[i].WINDFARM);
			var d = cellCreator('Description', list[i].DETAIL);
			var e = cellCreator('# Techs', list[i].TECHS);
			var f = cellCreator('Provided', list[i].RESULT);
			var g = cellCreator('Time (days)', list[i].FRAMEDAYS);
			
			
			var details = list[i].COMMENTS;
			// var details = "c";
			var h = cellCreator('Comments', encry(details));
			// var h = cellCreator('Comments', details);
			
			// var h = cellCreator('Comments', list[i].COMMENTS);
			var st = cellCreator('State', list[i].REQSTATE);

			var edit = document.createElement("img");
			edit.src = "irsc/editIcon.png";
			edit.reg = list[i];
			edit.setAttribute('title', 'Edit');
			edit.setAttribute('alt', 'Edit');
			edit.onclick = function()
			{
				editMode = 1;
				var info = this.reg;

				var items = [info.DATE, decry(info.REQUESTER), info.WINDFARM, info.DETAIL, info.TECHS, info.RESULT, info.FRAMEDAYS, info.AUTOR, info.TYPE, info.REQSTATE, info.COMMENTS];
				
				var dsPicker = document.getElementById("districtPicker");
				dsPicker.innerHTML = "";
				
				var option = document.createElement("option");
				option.value = info.DISTRICT;
				option.innerHTML = info.DISTRICT;
				dsPicker.appendChild(option);
				

				infoFiller(items, a_req_targets);
				reqSaveButton.innerHTML = "Save";
				actualReqCode = this.reg.CODE;
				
				loadFieldsWF(info.AREA, info.COUNTRY, info.DISTRICT, info.WINDFARM);

			}
			
			var subRequest = document.createElement("img");
			subRequest.src = "irsc/addIcon.png";
			subRequest.reg = list[i];
			subRequest.setAttribute('title', 'Aditional support');
			subRequest.setAttribute('alt', 'Aditional support');
			subRequest.onclick = function()
			{
				editMode = 1;
				var info = this.reg;
				
				actualReqData = info;
				
				formBox("subReqPop","Aditional support for request: "+info.RNUM,1000);
				reqAdsGet(info.RNUM);

			}
			
			var state = document.createElement("img");
			state.src = "irsc/detailIcon.png";
			state.reg = list[i];
			state.setAttribute('title', 'Edit');
			state.setAttribute('alt', 'Edit');
			state.onclick = function()
			{
				
				actualReqCode = this.reg.CODE;
				reqStateSet();

			}
			
			
			var upload = document.createElement("img");
			upload.src = "irsc/upload.png";
			upload.reg = list[i];
			upload.setAttribute('title', 'Upload file');
			upload.setAttribute('alt', 'Upload file');
			upload.onclick = function()
			{
				
				if(this.reg.LOCKED == "1")
				{
					alertBox(language["alert"], language["closedElement"], 300);
					return;
				}		
				
				var info = this.reg;
				console.log(info)
				var picker = document.getElementById("budgetSelectorReq");
				actualLoadReq = info.CODE;
				picker.click();
				picker.name = info.CODE+"[]";

			}
			
			var download = document.createElement("img");
			download.src = "irsc/downIcon.png";
			download.reg = list[i];
			download.setAttribute('title', 'Download file');
			download.setAttribute('alt', 'Download file');
			download.onclick = function()
			{
				
				var info = this.reg;
				var filename = info.FILELINK;
				var url = "filesR/"+info.CODE+"/"+filename;
				// console.log(decry(url));
				console.log(url)
				downloadReport(decry(url));
				
			}
			
			var delFile = document.createElement("img");
			delFile.src = "irsc/deleteFileIcon.png";
			delFile.reg = list[i];
			delFile.setAttribute('title', 'Delete file');
			delFile.setAttribute('alt', 'Delete file');
			delFile.onclick = function()
			{
				
				var info = this.reg;
				var type = "filesR";
				var code = info.CODE;
				
				var param = [type, code];
				confirmBox(language["confirm"], language["delFileCheck"], deleteFile, 300, param);
				
			}
			
			
			
			var del = document.createElement("img");
			del.src = "irsc/delIcon.png";
			del.reg = list[i];
			del.setAttribute('title', 'Delete');
			del.setAttribute('alt', 'Delete');
			del.onclick = function()
			{
				var tableId = this.parentNode.parentNode.parentNode.id;
				var param = [tableId, this.reg.CODE];
				
				confirmBox(language["confirm"], language["sys011"], deleteRecord, 300, param);
			}

			if(list[i].REQSOURCE == "log")
			{
				var icons = [edit,state, subRequest];
			}
			else
			{
				var icons = [state, subRequest];
			}
			
			if(list[i].FILELINK != "")
			{
				icons.push(upload);
				icons.push(download);
				icons.push(delFile);
				
			}
			else
			{
				icons.push(upload);
			}
			
			
			icons.push(del);
			
			var x = cellOptionsCreator('', icons)
			var cells = [aa,a0,a,a2,b,c,c2,d,e,f,g,a1,h,st,x];
			for(var r=0; r<cells.length; r++){row.appendChild(cells[r]);}
			if(list[i].TYPE == "A"){continue}
			table.appendChild(row);
		}
	}
	// REQUESTS ADDS TABLE
	if(tableId == "subRequestTable")
	{
		for(var i=0; i<list.length; i++)
		{
			var row = document.createElement("div");
			row.className = "rowT";
			
			
			var z = cellCreator('Code', list[i].RNUM);
			var a = cellCreator('Date', list[i].DATE);
			var b = cellCreator('Comments', list[i].COMMENTS);
			var c = cellCreator('Time spent', list[i].FRAMEDAYS);
			var d = cellCreator('State', list[i].REQSTATE);
			
			var del = document.createElement("img");
			del.src = "irsc/delIcon.png";
			del.reg = list[i];
			del.setAttribute('title', 'Delete');
			del.setAttribute('alt', 'Delete');
			del.onclick = function()
			{
				var tableId = this.parentNode.parentNode.parentNode.id;
				var param = [tableId, this.reg.CODE];
				
				actualDelCode = this.reg.RNUM;
				
				confirmBox(language["confirm"], language["sys011"], deleteRecord, 300, param);
			}


			var icons = [del];

			var x = cellOptionsCreator('', icons)
			var cells = [z,a,b,c,d,x];
			for(var r=0; r<cells.length; r++){row.appendChild(cells[r]);}
			if(list[i].TYPE == "A"){continue}
			table.appendChild(row);
		}
	}
	// SUPPORT REQUESTS TABLE
	if(tableId == "reqsUPTable")
	{
		for(var i=0; i<list.length; i++)
		{
			var row = document.createElement("div");
			row.className = "rowT";
			
			var a = cellCreator('Code', list[i].RNUM);
			var b = cellCreator('Date', list[i].DATE);
			var c = cellCreator('Requester', list[i].REQUESTER);
			var d = cellCreator('Speciality', list[i].DETAIL);
			var e = cellCreator('Required', list[i].REQSUREQUIRED);
			var f = cellCreator('Windfarm', list[i].WINDFARM);
			
			var g = cellCreator('Platform', list[i].REQPLAT);
			var t = cellCreator('Type', list[i].TYPE);
			var j = cellCreator('Description', list[i].REQSUPDESC);
			var k = cellCreator('Comments', encry(list[i].COMMENTS));
			var l = cellCreator('State', list[i].REQSTATE);
			
			
			
			var details = list[i].COMMENTS;
			// var details = "c";
			var h = cellCreator('Comments', encry(details));
			// var h = cellCreator('Comments', details);
			
			// var h = cellCreator('Comments', list[i].COMMENTS);
			var st = cellCreator('State', list[i].REQSTATE);

			var edit = document.createElement("img");
			edit.src = "irsc/editIcon.png";
			edit.reg = list[i];
			edit.setAttribute('title', 'Edit');
			edit.setAttribute('alt', 'Edit');
			edit.onclick = function()
			{
				editMode = 1;
				var info = this.reg;

				var items = [info.DETAIL, decry(info.REQUESTER), info.DATE, info.WINDFARM, info.TYPE, info.REQADDRESS, info.REQTNUM, info.REQCNUM, info.REQPM, info.REQSUREQUIRED, info.REQPLAT, info.REQTH, info.REQCOMP, info.REQBRAND, info.REQSN, info.REQTSTATE, info.REQTOOL, info.REQPART, info.REQSUPDESC, info.COMMENTS];
				
				
				
				a_reqUP_targets = [ "a-reqUPProvided", "a-reqUPAutor", "a-reqUPDate","a-reqUPWindfarm", "a-reqUPTypeProp", "a-reqUPAddress", "a-reqUPturbNum", "a-reqUPcaseNum", "a-reqUPpm", "a-reqUrequired", "a-reqUplat", "a-reqUtowH", "a-reqUComponent", "a-reqUbrand", "a-reqUSN", "a-reqUtState", "a-reqUtool", "a-reqUpart", "a-reqUDesc", "a-reqUComments"];
				
				
				// var dsPicker = document.getElementById("districtPicker");
				// dsPicker.innerHTML = "";
				
				// var option = document.createElement("option");
				// option.value = info.DISTRICT;
				// option.innerHTML = info.DISTRICT;
				// dsPicker.appendChild(option);
				

				infoFiller(items, a_reqUP_targets);
				reqUPSaveButton.innerHTML = "Save";
				actualReqCode = this.reg.CODE;
				
				loadFieldsRS(info.DETAIL, info.REQCOMP, info.REQBRAND);

			}
			
			var sendNotify = document.createElement("img");
			sendNotify.src = "irsc/notify.png";
			sendNotify.reg = list[i];
			sendNotify.setAttribute('title', 'Send notification');
			sendNotify.setAttribute('alt', 'Send notification');
			sendNotify.onclick = function()
			{
				
				if(this.reg.TYPE == "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
				
				actualEtype = "supReq";
				var info = this.reg;
				sendAjax("users","getContactList",info,function(response)
				{
					var users = response.message;
					contactOpenOrder(info, users)
				});

			}
			
			
			var upload = document.createElement("img");
			upload.src = "irsc/upload.png";
			upload.reg = list[i];
			upload.setAttribute('title', 'Upload file');
			upload.setAttribute('alt', 'Upload file');
			upload.onclick = function()
			{
				
				if(this.reg.LOCKED == "1")
				{
					alertBox(language["alert"], language["closedElement"], 300);
					return;
				}		
				
				var info = this.reg;
				console.log(info)
				var picker = document.getElementById("budgetSelectorReq");
				actualLoadReq = info.CODE;
				picker.click();
				picker.name = info.CODE+"[]";

			}
			
			var download = document.createElement("img");
			download.src = "irsc/downIcon.png";
			download.reg = list[i];
			download.setAttribute('title', 'Download file');
			download.setAttribute('alt', 'Download file');
			download.onclick = function()
			{
				
				var info = this.reg;
				var filename = info.FILELINK;
				var url = "filesR/"+info.CODE+"/"+filename;
				// console.log(decry(url));
				console.log(url)
				downloadReport(decry(url));
				
			}
			
			var delFile = document.createElement("img");
			delFile.src = "irsc/deleteFileIcon.png";
			delFile.reg = list[i];
			delFile.setAttribute('title', 'Delete file');
			delFile.setAttribute('alt', 'Delete file');
			delFile.onclick = function()
			{
				
				var info = this.reg;
				var type = "filesR";
				var code = info.CODE;
				
				var param = [type, code];
				confirmBox(language["confirm"], language["delFileCheck"], deleteFile, 300, param);
				
			}
			
			
			var del = document.createElement("img");
			del.src = "irsc/delIcon.png";
			del.reg = list[i];
			del.setAttribute('title', 'Delete');
			del.setAttribute('alt', 'Delete');
			del.onclick = function()
			{
				var tableId = this.parentNode.parentNode.parentNode.id;
				var param = [tableId, this.reg.CODE];
				
				confirmBox(language["confirm"], language["sys011"], deleteRecord, 300, param);
			}
			
			
			var exprt = document.createElement("img");
			exprt.src = "irsc/export.png";
			exprt.reg = list[i];
			exprt.setAttribute('title', 'Export request');
			exprt.setAttribute('alt', 'Export request');
			exprt.onclick = function()
			{
				console.log(this.reg)
				actualDCODE = this.reg.CODE;
				actualDDATE = this.reg.DATE;
				actualQCODE = this.reg.CODE;
				actualEtype = "reqSup";
				
				// GET FORMATTED REPORT FOLLOW SAMPLE AND PUT SAME VALUES IN SAME CELLSYOU
				
				sendContactOrder();
				
				// RESTORE LATER
				// var info = this.reg;
				
				// document.getElementById("contactMessageOrder").value = "Day report for Proposal: "+this.reg.QCODE+" Date: "+this.reg.DATE;
				
				// sendAjax("users","getContactList",info,function(response)
				// {
					// var users = response.message;
					// contactOpenOrder(info, users)
				// });

			}
			
			var icons = [edit, sendNotify];
			
			if(list[i].FILELINK != "")
			{
				icons.push(upload);
				icons.push(download);
				icons.push(delFile);
				
			}
			else
			{
				icons.push(upload);
			}
			
			
			icons.push(exprt);
			icons.push(del);
			
			
			var x = cellOptionsCreator('', icons)
			var cells = [a,b,c,d,e,f,g,t,j,k,l,x];
			for(var r=0; r<cells.length; r++){row.appendChild(cells[r]);}
			if(list[i].TYPE == "A"){continue}
			table.appendChild(row);
		}
	}
	// WEEK TABLE
	if(tableId == "weekTable")
	{
		for(var i=0; i<list.length; i++)
		{
			
			var row = document.createElement("div");
			row.className = "rowT";
			
			var a = cellCreator('Name', list[i].TNAME);
			
			var day1 = document.createElement("div");
			day1.innerHTML = actualRange[0].split("-")[2];
			day1.date = actualRange[0];
			day1.code = list[i].UCODE;
			day1.name = list[i].TNAME;
			day1.pos = list[i].POSITION;
			day1 = dateCheck(day1);
			var b = cellChildrenCreator('Sunday', day1);
			
			var day2 = document.createElement("div");
			day2.innerHTML = actualRange[1].split("-")[2];
			day2.date = actualRange[1];
			day2.code = list[i].UCODE;
			day2.name = list[i].TNAME;
			day2.pos = list[i].POSITION;
			day2 = dateCheck(day2);
			var c = cellChildrenCreator('Monday', day2);
			
			var day3 = document.createElement("div");
			day3.innerHTML = actualRange[2].split("-")[2];
			day3.date = actualRange[2];
			day3.code = list[i].UCODE;
			day3.name = list[i].TNAME;
			day3.pos = list[i].POSITION;
			day3 = dateCheck(day3);
			var d = cellChildrenCreator('Tuesday', day3);
			
			var day4 = document.createElement("div");
			day4.innerHTML = actualRange[3].split("-")[2];
			day4.date = actualRange[3];
			day4.code = list[i].UCODE;
			day4.name = list[i].TNAME;
			day4.pos = list[i].POSITION;
			day4 = dateCheck(day4);
			var e = cellChildrenCreator('Wednesday', day4);
			
			var day5 = document.createElement("div");
			day5.innerHTML = actualRange[4].split("-")[2];
			day5.date = actualRange[4];
			day5.code = list[i].UCODE;
			day5.name = list[i].TNAME;
			day5.pos = list[i].POSITION;
			day5 = dateCheck(day5);
			var f = cellChildrenCreator('Thursday', day5);
			
			var day6 = document.createElement("div");
			day6.innerHTML = actualRange[5].split("-")[2];
			day6.date = actualRange[5];
			day6.code = list[i].UCODE;
			day6.name = list[i].TNAME;
			day6.pos = list[i].POSITION;
			day6 = dateCheck(day6);
			var g = cellChildrenCreator('Friday', day6);
			
			var day7 = document.createElement("div");
			day7.innerHTML = actualRange[6].split("-")[2];
			day7.date = actualRange[6];
			day7.code = list[i].UCODE;
			day7.name = list[i].TNAME;
			day7.pos = list[i].POSITION;
			day7 = dateCheck(day7);
			var h = cellChildrenCreator('Saturday', day7);
			
			var icons = [];
			var x = cellOptionsCreator('', icons)
			var cells = [a,b,c,d,e,f,g,h];
			for(var r=0; r<cells.length; r++){row.appendChild(cells[r]);}
			
			if(aud.CATEGORY == "S")
			{
				if(list[i].UCODE != aud.CODE)
				{
					continue;
				}
			}
			
			table.appendChild(row);
		}
	}
	// SCHEDULE TABLE
	if(tableId == "schTable")
	{
		for(var i=0; i<list.length; i++)
		{
			var row = document.createElement("div");
			row.className = "rowT";
			
			var a = cellCreator('Identificación', list[i].NIT)
			var b = cellCreator('Name', list[i].RESPNAME)
			var b2 = cellCreator('Position', list[i].uPos)
			
			if(list[i].TYPE == "JZ"){var type = "Advanced Specialist";}
			if(list[i].TYPE == "CO"){var type = "Commercial";}
			if(list[i].TYPE == "FB"){var type = "Financial Business Analyst";}
			if(list[i].TYPE == "PL"){var type = "Planning";}
			if(list[i].TYPE == "PM"){var type = "Project Manager";}
			if(list[i].TYPE == "SM"){var type = "Site Manager";}
			if(list[i].TYPE == "SP"){var type = "Supervisor";}
			if(list[i].TYPE  == "S"){var type = "Technical Specialist"}
			if(list[i].TYPE == "UC"){var type = "Contractor";}

			var c = cellCreator('Type', type);
			var d = cellCreator('Especialidad', list[i].MASTERY);
			var loc = cellCreator('Ciudad', list[i].LOCATION);
			var e = cellCreator('Email', list[i].MAIL);
			
			var profile = document.createElement("img");
			profile.src = "irsc/profile.png";
			profile.reg = list[i];
			profile.setAttribute('title', 'Profile');
			profile.setAttribute('alt', 'Profile');
			profile.onclick = function()
			{
				actualTechData = this.reg;
				showProfile();
					
			}

			var shcedule = document.createElement("img");
			shcedule.src = "irsc/history.png";
			shcedule.reg = list[i];
			shcedule.setAttribute('title', 'Schedule');
			shcedule.setAttribute('alt', 'Schedule');
			shcedule.onclick = function()
			{
				actualTechData = this.reg;
				console.log(actualTechData)
				ifLoad("ifMasterMonth")
			}
			
			var training = document.createElement("img");
			training.src = "irsc/detailIcon.png";
			training.reg = list[i];
			training.setAttribute('title', 'Training');
			training.setAttribute('alt', 'Training');
			training.onclick = function()
			{
				actualTechData = this.reg;
				// console.log(JSON.stringify(actualTechData))
				ifLoad("ifMasterTraining")
			}
			
			var ppe = document.createElement("img");
			ppe.src = "irsc/detailIcon2.png";
			ppe.reg = list[i];
			ppe.setAttribute('title', 'PPE and Tools');
			ppe.setAttribute('alt', 'PPE and Tools');
			ppe.onclick = function()
			{
				actualTechData = this.reg;
				// console.log(JSON.stringify(actualTechData))
				ifLoad("ifMasterPPE")
			}

			var icons = [shcedule, profile, training,ppe];
			var x = cellOptionsCreator('', icons)
			var cells = [b,c,b2,e,x];
			for(var r=0; r<cells.length; r++){row.appendChild(cells[r]);}
			if(list[i].TYPE == "A"){continue}
			
			if(aud.CATEGORY == "S")
			{
				if(list[i].CODE != aud.CODE)
				{
					continue;
				}
			}
			
			table.appendChild(row);
		}
	}
	// TRAINING TABLE
	if(tableId == "trainingsTable")
	{
		for(var i=0; i<list.length; i++)
		{
			var row = document.createElement("div");
			row.className = "rowT";
			
			var a = cellCreator('Course Name', list[i].CNAME)
			var b = cellCreator('Provider', list[i].PROVIDER)
			var dot = cellCreator('Mark', createDot(list[i].ENDATE));
			
			var type = "";
			
			if(list[i].TRTYPE == "STC")
			{type = "Safety Training & Certifications";}
			if(list[i].TRTYPE == "ASTC")
			{type = "Advanced Safety Training & Certifications";}
			if(list[i].TRTYPE == "DC")
			{type = "DOT Compliance";}
			if(list[i].TRTYPE == "E")
			{type = "Environmental";}
			if(list[i].TRTYPE == "TT")
			{type = "Technical Training";}
			
			var c = cellCreator('Type', type)
			var d = cellCreator('Valid from', list[i].INIDATE)
			var e = cellCreator('Valid until', list[i].ENDATE)
			var f = cellCreator('Comments', list[i].COMMENTS)
			
			var del = document.createElement("img");
			del.src = "irsc/delIcon.png";
			del.reg = list[i];
			del.setAttribute('title', 'Delete');
			del.setAttribute('alt', 'Delete');
			del.onclick = function()
			{
				var tableId = this.parentNode.parentNode.parentNode.id;
				var param = [tableId, this.reg.CODE];
				
				confirmBox(language["confirm"], language["sys011"], deleteRecord, 300, param);
			}
			
			var upload = document.createElement("img");
			upload.src = "irsc/upload.png";
			upload.reg = list[i];
			upload.setAttribute('title', 'Upload file');
			upload.setAttribute('alt', 'Upload file');
			upload.onclick = function()
			{
				
				var info = this.reg;
				var picker =document.getElementById("budgetSelectorTr");
				actualLoadTr = info.CODE;
				picker.click();
				picker.name = info.CODE+"[]";

			}
			
			var download = document.createElement("img");
			download.src = "irsc/downIcon.png";
			download.reg = list[i];
			download.setAttribute('title', 'Download file');
			download.setAttribute('alt', 'Download file');
			download.onclick = function()
			{
				
				var info = this.reg;
				var filename = info.FILE;
				var url = "trfiles/"+info.CODE+"/"+filename;
				// console.log(decry(url));
				downloadReport(decry(url));
				
			}
			
			var delFile = document.createElement("img");
			delFile.src = "irsc/deleteFileIcon.png";
			delFile.reg = list[i];
			delFile.setAttribute('title', 'Delete file');
			delFile.setAttribute('alt', 'Delete file');
			delFile.onclick = function()
			{
				
				var info = this.reg;
				var type = "trfiles";
				var code = info.CODE;
				
				var param = [type, code];
				confirmBox(language["confirm"], language["delFileCheck"], deleteFile, 300, param);
				
			}
			
			
			var sendNotify = document.createElement("img");
			sendNotify.src = "irsc/notify.png";
			sendNotify.reg = list[i];
			sendNotify.setAttribute('title', 'Send notification');
			sendNotify.setAttribute('alt', 'Send notification');
			sendNotify.onclick = function()
			{
				actualEtype = "trnotif";
				var info = this.reg;
				sendAjax("users","getContactList",info,function(response)
				{
					var users = response.message;
					contactOpenOrder(info, users)
				});

			}
			
			if(list[i].FILE != "")
			{
				var icons = [sendNotify,upload, download,delFile,del];
			}
			else
			{
				var icons = [sendNotify,upload, del];
			}

			var x = cellOptionsCreator('', icons)
			var cells = [dot,a,b,c,d,e,f,x];
			for(var r=0; r<cells.length; r++){row.appendChild(cells[r]);}
			if(list[i].TYPE == "A"){continue}
			
			if(aud.CATEGORY == "S")
			{
				if(list[i].CODE != aud.CODE)
				{
					continue;
				}
			}
			
			table.appendChild(row);
		}
	}
	// PPE TABLE
	if(tableId == "ppeTable")
	{
		for(var i=0; i<list.length; i++)
		{
			var row = document.createElement("div");
			row.className = "rowT";
			
			var a = cellCreator('Type', list[i].TOEQUI)
			var b = cellCreator('Serial', list[i].EQSERIAL)
			var c = cellCreator('SKU', list[i].EQSKU)
			var d = cellCreator('Manufactured', list[i].EQMDATE)
			var e = cellCreator('delivered', list[i].EQDDATE)
			var f = cellCreator('Use until', list[i].EQENDATE)
			var g = cellCreator('Brand', list[i].EQBRAND)
			var h = cellCreator('Model', list[i].EQMODEL)
			var j = cellCreator('Condition', list[i].EQSTATE)
			var k = cellCreator('Comments', list[i].COMMENTS)
			
			var dot = cellCreator('Mark', createDot(list[i].EQENDATE));
			
			var del = document.createElement("img");
			del.src = "irsc/delIcon.png";
			del.reg = list[i];
			del.setAttribute('title', 'Delete');
			del.setAttribute('alt', 'Delete');
			del.onclick = function()
			{
				var tableId = this.parentNode.parentNode.parentNode.id;
				var param = [tableId, this.reg.CODE];
				
				confirmBox(language["confirm"], language["sys011"], deleteRecord, 300, param);
			}
			
			var upload = document.createElement("img");
			upload.src = "irsc/upload.png";
			upload.reg = list[i];
			upload.setAttribute('title', 'Upload file');
			upload.setAttribute('alt', 'Upload file');
			upload.onclick = function()
			{
				
				var info = this.reg;
				var picker =document.getElementById("budgetSelectorTr");
				actualLoadTr = info.CODE;
				picker.click();
				picker.name = info.CODE+"[]";

			}
			
			var download = document.createElement("img");
			download.src = "irsc/downIcon.png";
			download.reg = list[i];
			download.setAttribute('title', 'Download file');
			download.setAttribute('alt', 'Download file');
			download.onclick = function()
			{
				
				var info = this.reg;
				var filename = info.FILE;
				var url = "trfiles/"+info.CODE+"/"+filename;
				// console.log(decry(url));
				downloadReport(decry(url));
				
			}
			
			var delFile = document.createElement("img");
			delFile.src = "irsc/deleteFileIcon.png";
			delFile.reg = list[i];
			delFile.setAttribute('title', 'Delete file');
			delFile.setAttribute('alt', 'Delete file');
			delFile.onclick = function()
			{
				
				var info = this.reg;
				var type = "ppefiles";
				var code = info.CODE;
				
				var param = [type, code];
				confirmBox(language["confirm"], language["delFileCheck"], deleteFile, 300, param);
				
			}
			
			
			var sendNotify = document.createElement("img");
			sendNotify.src = "irsc/notify.png";
			sendNotify.reg = list[i];
			sendNotify.setAttribute('title', 'Send notification');
			sendNotify.setAttribute('alt', 'Send notification');
			sendNotify.onclick = function()
			{
				actualEtype = "ppenotif";
				var info = this.reg;
				sendAjax("users","getContactList",info,function(response)
				{
					var users = response.message;
					contactOpenOrder(info, users)
				});

			}
			
			if(list[i].FILE != "")
			{
				var icons = [sendNotify,upload, download,delFile,del];
			}
			else
			{
				var icons = [sendNotify,upload, del];
			}

			var x = cellOptionsCreator('', icons)
			var cells = [dot,a,b,c,d,e,f,g,h,j,k,x];
			for(var r=0; r<cells.length; r++){row.appendChild(cells[r]);}
			if(list[i].TYPE == "A"){continue}
			
			if(aud.CATEGORY == "S")
			{
				if(list[i].CODE != aud.CODE)
				{
					continue;
				}
			}
			
			table.appendChild(row);
		}
	}
	 // ORDERS TABLE
	if(tableId == "ordersTable")
	{
		if(aud.BANNED){userLimit = aud.BANNED.split(",");}
		else{userLimit = []}
		
		for(var i=0; i<list.length; i++)
		{
			var row = document.createElement("div");
			row.className = "rowT";
			if(userLimit.length > 0)
			{
				if(userLimit[0] == "all"){continue}
				else
				{
					var num =  list[i].ONUM;
					if(!userLimit.includes(num)){continue}
				}
			}
	
			var num = cellCreator('Client', list[i].ONUM);
			var a = cellCreator('Client', list[i].CLIENT);
			var b = cellCreator('Wind farm', list[i].WINDFARM);
			var c = cellCreator('Address', list[i].ADDRESS);
			var d = cellCreator('Contact', list[i].CONTACT1)
			var e = cellCreator('Contact phone', list[i].PHONE1);
			var f = cellCreator('Internal contact', list[i].CONTACT2);
			var g= cellCreator('Internal contact phone', list[i].PHONE2);
			var m= cellCreator('District', list[i].DISTRICT);
			var n= cellCreator('Turbine', list[i].TURBINE);
			var l = cellCreator('Author', list[i].AUTHOR);
			var h = cellCreator('Work detail', encry(list[i].WKDETAIL));
			
			if(list[i].STATUS == "1"){var state = "New"}
			if(list[i].STATUS == "2"){var state = "Approved"}
			if(list[i].STATUS == "3"){var state = "<b onclick='getComments(this.id)' id='"+list[i].CODE+"'>Closed-won</b>"}
			if(list[i].STATUS == "4"){var state = "<b onclick='getComments(this.id)' id='"+list[i].CODE+"'>Closed-lost</b>"}
			if(list[i].STATUS == "5"){var state = "Facturada"}
			if(list[i].STATUS == "6"){var state = "Previsita"}
			if(list[i].STATUS == "7"){var state = "Cotizado"}
			
			var j = cellCreator('Status', state);
			
			if(list[i].TYPE == "1"){var type = "Standard Project"}
			else if(list[i].TYPE == "0"){var type = "Template: "+list[i].TEMPLATENAME}
			else{var type = "Created from template: "+list[i].TEMPLATENAME}
			
			var type = cellCreator('type', type);
			
			var edit = document.createElement("img");
			edit.src = "irsc/editIcon.png";
			edit.reg = list[i];
			edit.setAttribute('title', 'Edit');
			edit.setAttribute('alt', 'Edit');
			edit.onclick = function()
			{

				
				if(this.reg.TYPE == "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
				
				if(this.reg.STATUS == "3" || this.reg.STATUS == "4")
				{
					alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>This quote is closed for changes", 300);
					return;
				}
				
				
				editMode = 1;
				var info = this.reg;
				var items = [info.TYPE,info.CLIENT, info.ADDRESS, info.CONTACT1, info.PHONE1, info.CONTACT2, info.PHONE2, info.WINDFARM, info.PLATFORM, info.WFTYPE, info.DEPARTMENT, info.PROPTYPE, info.WKDETAIL];
				
				var targets = a_orde_targets;
				
				infoFiller(items, targets);
				actualOrderCode = info.CODE;
				actualOrderState = info.STATE;
				document.getElementById("a-ptype").disabled = true;
				orderSaveButton.innerHTML = "Save";
				
				loadFieldsWF(info.AREA, info.COUNTRY, info.DISTRICT, info.WINDFARM);
				
				loadFieldsPL(info.TPLAT, info.TSERIE, info.PLATFORM)
				
					
			}

			var detail = document.createElement("img");
			detail.src = "irsc/openIcon.png";
			detail.reg = list[i];
			detail.setAttribute('title', 'Details');
			detail.setAttribute('alt', 'Details');
			detail.onclick = function()
			{
					
				if(this.reg.TYPE == "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
				
				var info = this.reg;
				
				if(info.TECHCODE == "")
				{
						alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Antes de ver el detalle de orden debe asignarse a un técnico!", 300);
						return;
				}
				
				ifLoad('iforderMain');
				orderStarter(info.CODE)
			}

			var del = document.createElement("img");
			del.src = "irsc/delIcon.png";
			del.reg = list[i];
			del.setAttribute('title', 'Delete');
			del.setAttribute('alt', 'Delete');
			del.onclick = function()
			{
				if(this.reg.TYPE == "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
				
				if(this.reg.STATUS == "3" || this.reg.STATUS == "4")
				{
					alertBox(language["alert"], language["closedElement"], 300);
					return;
				}
				
				var tableId = this.parentNode.parentNode.parentNode.id;
				var param = [tableId, this.reg.CODE];
				
				confirmBox(language["confirm"], language["sys011"], deleteRecord, 300, param);
			}
			
			var delFile = document.createElement("img");
			delFile.src = "irsc/deleteFileIcon.png";
			delFile.reg = list[i];
			delFile.setAttribute('title', 'Delete file');
			delFile.setAttribute('alt', 'Delete file');
			delFile.onclick = function()
			{
				
				if(this.reg.TYPE == "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
				
				var info = this.reg;
				var type = "files";
				var code = info.CODE;
				
				var param = [type, code];
				confirmBox(language["confirm"], language["delFileCheck"], deleteFile, 300, param);
				
			}
			
			var lock = document.createElement("img");
			
			if(list[i].STATUS == "3" || list[i].STATUS == "4")
			{
				lock.src = "irsc/passIcon.png";
			}
			else
			{
				lock.src = "irsc/passIconG.png";
			}

			lock.reg = list[i];
			lock.setAttribute('title', 'Close');
			lock.setAttribute('alt', 'Close');
			lock.onclick = function()
			{

				// if(aud.TYPE !="A" && aud.TYPE !="JZ")
				// {
					// alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Only Administrator and advanced specialists can change the closed status for quotes", 300);
					// return;
				// }
				
				if(this.reg.TYPE == "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
				
				if(this.reg.STATUS == "1")
				{
					alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You cannot change the status for new quotes. It must be approved or closed", 300);
					return;
				}
				
				if(this.reg.STATUS == "3" || this.reg.STATUS == "4")
				{
					var param = [this.reg.CODE, "2"];
					confirmBox(language["confirm"], language["unlockConfirm"], lockOrder, 300, param);
					return;
				}
				if(this.reg.STATUS == "2")
				{
					var param = [this.reg.CODE, "3"];
					actuaLockCode = this.reg.CODE;
					
					document.getElementById("LockComments").value = "";
					
					formBox("lockDiv",language["contactLink"],400);
					
					// confirmBox(language["confirm"], language["lockConfirm"], lockOrder, 300, param);
					return;
				}

			}
			
			var upload = document.createElement("img");
			upload.src = "irsc/upload.png";
			upload.reg = list[i];
			upload.setAttribute('title', 'Upload file');
			upload.setAttribute('alt', 'Upload file');
			upload.onclick = function()
			{
				
				if(this.reg.TYPE == "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
				
				if(this.reg.STATUS == "3")
				{
					alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>This quote is closed for changes", 300);
					return;
				}		
				
				var info = this.reg;
				var picker =document.getElementById("budgetSelectorOrder");
				actualLoadOrder = info.CODE;
				picker.click();
				picker.name = info.CODE+"[]";

			}
			
			var download = document.createElement("img");
			download.src = "irsc/downIcon.png";
			download.reg = list[i];
			download.setAttribute('title', 'Download file');
			download.setAttribute('alt', 'Download file');
			download.onclick = function()
			{
				
				var info = this.reg;
				var filename = info.FILELINK;
				var url = "files/"+info.CODE+"/"+filename;
				console.log(decry(url));
				downloadReport(decry(url));
				
			}
			
			var sendNotify = document.createElement("img");
			sendNotify.src = "irsc/notify.png";
			sendNotify.reg = list[i];
			sendNotify.setAttribute('title', 'Send notification');
			sendNotify.setAttribute('alt', 'Send notification');
			sendNotify.onclick = function()
			{
				
				if(this.reg.TYPE == "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
				
				actualEtype = "";
				var info = this.reg;
				sendAjax("users","getContactList",info,function(response)
				{
					var users = response.message;
					contactOpenOrder(info, users)
				});

			}
			
			var clone = document.createElement("img");
			clone.src = "irsc/cloneIcon.png";
			clone.reg = list[i];
			clone.setAttribute('title', 'Clone quote');
			clone.setAttribute('alt', 'Clone quote');
			clone.onclick = function()
			{
				
				if(this.reg.TYPE == "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
				
				var info = this.reg;
				info.autorCode = aud.CODE;
				info.date = getNow();
				info.autor = aud.RESPNAME;
				info["a-orderParent"] = info.CLIENT;
				info.target = info.CLIENT;
				info.optype = ltt6;
				info.type = 'O';
				
				var param = [info];
				confirmBox(language["confirm"], language["confirmClone"], cloneConfirmed, 300, param);

			}
			
			var selector = document.createElement("input");
			selector.type = "checkbox";
			selector.reg = list[i];
			selector.setAttribute('title', 'Seleccionar para facturación');
			selector.setAttribute('alt', 'Seleccionar para facturación');
			selector.id = list[i].CODE;
			
			if(list[i].FILELINK != "")
			{
				var icons = [edit, upload, download, delFile, detail, clone, sendNotify, lock, del];
			}
			else
			{
				var icons = [edit, upload, detail, clone, sendNotify, lock, del];
			}
			
			
			var x = cellOptionsCreator('', icons)
			
			
			var cells = [num,type,a,b,c,d,e,f,m,h,j,l,x];
			for(var r=0; r<cells.length; r++){row.appendChild(cells[r]);}
			table.appendChild(row);
		}
		
	}
	 // ORDERS TURBS TABLE
	if(tableId == "oTurbsTable")
	{
		
		turbCount = 0;
		thoursCount = 0;

		for(var i=0; i<list.length; i++)
		{
			var row = document.createElement("div");
			row.className = "rowT";

			var field = editableField(list[i],30,"TNAME",list[i].TNAME, "mustTname", "updateOturb",refreshoTurbs,null,"check");
			var a = celloneIconCreator('Name', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			
			
			var field = editableField(list[i],30,"HOURS",list[i].HOURS, "mustThours", "updateOturb",refreshoTurbs,null,"check");
			var b = celloneIconCreator('Hours', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			var field = editableField(list[i],30,"WHSF",list[i].WHSF, "", "updateOturb",refreshoTurbs, "nm","check");
			var c = celloneIconCreator('Wf or Sf', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			// if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			var field = editableField(list[i],300,"COMMENT",list[i].COMMENT, "", "updateOturb",refreshoTurbs, "nm", "check");
			var d = celloneIconCreator('Comment', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			// if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			var field = editableField(list[i],30,"IDDATE",list[i].IDDATE, "", "updateOturb",refreshoTurbs, "nm", "check");
			var e = celloneIconCreator('Identified date', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			// if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			var field = editableField(list[i],30,"WO",list[i].WO, "", "updateOturb",refreshoTurbs, "nm", "check");
			var f = celloneIconCreator('Work order', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			// if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			var del = document.createElement("img");
			del.src = "irsc/delIcon.png";
			del.reg = list[i];
			del.setAttribute('title', 'Delete');
			del.setAttribute('alt', 'Delete');
			del.onclick = function()
			{
				if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
				if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
				
				
				var tableId = this.parentNode.parentNode.parentNode.id;
				var param = [tableId, this.reg.TCODE];
				
				confirmBox(language["confirm"], language["sys011"], deleteRecord, 300, param);
			}
			
			var clone = document.createElement("img");
			clone.src = "irsc/cloneIcon.png";
			clone.reg = list[i];
			clone.setAttribute('title', 'Clone line');
			clone.setAttribute('alt', 'Clone line');
			clone.onclick = function()
			{
				if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
				if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
				
				actuaRegData = this.reg;
				actualCloneType = "T";
				saveClone();
			}
			
			
			var detail = document.createElement("img");
			detail.src = "irsc/detailIcon.png";
			detail.reg = list[i];
			detail.setAttribute('title', 'Clone line');
			detail.setAttribute('alt', 'Clone line');
			detail.onclick = function()
			{
				console.log(this.reg);
				
				var data = this.reg;
				
				var string = "<b>Name: </b>"+data.TNAME+"<br>"+
							"<b>Service order: </b>"+data.SO+"<br>"+
							"<b>Cost order: </b>"+data.CO+"<br>"+
							"<b>WBS: </b>"+data.WBS+"<br>"+
							"<b>Wh# or Sf#: </b>"+data.WHSF+"<br>"+
							"<b>Identified: </b>"+data.IDDATE+"<br>"+
							"<b>Requested start: </b>"+data.IDDATE+"<br>"+
							"<b>Priority: </b>"+data.IDDATE+"<br>"+
							"<b>Blade A S/N: </b>"+data.SNA+"<br>"+
							"<b>Blade B S/N: </b>"+data.SNB+"<br>"+
							"<b>Blade C S/N: </b>"+data.SNC+"<br>"+
							"<b>Blade A Planed Shells: </b>"+data.TAPS+"<br>"+
							"<b>Blade B Planed Shells: </b>"+data.TBPS+"<br>"+
							"<b>Blade C Planed Shells: </b>"+data.TCPS+"<br>"+
							"<b>Blade A Preparation time: </b>"+data.TAPT+"<br>"+
							"<b>Blade B Preparation time: </b>"+data.TBPT+"<br>"+
							"<b>Blade C Preparation time: </b>"+data.TCPT+"<br>"+
							"<b>Blade A Install time: </b>"+data.TAIT+"<br>"+
							"<b>Blade B Install time: </b>"+data.TBIT+"<br>"+
							"<b>Blade C Install time: </b>"+data.TCIT+"<br>";
				
				alertBox("Full turbine information", string, 300);
				
			}
			
			var icons = [clone, detail, del];
			
			var x = cellOptionsCreator('', icons)

			var cells = [a,b,c,e,f,d,x];

			for(var r=0; r<cells.length; r++)
			{
				row.appendChild(cells[r]);
			}
			table.appendChild(row);
			
			
			turbCount = turbCount+1;
			thoursCount = thoursCount+parseFloat(list[i].HOURS);

		}
		
		var line = ["Total hours", thoursCount];
		var totalRow = enderRow(line);
		table.appendChild(totalRow);
	
		document.getElementById("oResTurbine").innerHTML = turbCount;
			
	}
	// SESSIONS TABLE
	if(tableId == "sessionsTable")
	{

		for(var i=0; i<list.length; i++)
		{
			var row = document.createElement("div");
			row.className = "rowT";
			
			if(list[i].TYPE == "NPR"){var type = "NON PRODUCTIVE";}
			if(list[i].TYPE == "OTH"){var type = "OTHER";}
			if(list[i].TYPE == "PRJ"){var type = "PROJECT";}
			if(list[i].TYPE == "PTO"){var type = "PTO";}
			if(list[i].TYPE == "R&R"){var type = "R&R";}
			if(list[i].TYPE == "TRN"){var type = "TRAINING";}
			if(list[i].TYPE == "HOL"){var type = "HOLIDAY";}
			if(list[i].TYPE == "TVL"){var type = "TRAVEL DAY";}
			
			
			var a = cellCreator('Type', type)
			var b = cellCreator('Cost Order', list[i].CO)
			var c = cellCreator('Service Order', list[i].SO)
			var c2 = cellCreator('WBS element', list[i].WBS)
			
			if(list[i].INIDATE.length <= 5)
			{
				var start = translateTime(list[i].INIDATE);
				var end = translateTime(list[i].ENDATE);
			}
			else
			{
				var start = list[i].INIDATE;
				var end = list[i].EDATE;
			}
			
			
			var d = cellCreator('Start Hour', start)
			var e = cellCreator('End Hour', end)
			
			if(parseFloat(list[i].HOURS) == 1)
			{var h = " hour";}
			else
			{var h = " hours";}
			
			var f = cellCreator('Hours', list[i].HOURS+h);

			var del = document.createElement("img");
			del.src = "irsc/delIcon.png";
			del.reg = list[i];
			del.setAttribute('title', 'Delete');
			del.setAttribute('alt', 'Delete');
			del.onclick = function()
			{
				var tableId = this.parentNode.parentNode.parentNode.id;
				var param = [tableId, this.reg.CODE];
				
				confirmBox(language["confirm"], language["sys011"], deleteRecord, 300, param);
			}
			
			if(list[i].UCODE != ""){var icons = [];}
			else{var icons = [del];}
			
			
			var x = cellOptionsCreator('', icons)
			var cells = [a,b,c,c2,d,e,f,x];
			for(var r=0; r<cells.length; r++){row.appendChild(cells[r]);}
			table.appendChild(row);
		}

	}
	// ORDERS ACTIS TABLE
	if(tableId == "oActsTable")
	{
		etimeTotal = 0;
		atimeTotal = 0;
		actisTotal = 0;
		actisTotala = 0;
		crewCount = 0;
		
		if(aud.TYPE == "CO")
		{
			document.getElementById("laborActualCol").style.display = "none";
			document.getElementById("laborActualSCol").style.display = "none";
		}
		else
		{
			document.getElementById("laborActualCol").style.display = "table-cell";
			document.getElementById("laborActualSCol").style.display = "table-cell";
		}
		
		for(var i=0; i<list.length; i++)
		{
			var row = document.createElement("div");
			row.className = "rowT";
			
			var a = cellCreator('Responsible', list[i].RESPTYPE);
						
			
			var field = editableField(list[i],30,"UNITCOST",list[i].UNITCOST, "mustCost", "updateOacti",refreshoActs,null,"check");
			var c = celloneIconCreator('Price/Unit', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A")
			{
				var field = editableFieldSpecial(list[i],120,"RESPNAME",list[i].RESPNAME, "mustRname", "updateOacti",refreshoActs, "nm","check");
				var d = celloneIconCreator('Name', [field]);
				if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			}
			else
			{
				var field = editableField(list[i],120,"RESPNAME",list[i].RESPNAME, "mustRname", "updateOacti",refreshoActs, "nm","check");
				var d = celloneIconCreator('Name', [field]);
				if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			}
			
			
			var field = editableField(list[i],120,"CNAME",list[i].CNAME, "mustCname", "updateOacti",refreshoActs,null,"check");
			var e = celloneIconCreator('Company', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			// if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}

			
			if(list[i].MIMO != ""){var mimo = list[i].MIMO;}
			else{var mimo = 0;}
			
			var field = editableField(list[i],120,"MIMO",mimo, "mustMimo", "updateOacti",refreshoActs,null,"check");
			var f = celloneIconCreator('Mob In/Out', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			
			if(list[i].MIMOQ != ""){var mimoq = list[i].MIMOQ;}
			else{var mimoq = 0;}
			
			
			var field = editableField(list[i],120,"MIMOQ",mimoq, "mustMimo", "updateOacti",refreshoActs,null,"check");
			var g = celloneIconCreator('Mob In/Out Qty', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			
			var field = editableField(list[i],120,"ADESC",list[i].ADESC, "", "updateOacti",refreshoActs, "nm", "check");
			var desc = celloneIconCreator('Description', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			
			var field = editableField(list[i],30,"TIME",list[i].TIME, "mustTime", "updateOacti",refreshoActs,null,"check");
			var b = celloneIconCreator('Hours', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			
			var b2 = cellCreator('Hours (execution)', list[i].TE);
			
			if(list[i].ACTUAL == ""){list[i].ACTUAL = 0;}		
			
			var subtotal1 = (parseFloat(list[i].UNITCOST)*parseFloat(list[i].TIME))+(parseFloat(mimo)*parseFloat(mimoq));
			
			var subtotal2 = (parseFloat(list[i].UNITCOST)*parseFloat(list[i].TE))+(parseFloat(mimo)*parseFloat(mimoq));
			
			etimeTotal = etimeTotal+parseFloat(list[i].TIME);
			atimeTotal = atimeTotal+parseFloat(list[i].TE);

			var sbc = cellCreator('Subtotal', addCommas(subtotal1));
			var sbc2 = cellCreator('Subtotal(execution)', addCommas(subtotal2));

			var del = document.createElement("img");
			del.src = "irsc/delIcon.png";
			del.reg = list[i];
			del.setAttribute('title', 'Delete');
			del.setAttribute('alt', 'Delete');
			del.onclick = function()
			{
				if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
				if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
				
				var tableId = this.parentNode.parentNode.parentNode.id;
				var param = [tableId, this.reg.CODE];
				
				confirmBox(language["confirm"], language["sys011"], deleteRecord, 300, param);
			}
			
			var clone = document.createElement("img");
			clone.src = "irsc/cloneIcon.png";
			clone.reg = list[i];
			clone.setAttribute('title', 'Clone line');
			clone.setAttribute('alt', 'Clone line');
			clone.onclick = function()
			{
				
				if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
				if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
				
				itsAclone = 1;
				
				actuaRegData = this.reg;
				document.getElementById("actiResponsibleClone").value = "";
				document.getElementById("actiResponsibleClone").onchange();
				document.getElementById("actiRespClone").style.display = "none";
				document.getElementById("actiRespCloneS").style.display = "none";
				formBox("cloneLaborBox",language["cloneLineL"],350);
				
				var saveB = document.getElementById("clonePopSave");
				saveB.innerHTML = "Create line";
				
				actualCloneType = "L";

			}
			
			var icons = [clone, del];
			
			var x = cellOptionsCreator('', icons)
			
			
			if(aud.TYPE == "CO")
			{
				var cells = [a,c,d,e,f,g,desc,b,sbc,x];
			}
			else
			{
				var cells = [a,c,d,e,f,g,desc,b,b2,sbc,sbc2,x];
			}

			for(var r=0; r<cells.length; r++)
			{
				row.appendChild(cells[r]);
			}
			table.appendChild(row);
			
			
			actisTotal = actisTotal+subtotal1;
			actisTotala = actisTotala+subtotal2;
			crewCount++;

		}

		document.getElementById("oEstimated").innerHTML = etimeTotal+" Hours";
		document.getElementById("oEstimatedA").innerHTML = atimeTotal+" Hours";
		document.getElementById("oActotal").innerHTML = addCommas(actisTotal);
		document.getElementById("oActotalA").innerHTML = addCommas(actisTotala);
		setTotals();
		setTotalsA();
	
			
	}
	 // ORDERS PARTS TABLE
	if(tableId == "oPartsTable")
	{
		partsTotal = 0;
		partsTotala = 0;
		
		if(aud.TYPE == "CO")
		{
			document.getElementById("partActualCol").style.display = "none";
			document.getElementById("partActualSCol").style.display = "none";
		}
		else
		{
			document.getElementById("partActualCol").style.display = "table-cell";
			document.getElementById("partActualSCol").style.display = "table-cell";
		}
		
		for(var i=0; i<list.length; i++)
		{
			var row = document.createElement("div");
			row.className = "rowT";

			var field = editableField(list[i],30,"PNUMBER",list[i].PNUMBER, "mustNumber", "updateOpart",refreshoParts,null,"check");
			var a = celloneIconCreator('Part number', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			var field = editableField(list[i],120,"PDESC",list[i].PDESC, "mustDesc", "updateOpart",refreshoParts,null,"check");
			var b = celloneIconCreator('Part detail', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			var field = editableField(list[i],30,"PCOST",list[i].PCOST, "mustCost", "updateOpart",refreshoParts,null,"check");
			var c = celloneIconCreator('Part cost', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			var field = editableField(list[i],120,"PVENDOR",list[i].PVENDOR, "mustVendor", "updateOpart",refreshoParts,null,"check");
			var d = celloneIconCreator('Part cost', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			var field = editableField(list[i],120,"PSHIPPING",list[i].PSHIPPING, "mustMimo", "updateOpart",refreshoParts,null,"check");
			var shp = celloneIconCreator('Part cost', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			var field = editableField(list[i],30,"PQTY",list[i].PQTY, "mustQty2", "updateOpart",refreshoParts,null,"check");
			var e = celloneIconCreator('Part Quantity ', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}

			var field = editableField(list[i],30,"ACTUAL",list[i].ACTUAL, "", "updateOpart",refreshoParts, "nm","check");
			var e2 = celloneIconCreator('Part Quantity (execution)', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			if(list[i].ACTUAL == ""){list[i].ACTUAL = 0;}		
			if(list[i].PSHIPPING == ""){list[i].PSHIPPING = 0;}		
			
			var subtotal1 = (parseFloat(list[i].PCOST)*parseFloat(list[i].PQTY))+parseFloat(list[i].PSHIPPING);
			var subtotal2 = (parseFloat(list[i].PCOST)*parseFloat(list[i].ACTUAL))+parseFloat(list[i].PSHIPPING);
			
			
			var sbc = cellCreator('Subtotal', addCommas(subtotal1));
			var sbc2 = cellCreator('Subtotal', addCommas(subtotal2));
			
			var del = document.createElement("img");
			del.src = "irsc/delIcon.png";
			del.reg = list[i];
			del.setAttribute('title', 'Delete');
			del.setAttribute('alt', 'Delete');
			del.onclick = function()
			{
				if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
				if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
				
				var tableId = this.parentNode.parentNode.parentNode.id;
				var param = [tableId, this.reg.CODE];
				
				confirmBox(language["confirm"], language["sys011"], deleteRecord, 300, param);
			}

			var icons = [del];
			
			var x = cellOptionsCreator('', icons)
			if(aud.TYPE == "CO")
			{
				var cells = [a,b,c,d,shp,e,sbc,x];
			}
			else
			{
				var cells = [a,b,c,d,shp,e,e2,sbc,sbc2,x];
			}
			
			for(var r=0; r<cells.length; r++){row.appendChild(cells[r]);}
			table.appendChild(row);
			
			partsTotal = partsTotal+subtotal1;
			partsTotala = partsTotala+subtotal2;

		}
		document.getElementById("oReptotal").innerHTML = addCommas(partsTotal);
		document.getElementById("oReptotalA").innerHTML = addCommas(partsTotala);
		setTotals();
		setTotalsA();
		
	}
	// ORDERS OTHERS TABLE
	if(tableId == "oOthersTable")
	{
		othersTotal = 0;
		othersTotala = 0;
		
		if(aud.TYPE == "CO")
		{
			document.getElementById("toolActualCol").style.display = "none";
			document.getElementById("toolActualSCol").style.display = "none";
		}
		else
		{
			document.getElementById("toolActualCol").style.display = "table-cell";
			document.getElementById("toolActualSCol").style.display = "table-cell";
		}
		
		for(var i=0; i<list.length; i++)
		{
			var row = document.createElement("div");
			row.className = "rowT";

			var field = editableField(list[i],30,"TNUMBER",list[i].TNUMBER, "mustNumber", "updateOtool",refreshoOther,null,"check");
			var a = celloneIconCreator('Tool number', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			
			var field = editableField(list[i],120,"TDETAIL",list[i].TDETAIL, "mustDesc", "updateOtool",refreshoOther,null,"check");
			var b = celloneIconCreator('Description', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			var field = editableField(list[i],30,"TCOST",list[i].TCOST, "mustCost", "updateOtool",refreshoOther,null,"check");
			var c = celloneIconCreator('Tool cost', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			var field = editableField(list[i],120,"TVENDOR",list[i].TVENDOR, "mustNumber", "updateOtool",refreshoOther,null,"check");
			var d = celloneIconCreator('Tool vendor', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			var field = editableField(list[i],30,"TMODE",list[i].TMODE, "mustMode", "updateOtool",refreshoOther,null,"check");
			var e = celloneIconCreator('Tool mode', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			var field = editableField(list[i],30,"TUNIT",list[i].TUNIT, "mustUnit", "updateOtool",refreshoOther, "nm");
			var uni = celloneIconCreator('Tool mode', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			if(list[i].TSHIPPING == ""){list[i].TSHIPPING = 0}
			if(list[i].ACTUAL == ""){list[i].ACTUAL = 0}
			
			var field = editableField(list[i],30,"TSHIPPING",list[i].TSHIPPING, "", "updateOtool",refreshoOther, "nm","check");
			var f = celloneIconCreator('Tool shipping cost', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			
			var field = editableField(list[i],30,"TQTY",list[i].TQTY, "mustQty2", "updateOtool",refreshoOther,null,"check");
			var g = celloneIconCreator('Quantity ', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			var field = editableField(list[i],30,"ACTUAL",list[i].ACTUAL, "", "updateOtool",refreshoOther, "nm","check");
			var h = celloneIconCreator('Quantity (execution)', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			var subtotal1 = (parseFloat(list[i].TCOST)*parseFloat(list[i].TQTY))+parseFloat(list[i].TSHIPPING);
			
			var subtotal2 = (parseFloat(list[i].TCOST)*parseFloat(list[i].ACTUAL))+parseFloat(list[i].TSHIPPING);
			
			var sbc = cellCreator('Subtotal', addCommas(subtotal1));
			var sbc2 = cellCreator('Subtotal', addCommas(subtotal2));
			
			var del = document.createElement("img");
			del.src = "irsc/delIcon.png";
			del.reg = list[i];
			del.setAttribute('title', 'Delete');
			del.setAttribute('alt', 'Delete');
			del.onclick = function()
			{
				if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
				if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
				
				var tableId = this.parentNode.parentNode.parentNode.id;
				var param = [tableId, this.reg.CODE];
				
				confirmBox(language["confirm"], language["sys011"], deleteRecord, 300, param);
			}

			
			var icons = [del];
			var x = cellOptionsCreator('', icons)
			
			if(aud.TYPE == "CO")
			{
				var cells = [a,b,c,d,e,uni,f,g,sbc,x];
			}
			else
			{
				var cells = [a,b,c,d,e,uni,f,g,h,sbc,sbc2,x];
			}

			
			for(var r=0; r<cells.length; r++){row.appendChild(cells[r]);}
			table.appendChild(row);
			
			othersTotal = othersTotal+subtotal1;
			othersTotala = othersTotala+subtotal2;
		}
		
		document.getElementById("oOtherstotal").innerHTML = addCommas(othersTotal);
		document.getElementById("oOtherstotalA").innerHTML = addCommas(othersTotala);
		setTotals();
		setTotalsA();

	}
	// ORDERS ACCESS TABLE
	if(tableId == "oAccTable")
	{
		accessTotal = 0;
		accessTotala= 0;
		
		if(aud.TYPE == "CO")
		{
			document.getElementById("accessActualCol").style.display = "none";
			document.getElementById("accessActualSCol").style.display = "none";
		}   
		else                                        
		{     
			document.getElementById("accessActualCol").style.display = "table-cell";
			document.getElementById("accessActualSCol").style.display = "table-cell";
		}
		
		for(var i=0; i<list.length; i++)
		{
			var row = document.createElement("div");
			row.className = "rowT";

			var field = editableField(list[i],40,"AMETHOD",list[i].AMETHOD, "mustAccess", "updateOaccess",refreshoAccess,null,"check");
			var a = celloneIconCreator('Added Cost', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			var field = editableField(list[i],40,"AVDR",list[i].AVDR, "mustAccess", "updateOaccess",refreshoAccess,"nm","check");
			var a2 = celloneIconCreator('Added Cost', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			var field = editableField(list[i],30,"AUNIT",list[i].AUNIT, "mustUnit", "updateOaccess",refreshoAccess,null,"check");
			var b = celloneIconCreator('Unit type', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			var field = editableField(list[i],30,"ACOST",list[i].ACOST, "mustCost", "updateOaccess",refreshoAccess,null,"check");
			var c = celloneIconCreator('Cost/Unit', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			
			if(list[i].AMIMO == ""){ list[i].AMIMO = 0}
			if(list[i].AMIMOQ == ""){ list[i].AMIMOQ = 0}
			if(list[i].ACTUAL == ""){ list[i].ACTUAL = 0}
				
			
			var field = editableField(list[i],30,"AMIMO",list[i].AMIMO, "", "updateOaccess",refreshoAccess, "nm","check");
			var d = celloneIconCreator('Mob In/Out', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			var field = editableField(list[i],30,"AMIMOQ",list[i].AMIMOQ, "", "updateOaccess",refreshoAccess, "nm","check");
			var g = celloneIconCreator('Mob In/Out Qty', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			var field = editableField(list[i],30,"AQTY",list[i].AQTY, "mustQty2", "updateOaccess",refreshoAccess,null,"check");
			var e = celloneIconCreator('Quantity ', [field]);
			if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){field.disabled = true;}
			if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){field.disabled = true;}
			
			// var field = editableField(list[i],30,"ACTUAL",list[i].TE, "", "updateOaccess",refreshoAccess, "nm");
			// var f = celloneIconCreator('Quantity (execution)', [field]);
			
			var f = cellCreator('Quantity (execution)', list[i].TE);
			
			
			var mimo = list[i].AMIMO;
			var mimoq = list[i].AMIMOQ;
			
			var subtotal1 = (parseFloat(list[i].ACOST)*parseFloat(list[i].AQTY))+(parseFloat(mimo)*parseFloat(mimoq));
			
			
			
			var subtotal2 = (parseFloat(list[i].ACOST)*parseFloat(list[i].TE))+(parseFloat(mimo)*parseFloat(mimoq));
			
			var sbc = cellCreator('Subtotal', addCommas(subtotal1));
			var sbc2 = cellCreator('Subtotal(execution)', addCommas(subtotal2));
			
			var del = document.createElement("img");
			del.src = "irsc/delIcon.png";
			del.reg = list[i];
			del.setAttribute('title', 'Delete');
			del.setAttribute('alt', 'Delete');
			del.onclick = function()
			{
				if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
				if(actualOrderData.TYPE != "1" && actualOrderData.TYPE != "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return;}
				
				var tableId = this.parentNode.parentNode.parentNode.id;
				var param = [tableId, this.reg.CODE];
				
				confirmBox(language["confirm"], language["sys011"], deleteRecord, 300, param);
			}

			var icons = [del];
			var x = cellOptionsCreator('', icons)
			
			if(aud.TYPE == "CO")
			{	
				var cells = [a,a2,b,c,d,g,e,sbc,x];
			}
			else
			{
				var cells = [a,a2,b,c,d,g,e,f,sbc,sbc2,x];
			}
			
			
			for(var r=0; r<cells.length; r++){row.appendChild(cells[r]);}
			table.appendChild(row);
			
			accessTotal = accessTotal+subtotal1;
			accessTotala = accessTotala+subtotal2;
		}
		document.getElementById("oAccesstotal").innerHTML = "0";
		document.getElementById("oAccesstotalA").innerHTML = "0";
		document.getElementById("oAccesstotal").innerHTML = addCommas(accessTotal);
		document.getElementById("oAccesstotalA").innerHTML = addCommas(accessTotala);
		setTotals();
		setTotalsA();

	}
	// ORDERS TABLE
	if(tableId == "podTable")
	{
		if(aud.BANNED){userLimit = aud.BANNED.split(",");}
		else{userLimit = []}
		
		for(var i=0; i<list.length; i++)
		{
			if(userLimit.length > 0)
			{
				if(userLimit[0] == "all"){continue}
				else
				{
					var num =  list[i].QCODE;
					if(!userLimit.includes(num)){continue}
				}
			}
			var row = document.createElement("div");
			row.className = "rowT";
	
			var num = cellCreator('Quote', list[i].QCODE);
			var a = cellCreator('Wind farm', list[i].WFARM);
			var b = cellCreator('Turbine', list[i].TURBINE);
			var c = cellCreator('Service Order', list[i].SO);
			var d = cellCreator('Workorder', list[i].WO)
			var e = cellCreator('Cost Order', list[i].CO);
			var f = cellCreator('Purchase Order', list[i].PO);
			var g= cellCreator('Category', list[i].G4);

			if(list[i].CLOSD != "")
			{var state = "Closed";}
			else
			{var state = "Open";}

			var ga= cellCreator('Category', state);

			var h= cellCreator('Start date', list[i].INIDATE);
			var j= cellCreator('Job type', list[i].JOB);
			var k = cellCreator('Description', list[i].DETAIL);

			var edit = document.createElement("img");
			edit.src = "irsc/editIcon.png";
			edit.reg = list[i];
			edit.setAttribute('title', 'Edit');
			edit.setAttribute('alt', 'Edit');
			edit.onclick = function()
			{
				
				// RESTRICTLINE
				if(aud.TYPE == "UC")
				{alertBox(language["alert"], language["restricted"], 300);	return;}
				
				if(this.reg.LOCKED == "1")
				{
					alertBox(language["alert"], language["closedElement"], 300);
					return;
				}
				
				editMode = 1;
				var info = this.reg;
				console.log(info)
				var items = [info.QCODE, info.WFARM, info.SO, info.WO, info.CO, info.PO, info.G4, info.INIDATE, info.JOB, info.PLATFORM, info.TOW, info.DEPARTMENT, info.PROPTYPE, info.WFTYPE, info.DETAIL];
				
				
				var dsPicker = document.getElementById("districtPicker");
				dsPicker.innerHTML = "";
				
				var option = document.createElement("option");
				option.value = info.TURBINE;
				option.innerHTML = info.TURBINE;
				dsPicker.appendChild(option);
				
				
				var targets = a_pod_targets;
				infoFiller(items, targets);
				actualPodCode = info.PCODE;
				document.getElementById("podSaveButton").innerHTML = "Save";
				
				
				document.getElementById("a-quoteParent").disabled = true;
				
				loadFieldsWF(info.AREA, info.COUNTRY, info.TURBINE, info.WFARM);
				
				loadFieldsPL(info.TPLAT, info.TSERIE, info.PLATFORM)
					
			}

			var detail = document.createElement("img");
			detail.src = "irsc/openIcon.png";
			detail.reg = list[i];
			detail.setAttribute('title', 'Details');
			detail.setAttribute('alt', 'Details');
			detail.onclick = function()
			{
				var info = this.reg;
				if(info.LOCKED == "0")
				{
					actualOrderStatus = "1";
				}
				else
				{
					actualOrderStatus = "3";
				}
				if(info.TECHCODE == "")
				{
						alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Antes de ver el detalle de orden debe asignarse a un técnico!", 300);
						return;
				}
				actualProjectNum = info.QCODE;
				ifLoad('ifPodMain');
				console.log(info.PCODE)
				podStarter(info.PCODE)
			}

			var del = document.createElement("img");
			del.src = "irsc/delIcon.png";
			del.reg = list[i];
			del.setAttribute('title', 'Delete');
			del.setAttribute('alt', 'Delete');
			del.onclick = function()
			{
				// RESTRICTLINE
				if(aud.TYPE == "UC")
				{alertBox(language["alert"], language["restricted"], 300);	return;}
			
				if(this.reg.LOCKED == "1")
				{
					alertBox(language["alert"], language["closedElement"], 300);
					return;
				}
				
				var tableId = this.parentNode.parentNode.parentNode.id;
				var param = [tableId, this.reg.QCODE];
				
				confirmBox(language["confirm"], language["sys011"], deleteRecord, 300, param);
			}
			
			var exprt = document.createElement("img");
			exprt.src = "irsc/export.png";
			exprt.reg = list[i];
			exprt.setAttribute('title', 'Export project');
			exprt.setAttribute('alt', 'Export project');
			exprt.onclick = function()
			{
				actualDCODE = this.reg.DCODE;
				actualDDATE = this.reg.DATE;
				actualQCODE = this.reg.QCODE;
				actualEtype = "project";
				
				sendContactOrder();
				
				
				// var info = this.reg;
				
				// document.getElementById("contactMessageOrder").value = "Full report for Proposal: "+this.reg.QCODE;
				
				// sendAjax("users","getContactList",info,function(response)
				// {
					// var users = response.message;
					// contactOpenOrder(info, users)
				// });

			}
			
			var sendNotify = document.createElement("img");
			sendNotify.src = "irsc/notify.png";
			sendNotify.reg = list[i];
			sendNotify.setAttribute('title', 'Send notification');
			sendNotify.setAttribute('alt', 'Send notification');
			sendNotify.onclick = function()
			{
				actualEtype = "pnotif";
				var info = this.reg;
				sendAjax("users","getContactList",info,function(response)
				{
					var users = response.message;
					contactOpenOrder(info, users)
				});

			}
			
			var lock = document.createElement("img");
			
			if(list[i].LOCKED == "1")
			{
				lock.src = "irsc/passIcon.png";
			}
			else
			{
				lock.src = "irsc/passIconG.png";
			}

			lock.reg = list[i];
			lock.setAttribute('title', 'Close');
			lock.setAttribute('alt', 'Close');
			lock.onclick = function()
			{

				// if(aud.TYPE !="A" && aud.TYPE !="JZ")
				// {
					// alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Only Administrator and advanced specialists can change the locked status for this element", 300);
					// return;
				// }
				// RESTRICTLINE
				if(aud.TYPE == "UC")
				{alertBox(language["alert"], language["restricted"], 300);	return;}
				
				if(this.reg.LOCKED == "1")
				{
					var param = [this.reg.PCODE, 0];
					confirmBox(language["confirm"], language["unLockConfirmPr"], lockProject, 300, param);
					return;
				}
				if(this.reg.LOCKED == "0")
				{
					var param = [this.reg.PCODE, 1];
					confirmBox(language["confirm"], language["lockConfirmPr"], lockProject, 300, param);

					jQuery('#clDPicker').datetimepicker
					({
							timepicker:false,
							format:'Y-m-d',
						}).on('change', function() {
							$('.xdsoft_datetimepicker').hide();
							var str = $(this).val();
							str = str.split(".");
							
					});
					
					
					return;
				}

			}
			var icons = [edit, detail, exprt, lock, sendNotify, del];
			var x = cellOptionsCreator('', icons)
			var cells = [num,a,b,c,d,e,f,g,ga,h,j,k,x];
			for(var r=0; r<cells.length; r++){row.appendChild(cells[r]);}
			
			if(aud.TYPE == "S" && list[i].LOCKED == "1")
			{
				continue;
			}
			
			table.appendChild(row);
		}
		
	}
	// DAYS TABLE
	if(tableId == "pDaysTable")
	{
		for(var i=0; i<list.length; i++)
		{
			var row = document.createElement("div");
			row.className = "rowT";
			
			var field = editableField(list[i],30,"DATE",list[i].DATE, "mustDate", "updateDay",getDays,null,"check");
			var num = celloneIconCreator('Date', [field]);
			
			// var field = editableField(list[i],30,"WEATHER",list[i].WEATHER, "mustWeather", "updateDay",getDays);
			// var a = celloneIconCreator('Day status', [field]);
			
			var a = cellCreator('Day status', list[i].WEATHER);
			
			var field = editableField(list[i],30,"POD",list[i].POD, "mustPod", "updateDay",getDays,null,"check");
			var b = celloneIconCreator('Plan of day', [field]);
			
			var field = editableField(list[i],30,"WO",list[i].WO, "mustWO", "updateDay",getDays,null,"check");
			var c = celloneIconCreator('Cost order', [field]);
			
			var field = editableField(list[i],30,"SO",list[i].SO, "mustSO", "updateDay",getDays,null,"check");
			var d = celloneIconCreator('Service order', [field]);
			
			var field = editableField(list[i],30,"WBS",list[i].WBS, "mustWBS", "updateDay",getDays,null,"check");
			var e = celloneIconCreator('Service order', [field]);

			
			var techs = document.createElement("img");
			techs.src = "irsc/timetechs.png";
			techs.reg = list[i];
			techs.setAttribute('title', 'Tech times');
			techs.setAttribute('alt', 'Tech times');
			techs.onclick = function()
			{
				
				// var reg = this.reg;
				console.log(this.reg);
				if(this.reg.LOCKED == "1")
				{
					alertBox(language["alert"], language["closedElement"], 300);
					return;
				}
				
				showBlades(0);
				var data = this.reg;
				
				if(data.CO == "" && data.WO == "" && data.WBS == "")
				{
					console.log("lock");
				}
				
				
				actualDtype = "L";
				actualDCODE = this.reg.DCODE;
				actualDDATE = this.reg.DATE;
				actualQCODE = this.reg.QCODE;
				actualDayLocked = this.reg.LOCKED;
				actualDayReg = this.reg;
				getDayItems();
				actualDayWbs = this.reg.WBS;
				actualDayCO = this.reg.WO;
				actualDaySO = this.reg.SO;
				

				document.getElementById("safetyObsField").value = "";
				document.getElementById("challengeObsField").value = "";
				document.getElementById("toolObsField").value = "";
				document.getElementById("generalObsField").value = "";
				document.getElementById("ppeObsField").value = "";
				document.getElementById("techObsField").value = "";
				
				updateObs();
				
				document.getElementById("dayObs").value = "";
				
				console.log(this.reg.OBS)
				
				// RELOAD FROM STRING INTO FIELDS
				if(this.reg.OBS == "")
				{
					var template = language["templateTechs"];
					document.getElementById("dayObs").value = template;
				}
				else
				{
					var obSplit = this.reg.OBS.split("<br>");
					console.log(obSplit)
					aobs1 = obSplit[0];
					aobs2 = obSplit[1];
					aobs3 = obSplit[2];
					aobs4 = obSplit[3];
					aobs5 = obSplit[4];
					aobs6 = obSplit[5];
					
					document.getElementById("safetyObsField").value = aobs1.split(":")[1];
					document.getElementById("challengeObsField").value = aobs2.split(":")[1];
					document.getElementById("toolObsField").value = aobs3.split(":")[1];
					document.getElementById("generalObsField").value = aobs4.split(":")[1];
					document.getElementById("ppeObsField").value = aobs5.split(":")[1];
					document.getElementById("techObsField").value = aobs6.split(":")[1];

					updateObs();
					// document.getElementById("dayObs").value = this.reg.OBS;
				}
				
			}
			var turbines = document.createElement("img");
			turbines.src = "irsc/timeturbines.png";
			turbines.reg = list[i];
			turbines.setAttribute('title', 'Turbine times');
			turbines.setAttribute('alt', 'Turbine times');
			turbines.onclick = function()
			{
				console.log(this.reg);
				if(this.reg.LOCKED == "1")
				{
					alertBox(language["alert"], language["closedElement"], 300);
					return;
				}
				
				showBlades(0);
				actualDtype = "T";
				actualDCODE = this.reg.DCODE;
				actualDDATE = this.reg.DATE;
				actualQCODE = this.reg.QCODE;
				actualDayLocked = this.reg.LOCKED;
				actualDayReg = this.reg;
				getDayItems();
				document.getElementById("dayObs").value = "";
				document.getElementById("dayObs").value = this.reg.TOBS;
				
			}
			var access = document.createElement("img");
			access.src = "irsc/timeaccess.png";
			access.reg = list[i];
			access.setAttribute('title', 'Added Cost times');
			access.setAttribute('alt', 'Added Cost times');
			access.onclick = function()
			{
				console.log(this.reg);
				if(this.reg.LOCKED == "1")
				{
					alertBox(language["alert"], language["closedElement"], 300);
					return;
				}
				
				showBlades(0);
				actualDtype = "A";
				actualDCODE = this.reg.DCODE;
				actualDDATE = this.reg.DATE;
				actualQCODE = this.reg.QCODE;
				actualDayLocked = this.reg.LOCKED;
				actualDayReg = this.reg;
				getDayItems();
				document.getElementById("dayObs").value = "";
				document.getElementById("dayObs").value = this.reg.AMOBS;
			}
			var wReport = document.createElement("img");
			wReport.src = "irsc/timeWeek.png";
			wReport.reg = list[i];
			wReport.setAttribute('title', 'Week Report');
			wReport.setAttribute('alt', 'Week Report');
			wReport.onclick = function()
			{
				var date = new Date(this.reg.DATE+" 00:00:00")
				loadWeekReport(date, this.reg.DATE);
			}
			
			var del = document.createElement("img");
			del.src = "irsc/delIcon.png";
			del.reg = list[i];
			del.setAttribute('title', 'Delete day');
			del.setAttribute('alt', 'Delete day');
			del.onclick = function()
			{
				console.log(this.reg);
				if(this.reg.LOCKED == "1")
				{
					alertBox(language["alert"], language["closedElement"], 300);
					return;
				}
				
				var tableId = this.parentNode.parentNode.parentNode.id;
				var param = [tableId, this.reg.DCODE];
				
				confirmBox(language["confirm"], language["sys011"], deleteRecord, 300, param);
				
			}
			var exprt = document.createElement("img");
			exprt.src = "irsc/export.png";
			exprt.reg = list[i];
			exprt.setAttribute('title', 'Export day');
			exprt.setAttribute('alt', 'Export day');
			exprt.onclick = function()
			{
				actualDCODE = this.reg.DCODE;
				actualDDATE = this.reg.DATE;
				actualQCODE = this.reg.QCODE;
				actualEtype = "day";
				
				sendContactOrder();
				
				// RESTORE LATER
				// var info = this.reg;
				
				// document.getElementById("contactMessageOrder").value = "Day report for Proposal: "+this.reg.QCODE+" Date: "+this.reg.DATE;
				
				// sendAjax("users","getContactList",info,function(response)
				// {
					// var users = response.message;
					// contactOpenOrder(info, users)
				// });

			}
			
			var lock = document.createElement("img");
			
			if(list[i].LOCKED == "1")
			{
				lock.src = "irsc/passIcon.png";
			}
			else
			{
				lock.src = "irsc/passIconG.png";
			}

			lock.reg = list[i];
			lock.setAttribute('title', 'Close');
			lock.setAttribute('alt', 'Close');
			lock.onclick = function()
			{

				// if(aud.TYPE !="A" && aud.TYPE !="JZ")
				// {
					// alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Only Administrator and advanced specialists can change the locked status for this element", 300);
					// return;
				// }

				if(this.reg.LOCKED == "1")
				{
					var param = [this.reg.DCODE, 0];
					confirmBox(language["confirm"], language["unLockConfirmD"], lockDay, 300, param);
					return;
				}
				if(this.reg.LOCKED == "0")
				{
					var param = [this.reg.DCODE, 1];
					confirmBox(language["confirm"], language["lockConfirmD"], lockDay, 300, param);
					return;
				}

			}
			
			var upload = document.createElement("img");
			upload.src = "irsc/upload.png";
			upload.reg = list[i];
			upload.setAttribute('title', 'Upload file');
			upload.setAttribute('alt', 'Upload file');
			upload.onclick = function()
			{
				
				if(this.reg.LOCKED == "1")
				{
					alertBox(language["alert"], language["closedElement"], 300);
					return;
				}		
				
				var info = this.reg;
				var picker =document.getElementById("budgetSelectorDay");
				actualLoadDay = info.DCODE;
				picker.click();
				picker.name = info.DCODE+"[]";

			}
			
			var download = document.createElement("img");
			download.src = "irsc/downIcon.png";
			download.reg = list[i];
			download.setAttribute('title', 'Download file');
			download.setAttribute('alt', 'Download file');
			download.onclick = function()
			{
				
				var info = this.reg;
				var filename = info.FILELINK;
				var url = "filesD/"+info.DCODE+"/"+filename;
				// console.log(decry(url));
				downloadReport(decry(url));
				
			}
			
			var delFile = document.createElement("img");
			delFile.src = "irsc/deleteFileIcon.png";
			delFile.reg = list[i];
			delFile.setAttribute('title', 'Delete file');
			delFile.setAttribute('alt', 'Delete file');
			delFile.onclick = function()
			{
				
				var info = this.reg;
				var type = "filesD";
				var code = info.DCODE;
				
				var param = [type, code];
				confirmBox(language["confirm"], language["delFileCheck"], deleteFile, 300, param);
				
			}
			
			if(list[i].FILELINK != "")
			{
				var icons = [techs, turbines, access, wReport, exprt, upload, download, delFile, lock, del];
			}
			else
			{
				var icons = [techs, turbines, access, wReport, exprt, upload, lock, del];
			}
			
			
			var x = cellOptionsCreator('', icons);
			var cells = [num,a,b,c,d,e,x];
			for(var r=0; r<cells.length; r++){row.appendChild(cells[r]);}
			table.appendChild(row);
		}
		
	}
	// TECHS HOURS TABLE
	if(tableId == "techsHoursTable")
	{
		for(var i=0; i<list.length; i++)
		{
			var row = document.createElement("div");
			row.className = "rowT";
			
			var a = cellCreator('Responsible', list[i].RESPONSIBLE);
			var b = cellCreator('Name', list[i].NAME);
			var c = cellCreator('Quote', list[i].QUOTE);
			var d = cellCreator('Executed', list[i].TE);

			var field = editableFieldP(list[i],30,"MIMO",list[i].MIMO, "mustMimo", "updateDayItem",getDayItems);
			field.id = "field-1-H-"+i;
			var f = celloneIconCreator('Mob In/Out', [field]);
			
			var field = editableFieldP(list[i],30,"MIMOD",list[i].MIMOD, "", "updateDayItem",getDayItems, "nm");
			field.id = "field-1-D-"+i;
			var fd = celloneIconCreator('Detail', [field]);
			
			var field = editableFieldP(list[i],30,"LABOR",list[i].LABOR, "mustMimo", "updateDayItem",getDayItems);
			field.id = "field-2-H-"+i;
			var g = celloneIconCreator('Labor', [field]);
			

			var field = editableFieldP(list[i],30,"LABORD",list[i].LABORD, "", "updateDayItem",getDayItems, "nm");
			field.id = "field-2-D-"+i;
			var gd = celloneIconCreator('Detail', [field]);
			
			var field = editableFieldP(list[i],30,"STANDBY",list[i].STANDBY, "mustMimo", "updateDayItem",getDayItems);
			field.id = "field-3-H-"+i;
			
			var actualSBhours = list[i].STDARRAY;
			
			var total = 0;
			
			if(actualSBhours != "")
			{
				var actualSBhours = JSON.parse(list[i].STDARRAY);
				
				for(var n=0; n<actualSBhours.length; n++)
				{
					var item = actualSBhours[n];
					if(parseFloat(item.VAL) > 0)
					{
						total = total+parseFloat(item.VAL);
					}
				}
			}
			
			field.value = total;
			field.disabled = true;
			var h = celloneIconCreator('Standby', [field]);
			
			// var field = editableFieldP(list[i],30,"STANDBYD",list[i].STANDBYD, "", "updateDayItem",getDayItems, "nm");
			// field.id = "field-3-D-"+i;
			// var hd = celloneIconCreator('Detail', [field]);
			
			var field = editableFieldPStand(list[i],"STANDBYD",list[i].STANDBYD, "", "updateDayItem",getDayItems, "Standby Cause");
			field.id = "field-3-D-"+i;
			field.reg = list[i];
			field.onclick=function ()
			{
				specialForm = "standBy";
				buildSBreasons(this);
			}
			var hd = celloneIconCreator('Standby', [field]);
			
			
			var field = editableFieldP(list[i],30,"NC",list[i].NC, "mustMimo", "updateDayItem",getDayItems);
			field.id = "field-4-H-"+i;
			var j = celloneIconCreator('NC', [field]);
			
			// var field = editableFieldP(list[i],30,"NCD",list[i].NCD, "", "updateDayItem",getDayItems, "nm");
			// field.id = "field-4-D-"+i;
			// var jd = celloneIconCreator('Detail', [field]);
			
			var field = editableFieldPNC(list[i],"NCD",list[i].NCD, "", "updateDayItem",getDayItems, "NC Cause");
			field.id = "field-4-D-"+i;
			var jd = celloneIconCreator('NC', [field]);
			
			var field = editableFieldP(list[i],30,"OUS",list[i].OUS, "", "updateDayItem",getDayItems, "nm");
			field.id = "field-5-H-"+i;
			var k = celloneIconCreator('NC', [field]);
			
			var field = editableFieldP(list[i],30,"OUSD",list[i].OUSD, "", "updateDayItem",getDayItems, "nm");
			field.id = "field-5-D-"+i;
			var kd = celloneIconCreator('Detail', [field]);
			
			var field = editableFieldPHour(list[i],"INIDATE",list[i].INIDATE, "", "updateDayItem",getDayItems, "Start hour");
			field.id = "field-7-D-"+i;
			var ihour = celloneIconCreator('Start hour', [field]);
			
			var field = editableFieldPHour(list[i],"ENDATE",list[i].ENDATE, "", "updateDayItem",getDayItems, "End hour");
			field.id = "field-8-D-"+i;
			var ehour = celloneIconCreator('End hour', [field]);

			var icons = [];
			var x = cellOptionsCreator('', icons);
			var cells = [a,b,c,d,ihour,ehour,f,fd,g,gd,h,hd,j,jd,k,kd];
			for(var r=0; r<cells.length; r++){row.appendChild(cells[r]);}
			table.appendChild(row);
		}
		
	}
	// ACCESS HOURS TABLE
	if(tableId == "accessHoursTable")
	{
		for(var i=0; i<list.length; i++)
		{
			var row = document.createElement("div");
			row.className = "rowT";
			
			var a = cellCreator('Added Cost', list[i].NAME);
			
			var field = editableField(list[i],30,"LABOR",list[i].LABOR, "mustMimo", "updateDayItem",getDayItems);
			var b = celloneIconCreator('Used', [field]);
			
			var field = editableField(list[i],30,"CO",list[i].CO, "mustMimo", "updateDayItem",getDayItems, "nm");
			var b1 = celloneIconCreator('Cost order', [field]);
			
			var field = editableField(list[i],30,"SO",list[i].SO, "mustMimo", "updateDayItem",getDayItems, "nm");
			var b2 = celloneIconCreator('Service order', [field]);
			
			var c = cellCreator('Unit', list[i].RESPONSIBLE);
			var d = cellCreator('Quote', list[i].QUOTE);
			var e = cellCreator('Executed', list[i].TE);

			var icons = [];
			var x = cellOptionsCreator('', icons);
			var cells = [a,b,b1,b2,c,d,e];
			for(var r=0; r<cells.length; r++){row.appendChild(cells[r]);}
			table.appendChild(row);
		}
		
	}
	// TURBINE HOURS TABLE
	if(tableId == "turbineHoursTable")
	{
		for(var i=0; i<list.length; i++)
		{
			var row = document.createElement("div");
			row.className = "rowT";
			
			if(actualHoursTurbData != "")
			{
				if(actualHoursTurbData.ICODE == list[i].ICODE)
				{
					actualHoursTurbData = list[i];
					refreshBlades();
				}
			}

			var a = cellCreator('Name', list[i].NAME);
			var b = cellCreator('Quote', list[i].QUOTE);
			var c = cellCreator('Executed', list[i].TE);
			var d = cellCreator('Word order', list[i].WO);
			var e = cellCreator('Service order', list[i].SO);
			var f = cellCreator('Cost order', list[i].CO);
			var wbs = cellCreator('WBS', list[i].WBS);
			
			var field = editableField(list[i],30,"LABOR",list[i].LABOR, "mustMimo", "updateDayItem",getDayItems);
			var g = celloneIconCreator('Hours', [field]);
			
			var field = editableFieldPTurbState(list[i],"TURBSTATE",list[i].TURBSTATE, "", "updateDayItem",getDayItems, "Status");
			field.id = "field-3-D-"+i;
			var hd = celloneIconCreator('Status', [field]);
			
			var field = editableFieldPTurbFD(list[i],"FDATE",list[i].FDATE, "", "updateDayItem",getDayItems, "Status");
			field.id = "field-4-D-"+i;
			var ed = celloneIconCreator('Status', [field]);

			
			var upload = document.createElement("img");
			upload.src = "irsc/upload.png";
			upload.reg = list[i];
			upload.setAttribute('title', 'Upload file');
			upload.setAttribute('alt', 'Upload file');
			upload.onclick = function()
			{
				
				var info = this.reg;
				var picker =document.getElementById("budgetSelectorTurbine");
				actualLoadTurbine = info.ICODE;
				picker.click();
				picker.name = info.ICODE+"[]";

			}
			
			var download = document.createElement("img");
			download.src = "irsc/downIcon.png";
			download.reg = list[i];
			download.setAttribute('title', 'Download file');
			download.setAttribute('alt', 'Download file');
			download.onclick = function()
			{
				
				var info = this.reg;
				var filename = info.FILE;
				var url = "filesT/"+info.ICODE+"/"+filename;
				// console.log(decry(url));
				downloadReport(decry(url));
				
			}
			
			var delFile = document.createElement("img");
			delFile.src = "irsc/deleteFileIcon.png";
			delFile.reg = list[i];
			delFile.setAttribute('title', 'Delete file');
			delFile.setAttribute('alt', 'Delete file');
			delFile.onclick = function()
			{
				
				var info = this.reg;
				var type = "filesT";
				var code = info.ICODE;
				
				var param = [type, code];
				confirmBox(language["confirm"], language["delFileCheck"], deleteFile, 300, param);
				
			}
			
			
			var blades = document.createElement("img");
			blades.src = "irsc/detailIcon.png";
			blades.reg = list[i];
			blades.setAttribute('title', 'Blades detail');
			blades.setAttribute('alt', 'Blades detaile');
			blades.onclick = function()
			{
				showBlades(1);
				actualHoursTurbData = this.reg;
				refreshBlades();
			}
			
			if(list[i].FILE != "")
			{
				var icons = [upload, download, delFile, blades];
			}
			else
			{
				var icons = [upload, blades];
			}
			var x = cellOptionsCreator('', icons);
			var cells = [a,b,c,d,e,f,wbs,g,hd,ed,x];
			for(var r=0; r<cells.length; r++){row.appendChild(cells[r]);}
			table.appendChild(row);
			
			jQuery('#field-4-D-'+i).datetimepicker
			({
					timepicker:false,
					format:'Y-m-d',
				}).on('change', function() {
					$('.xdsoft_datetimepicker').hide();
					var str = $(this).val();
					str = str.split(".");
					
			});
			
		}
		
	}
	// PROJECT LIMIT PICKER
	if(tableId == "qlimitTable")
	{
		for(var i=0; i<list.length; i++)
		{
			var row = document.createElement("div");
			row.className = "rowT";
			
			var banned = actualBannedList.split(",");
			
			var pickBox = document.createElement("input");
			pickBox.type = "checkbox";
			pickBox.code = list[i].ONUM;
			pickBox.onchange = function ()
			{
				refreshPickedLimit();
			}
			if(banned.includes(list[i].ONUM)){pickBox.checked = true;}
			
			var icons = [pickBox];
			var a = cellCheckCreator("", icons);
			var b = cellCreator('Project', list[i].ONUM+": "+list[i].CLIENT);

			var icons = [];
			var x = cellOptionsCreator('', icons);
			var cells = [a,b];
			for(var r=0; r<cells.length; r++){row.appendChild(cells[r]);}
			table.appendChild(row);
		}
	}
	// WEEK RESUME TABLE
	if(tableId == "weekHoursTable")
	{
		for(var i=0; i<list.length; i++)
		{
			var row = document.createElement("div");
			row.className = "rowT";
			
			var resp = cellCreator('Responsible', list[i].RESPONSIBLE);
			var name = cellCreator('name', list[i].NAME);
			
			var mycode = list[i].ACODE;
			
			var moLAB = getMyHours(mycode,0,"LABOR");
			var a1 = cellCreator2('name', moLAB);
			var tuLAB = getMyHours(mycode,1,"LABOR");
			var a2 = cellCreator2('name', tuLAB);
			var weLAB = getMyHours(mycode,2,"LABOR");
			var a3 = cellCreator2('name', weLAB);
			var thLAB = getMyHours(mycode,3,"LABOR");
			var a4 = cellCreator2('name', thLAB);
			var frLAB = getMyHours(mycode,4,"LABOR");
			var a5 = cellCreator2('name', frLAB);
			var saLAB = getMyHours(mycode,5,"LABOR");
			var a6 = cellCreator2('name', saLAB);
			var suLAB = getMyHours(mycode,6,"LABOR");
			var a7 = cellCreator2('name', suLAB);
			
			var moSTB = getMyHours(mycode,0,"STANDBY");
			var b1 = cellCreator2('name', moSTB);
			var tuSTB = getMyHours(mycode,1,"STANDBY");
			var b2 = cellCreator2('name', tuSTB);
			var weSTB = getMyHours(mycode,2,"STANDBY");
			var b3 = cellCreator2('name', weSTB);
			var thSTB = getMyHours(mycode,3,"STANDBY");
			var b4 = cellCreator2('name', thSTB);
			var frSTB = getMyHours(mycode,4,"STANDBY");
			var b5 = cellCreator2('name', frSTB);
			var saSTB = getMyHours(mycode,5,"STANDBY");
			var b6 = cellCreator2('name', saSTB);
			var suSTB = getMyHours(mycode,6,"STANDBY");
			var b7 = cellCreator2('name', suSTB);
			
			var moMOB = getMyHours(mycode,0,"MIMO");
			var c1 = cellCreator2('name', moMOB);
			var tuMOB = getMyHours(mycode,1,"MIMO");
			var c2 = cellCreator2('name', tuMOB);
			var weMOB = getMyHours(mycode,2,"MIMO");
			var c3 = cellCreator2('name', weMOB);
			var thMOB = getMyHours(mycode,3,"MIMO");
			var c4 = cellCreator2('name', thMOB);
			var frMOB = getMyHours(mycode,4,"MIMO");
			var c5 = cellCreator2('name', frMOB);
			var saMOB = getMyHours(mycode,5,"MIMO");
			var c6 = cellCreator2('name', saMOB);
			var suMOB = getMyHours(mycode,6,"MIMO");
			var c7 = cellCreator2('name', suMOB);
			
			var moNC = getMyHours(mycode,0,"NC");
			var d1 = cellCreator2('name', moNC);
			var tuNC = getMyHours(mycode,1,"NC");
			var d2 = cellCreator2('name', tuNC);
			var weNC = getMyHours(mycode,2,"NC");
			var d3 = cellCreator2('name', weNC);
			var thNC = getMyHours(mycode,3,"NC");
			var d4 = cellCreator2('name', thNC);
			var frNC = getMyHours(mycode,4,"NC");
			var d5 = cellCreator2('name', frNC);
			var saNC = getMyHours(mycode,5,"NC");
			var d6 = cellCreator2('name', saNC);
			var suNC = getMyHours(mycode,6,"NC");
			var d7 = cellCreator2('name', suNC);
			
			var moOSC = getMyHours(mycode,0,"OUS");
			var e1 = cellCreator2('name', moOSC,"1");
			var tuOSC = getMyHours(mycode,1,"OUS");
			var e2 = cellCreator2('name', tuOSC,"1");
			var weOSC = getMyHours(mycode,2,"OUS");
			var e3 = cellCreator2('name', weOSC,"1");
			var thOSC = getMyHours(mycode,3,"OUS");
			var e4 = cellCreator2('name', thOSC,"1");
			var frOSC = getMyHours(mycode,4,"OUS");
			var e5 = cellCreator2('name', frOSC,"1");
			var saOSC = getMyHours(mycode,5,"OUS");
			var e6 = cellCreator2('name', saOSC,"1");
			var suOSC = getMyHours(mycode,6,"OUS");
			var e7 = cellCreator2('name', suOSC,"1");
			
			var total1 = moLAB+tuLAB+weLAB+thLAB+frLAB+saLAB+suLAB;
			var t1 = cellCreator('name', total1);
			var total2 = moSTB+tuSTB+weSTB+thSTB+frSTB+saSTB+suSTB;
			var t2 = cellCreator('name', total2);
			var total3 = moMOB+tuMOB+weMOB+thMOB+frMOB+saMOB+suMOB;
			var t3 = cellCreator('name', total3);
			var total4 = moNC+tuNC+weNC+thNC+frNC+saNC+suNC;
			var t4 = cellCreator('name', total4);
			var total5 = moOSC+tuOSC+weOSC+thOSC+frOSC+saOSC+suOSC;
			var t5 = cellCreator('name', total5);

			var cells = [resp,name,a1,b1,c1,d1,e1,a2,b2,c2,d2,e2,a3,b3,c3,d3,e3,a4,b4,c4,d4,e4,a5,b5,c5,d5,e5,a6,b6,c6,d6,e6,a7,b7,c7,d7,e7,t1,t2,t3,t4,t5];
			for(var r=0; r<cells.length; r++){row.appendChild(cells[r]);}
			table.appendChild(row);
		}
	}
	resSet();
}
function buildSBreasons(field)
{
	console.log(field.reg)
	actualIcode = field.reg.ICODE;
	
	if(field.reg.STDARRAY != "")
	{
		actualStbValues = JSON.parse(field.reg.STDARRAY);
	}
	else
	{
		actualStbValues = [];
		
		var stbValues = ["Adhesive used Sika/Dow","Lightning","Fog","Ice","High BST (Blade Surface Temperature)","High Humidity","High Winds","High RH","High Temp","Low Temp","Low Wind","Production","Snow","Strong Storms","Owner/Customer Request","Awaiting Part/Tooling/Materials","Rain","Waiting man power"];
		
		for(var i=0; i<stbValues.length; i++)
		{
			var item = {};
			item.REASON = stbValues[i];
			item.VAL = "0";
			
			actualStbValues.push(item);
		}
	}
	
	// BUILD REASONS EDITABLE LIST
	var content = "<div id='floatSBbox' class='floatSBbox'>";
	
	for(var i=0; i<actualStbValues.length; i++)
	{
		var item = actualStbValues[i];
		
		var label = "<span class='stbTitle'>"+item.REASON+"</span>";
		content = content+label;
		var input = "<div class='stbQtyBox'>"+"<input type='text' id='stb-"+item.REASON+"' class='stbField' value = '"+item.VAL+"'></div>";
		content = content+input;
	}

	content = content+"</div>";
	
	alertBox("Enter hours to standby reasons", content, 550);return;
	
}
function saveActualSTB ()
{
	var labels = document.getElementById('floatSBbox').getElementsByTagName('span')
	var inputs = document.getElementById('floatSBbox').getElementsByTagName('input')
	actualStbValues = [];
	
	for(var i=0; i<labels.length; i++)
	{
		var item = {};
		item.REASON = labels[i].innerHTML;
		
		var qty = document.getElementById("stb-"+labels[i].innerHTML).value;
		
		if(qty == "" || isNaN(qty))
		{
			var val = 0;
		}
		else
		{
			var val = parseFloat(document.getElementById("stb-"+labels[i].innerHTML).value);
		}
		
		
		item.VAL = val;
		actualStbValues.push(item);
	}
	
	// SAVE THIS TO STDARRAY AND REFRESH LABOR HOURS TABLE
	
	var info = {};
	info.code = actualIcode;
	info.reasons = JSON.stringify(actualStbValues);
	
	console.log(info)
	
	sendAjax("users","updateSBnew",info,function(response)
	{
		var ans = response.message;
		console.log(ans)
		getDayItems();
		hide_pop()
	});

}





// TABLES ----------------------------
function updateBlades(field)
{
	
	var actualVal = field.value;
	
	if(field.id == "turbAplanedShP"){var dbfield = "TAPS";}
	if(field.id == "turbAprepTimeP"){var dbfield = "TAPT";}
	if(field.id == "turbAinstTimeP"){var dbfield = "TAIT";}
	
	if(field.id == "turbBplanedShP"){var dbfield = "TBPS";}
	if(field.id == "turbBprepTimeP"){var dbfield = "TBPT";}
	if(field.id == "turbBinstTimeP"){var dbfield = "TBIT";}
	
	if(field.id == "turbCplanedShP"){var dbfield = "TCPS";}
	if(field.id == "turbCprepTimeP"){var dbfield = "TCPT";}
	if(field.id == "turbCinstTimeP"){var dbfield = "TCIT";}
	
	if(actualHoursTurbData[dbfield] != actualVal)
	{
		
		var info = {};
		info.field = dbfield;
		info.icode = actualHoursTurbData.ICODE;
		info.newval = actualVal;

		sendAjax("users","updateBlades",info,function(response)
		{
			var ans = response.message;
			getDayItems();
		});
	}

}
function refreshBlades()
{
	

	
	document.getElementById("bladeATit").innerHTML = "<b>Turbine:</b> "+actualHoursTurbData.NAME+" Blade A";
	
	document.getElementById("psAQuote").innerHTML = actualHoursTurbData.QTAPS;
	document.getElementById("ptAQuote").innerHTML = actualHoursTurbData.QTAPT;
	document.getElementById("itAQuote").innerHTML = actualHoursTurbData.QTAIT;
	
	document.getElementById("psAExecuted").innerHTML = actualHoursTurbData.TETAPS;
	document.getElementById("ptAExecuted").innerHTML = actualHoursTurbData.TETAPT;
	document.getElementById("itAExecuted").innerHTML = actualHoursTurbData.TETAIT;
	
	document.getElementById("turbAplanedShP").value = actualHoursTurbData.TAPS;
	document.getElementById("turbAprepTimeP").value = actualHoursTurbData.TAPT;
	document.getElementById("turbAinstTimeP").value = actualHoursTurbData.TAIT;
	
	document.getElementById("bladeBTit").innerHTML = "<b>Turbine:</b> "+actualHoursTurbData.NAME+" Blade B";
	
	document.getElementById("psBQuote").innerHTML = actualHoursTurbData.QTBPS;
	document.getElementById("ptBQuote").innerHTML = actualHoursTurbData.QTBPT;
	document.getElementById("itBQuote").innerHTML = actualHoursTurbData.QTBIT;
							   
	document.getElementById("psBExecuted").innerHTML = actualHoursTurbData.TETBPS;
	document.getElementById("ptBExecuted").innerHTML = actualHoursTurbData.TETBPT;
	document.getElementById("itBExecuted").innerHTML = actualHoursTurbData.TETBIT;
	
	document.getElementById("turbBplanedShP").value = actualHoursTurbData.TBPS;
	document.getElementById("turbBprepTimeP").value = actualHoursTurbData.TBPT;
	document.getElementById("turbBinstTimeP").value = actualHoursTurbData.TBIT;
	
	document.getElementById("bladeCTit").innerHTML = "<b>Turbine:</b> "+actualHoursTurbData.NAME+" Blade C";
	
	document.getElementById("psCQuote").innerHTML = actualHoursTurbData.QTCPS;
	document.getElementById("ptCQuote").innerHTML = actualHoursTurbData.QTCPT;
	document.getElementById("itCQuote").innerHTML = actualHoursTurbData.QTCIT;
							   
	document.getElementById("psCExecuted").innerHTML = actualHoursTurbData.TETCPS;
	document.getElementById("ptCExecuted").innerHTML = actualHoursTurbData.TETCPT;
	document.getElementById("itCExecuted").innerHTML = actualHoursTurbData.TETCIT;
	
	document.getElementById("turbCplanedShP").value = actualHoursTurbData.TCPS;
	document.getElementById("turbCprepTimeP").value = actualHoursTurbData.TCPT;
	document.getElementById("turbCinstTimeP").value = actualHoursTurbData.TCIT;
	
	
}
function getMyHours(acode, day, type)
{
	var value = 0;
	var list = weekReportData[day];
	for(var i=0; i<list.length; i++)
	{
		var item = list[i];
		if(item[type] == ""){item[type] = 0;}
		if(item.ACODE == acode){value = parseFloat(item[type]); return value;}
	}
	return value;
}
function saveClone()
{
	console.log(actuaRegData)
	if(actualCloneType == "L")
	{
		if(actualOrderStatus == "3"){alertBox(language["alert"], language["closedOrder"], 300);return;}
		var actiResponsible = document.getElementById("actiResponsibleClone").value;
		var actiUcode = document.getElementById("actiRespCloneS").value;
		var actiName = document.getElementById("actiRespClone").value;
		var actiPriceUnit = actuaRegData.UNITCOST;
		var actiCompany = actuaRegData.CNAME;
		var actiMiMo = actuaRegData.MIMO;
		var actiMiMoQ = actuaRegData.MIMOQ;
		var actiDesc = actuaRegData.ADESC;
		var actiTime = actuaRegData.TIME;
		
		if(actiResponsible == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select a responsible",300); return}
		if(actiUcode != ""){actiName = $( "#actiRespCloneS option:selected" ).text();}
		if(actiName == "" && actiUcode == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a responsible",300); return}
		
		var info = {};
		
		info.ocode = actualOrderData.CODE;
		info.actiResponsible = actiResponsible;
		info.actiUcode = actiUcode;
		info.actiName = actiName;
		info.actiPriceUnit = actiPriceUnit;
		info.actiCompany = actiCompany;
		info.actiMiMo = actiMiMo;
		info.actiMiMoQ = actiMiMoQ;
		info.actiDesc = actiDesc;
		info.actiTime = actiTime;
		info.date = getNow();

		sendAjax("users","saveoAct",info,function(response)
		{
			var ans = response.message;
			refreshoActs();
			hide_pop_form();
		});
	}
	if(actualCloneType == "T")
	{
		if(actualOrderStatus == "3"){alertBox(language["alert"], language["closedOrder"], 300);return;}

		var turbName = actuaRegData.TNAME;
		var turbHours = actuaRegData.HOURS;
		var turbAsn = actuaRegData.SNA;
		var turbBsn = actuaRegData.SNB;
		var turbCsn = actuaRegData.SNC;
		var turbWO = actuaRegData.WO;
		var turbSO = actuaRegData.SO;
		var turbCO = actuaRegData.CO;
		var turbWBS = actuaRegData.WBS;
		
		var turbwhsf = "";
		var turbComm = "";
		var turbIdDate = "";
		var turbPriority = "";
		var turbReqStartDate = "";
		var turbAplanedSh = "";
		var turbAprepTime = "";
		var turbAinstTime = "";
		var turbBplanedSh = "";
		var turbBprepTime = "";
		var turbBinstTime = "";
		var turbCplanedSh = "";
		var turbCprepTime = "";
		var turbCinstTime = "";

		var info = {};
		
		info.ocode = actualOrderData.CODE;
		
		info.turbName = turbName;
		info.turbHours = turbHours;
		info.turbAsn = turbAsn;
		info.turbBsn = turbBsn;
		info.turbCsn = turbCsn;
		info.turbWO = turbWO;
		info.turbSO = turbSO;
		info.turbCO = turbCO;
		info.turbWBS = turbWBS;
		
		
		info.turbwhsf = turbwhsf;
		info.turbComm = turbComm;
		info.turbIdDate = turbIdDate;
		info.turbPriority = turbPriority;
		info.turbReqStartDate = turbReqStartDate;
		info.turbAplanedSh = turbAplanedSh;
		info.turbAprepTime = turbAprepTime;
		info.turbAinstTime = turbAinstTime;
		info.turbBplanedSh = turbBplanedSh;
		info.turbBprepTime = turbBprepTime;
		info.turbBinstTime = turbBinstTime;
		info.turbCplanedSh = turbCplanedSh;
		info.turbCprepTime = turbCprepTime;
		info.turbCinstTime = turbCinstTime;
		
		
		
		
		
		info.mode = "2";
		info.date = getNow();
		
		
		sendAjax("users","saveoTurb",info,function(response)
		{
			var ans = response.message;
			refreshoTurbs();
			
			document.getElementById("turbName").value = "";
			document.getElementById("turbHours").value = "";
			document.getElementById("turbAsn").value = "";
			document.getElementById("turbBsn").value = "";
			document.getElementById("turbCsn").value = "";
			document.getElementById("turbWBS").value = "";
			
		});
	}
	if(actualCloneType == "E")
	{
		console.log("Save E")
		
		if(actualOrderStatus == "3"){alertBox(language["alert"], language["closedOrder"], 300);return;}
		var actiResponsible = document.getElementById("actiResponsibleClone").value;
		var actiUcode = document.getElementById("actiRespCloneS").value;
		var actiName = document.getElementById("actiRespClone").value;

		if(actiResponsible == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select a responsible",300); return}
		if(actiUcode != ""){actiName = $( "#actiRespCloneS option:selected" ).text();}
		if(actiName == "" && actiUcode == ""){alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a responsible",300); return}
		
		var info = actuaRegData;
		
		info.RESPTYPE = actiResponsible;
		info.RESPNAME = actiName;
		info.UCODE = actiUcode;

		sendAjax("users","updateOacti",info,function(response)
		{
			var ans = response.message;
			refreshoActs();
			hide_pop_form();
		});
	}
}
function loadWeekReport(date, dateText)
{

	var week = getWeekNumber(date);

	var curr = new Date(dateText); // get current date
	var first = curr.getDate() - curr.getDay(); // First day is the day of the month - the day of the week
	var firstday = new Date(curr.setDate(first));
	
	var mo = getNowCustom(firstday,1).split(" ")[0];
	var tu = getNowCustom(firstday,1).split(" ")[0];
	var we = getNowCustom(firstday,1).split(" ")[0];
	var th = getNowCustom(firstday,1).split(" ")[0];
	var fr = getNowCustom(firstday,1).split(" ")[0];
	var sa = getNowCustom(firstday,1).split(" ")[0];
	var su = getNowCustom(firstday,1).split(" ")[0];
	
	var range = [mo,tu,we,th,fr,sa,su];
	
	var info = {};
	info.date = dateText;
	info.range = range;
	info.pnum = actualProjectNum;
	info.week = week;
	

	sendAjax("users","getWeekResume",info,function(response)
	{
		var ans = response.message;
		console.log(ans);
		
		weekReportData = ans.items;
		
		tableCreator("weekHoursTable",ans.blist);
		
		for(var i=0; i<info.range.length; i++)
		{
			var date = info.range[i];
			var span = document.getElementById("dd"+i);
			span.innerHTML = date;
		}
		
		
		formBox("weekReportPop","Hours report for week " +info.week[1]+" from "+info.range[0]+" to "+info.range[6],1340);
	});
	
	
}
function getWeekNumber(d) 
{
	d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
	d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay()||7));
	var yearStart = new Date(Date.UTC(d.getUTCFullYear(),0,1));
	var weekNo = Math.ceil(( ( (d - yearStart) / 86400000) + 1)/7);
	return [d.getUTCFullYear(), weekNo];
}
function getTurbineDays()
{
	console.log("refresh turbinedays");
	getDayItems();
}
function refreshPickedLimit()
{
	var rows = document.getElementById("qlimitTable").children;
	var picked = [];
	var codes = "";
	
	for(var i=1; i<rows.length; i++)
	{
		var row = rows[i];
		var box = row.children[0].children[0];
		if(box.checked){picked.push(box);}
	}
	
	for(var i=0; i<picked.length; i++)
	{
		var box = picked[i];
		if(i == 0){codes = codes+box.code;}
		else{codes = codes+","+box.code;}
	}
	console.log(codes);
	actualBannedList = codes;
	document.getElementById("limitSelector").value = "list";
	document.getElementById("limitsField").value = actualBannedList;
}
function cellCheckCreator(name, icons)
{
	var cell = document.createElement("div");
	cell.className = "column checks";
	cell.setAttribute('data-label',name);
	
	for(var i = 0; i<icons.length; i++)
	{
		cell.appendChild(icons[i]);
	}

	return cell;
}
function createDot(date)
{
	var now = getNow().split(" ")[0];
	
	var dif = (getdDiff(now, date)/60)/24;
	
	if(dif >= 90){var dot = "<b class='paletteTrCUR'>*</b>";}
	if(dif >= 60 && dif < 90){var dot = "<b class='paletteTr90D'>*</b>";}
	if(dif >= 30 && dif < 60){var dot = "<b class='paletteTr60D'>*</b>";}
	if(dif <= 30 && dif >= 1){var dot = "<b class='paletteTr30D'>*</b>";}
	if(dif <= 0){var dot = "<b class='paletteTrPS'>*</b>";}

	
	console.log(dif);
	
	return dot;
}
function deleteFile(param)
{
	var info={};
	info.type = param[0];
	info.code = param[1];

	sendAjax("users","deleteFile",info,function(response)
	{
		var ans = response.message;
		console.log(ans);
		
		if(info.type == "trfiles")
		{
			getTrainings();
		}
		if(info.type == "ppefiles")
		{
			getPPE();
		}
		if(info.type == "files")
		{
			ordeGet();
		}
		if(info.type == "filesD")
		{
			getDays();
		}
		if(info.type == "filesR")
		{
			reqsGet();
			reqUPsGet();
		}
		if(info.type == "filesT")
		{
			getTurbineDays();
		}

	});
	
}
function dateCheck(day)
{
	
	var code = day.code;
	var date = day.date;
	day.className = "dateTD";
	
	for(var n=0; n<actualAgenda.length; n++)
	{
		var item = actualAgenda[n];
		
	
		if(item.UCODE == code && item.DATE == date)
		{
			if(item.TYPE == "PTO"){day.style.backgroundColor  = "#F5A067";}
			if(item.TYPE == "PRJ"){day.style.backgroundColor  = "#6EFFBB";}
			if(item.TYPE == "TRN"){day.style.backgroundColor  = "#FFCC00";}
			if(item.TYPE == "R&R"){day.style.backgroundColor  = "#ff8abb";}
			if(item.TYPE == "OTH"){day.style.backgroundColor  = "#BDA299";}
			if(item.TYPE == "NPR"){day.style.backgroundColor  = "#00CCFF";}
			if(item.TYPE == "HOL"){day.style.backgroundColor  = "#f7d7f0";}
			if(item.TYPE == "TVL"){day.style.backgroundColor  = "#61bdac";}
			
			
			day.setAttribute('title', item.DETAIL);
			
			day.style.cursor = "pointer";
			day.data = item;
			day.onclick = function ()
			{
				console.log(this.data);
				actualTechData = {};
				actualTechData.CODE = this.code;
				actualTechData.RESPNAME = this.name;
				actualTechData.uPos = this.pos;
				var data = this.data;
				var start = data.DATE;
				var end = data.DATE;
				document.getElementById("schType").value = data.TYPE;
				document.getElementById("schObs").value = data.DETAIL;
				datePop(start, end);
			}
		}
		else
		{
			if(day.data == null)
			{
				day.onclick = function ()
				{
					console.log("new")
					actualTechData = {};
					actualTechData.CODE = this.code;
					actualTechData.RESPNAME = this.name;
					actualTechData.uPos = this.pos;
					document.getElementById("schType").value = "";
					document.getElementById("schObs").value = "";
					var start = this.date;
					var end = this.date;
					datePop(start, end);
				}
			}
		}
	}

	return day;
}
function getDayItems()
{
	var info = {};
	info.dcode = actualDCODE;
	info.ddate = actualDDATE;
	info.type = actualDtype;
	info.qcode = actualQCODE;
	
	sendAjax("users","getDayItems",info,function(response)
	{
		var ans = response.message;
		console.log(ans);
		
		var popButton = document.getElementById("closeHoursButton");
		
		

		if(info.type == "L")
		{
			document.getElementById("mandatoryTitle").innerHTML = "Mandatory fields";
			showObsField(1);
			document.getElementById("techsHoursTable").style.display = "table";
			document.getElementById("accessHoursTable").style.display = "none";
			document.getElementById("turbineHoursTable").style.display = "none";
			tableCreator("techsHoursTable", ans);
			formBox("dayItemsBox","Daily Report",1300);
			
			popButton.innerHTML = "Next";
			popButton.onclick = function ()
			{
				
				showBlades(0);
				saveObs();
				actualDtype = "T";
				getDayItems();
				document.getElementById("dayObs").value = "";
				document.getElementById("dayObs").value = actualDayReg.TOBS;
				
			}
			
		}
		else if(info.type == "T")
		{
			document.getElementById("mandatoryTitle").innerHTML = "Mandatory field";
			showObsField(0);
			document.getElementById("turbineHoursTable").style.display = "table";
			document.getElementById("techsHoursTable").style.display = "none";
			document.getElementById("accessHoursTable").style.display = "none";
			tableCreator("turbineHoursTable", ans);
			formBox("dayItemsBox","Daily Report - Turbines",1200);
			
			popButton.innerHTML = "Next";
			popButton.onclick = function ()
			{
				showBlades(0);
				actualDtype = "A";
				getDayItems();
				document.getElementById("dayObs").value = "";
				document.getElementById("dayObs").value = actualDayReg.AMOBS;
			}
			
		}
		else
		{
			document.getElementById("mandatoryTitle").innerHTML = "Mandatory field";
			showObsField(0);
			document.getElementById("techsHoursTable").style.display = "none";
			document.getElementById("turbineHoursTable").style.display = "none";
			document.getElementById("accessHoursTable").style.display = "table";
			tableCreator("accessHoursTable", ans);
			formBox("dayItemsBox","Daily Report - Added Cost",900);
			
			popButton.innerHTML = "Close";
			popButton.onclick = function ()
			{
				hide_pop_form();
			}
			
		}
	});
	
	
}
function getComments(code)
{
	
	var info = {};
	info.code = code;
		
	sendAjax("users","getComments",info,function(response)
	{
		var ans = response.message;
		console.log(ans)
		alertBox("Quote closing comments", ans["COMMENTS"], 300);
		
	});

}
function lockOrderNow()
{
	console.log(actuaLockCode);

	var code = actuaLockCode;
	var status = document.getElementById("lockState").value;
	var comments = document.getElementById("LockComments").value;
	var cdate = document.getElementById("closeDateQuote").value;
	
	if(cdate == "")
	{
		alertBox(language["alert"], language["mustCdate"], 300);
		return;
	}
	
	if(comments == "")
	{
		alertBox(language["alert"], language["mustComments"], 300);
		return;
	}
	
	var info = {};
	info.code = code;
	info.status = status;
	info.comments = comments;
	info.cdate = cdate;
	
	console.log(info)
	
	sendAjax("users","lockOrderNow",info,function(response)
	{
		var ans = response.message;
		console.log(ans)
		hide_pop_form();
		ordeGet();
		alertBox(language["alert"], language["changeSaved"],300);
	});
	
}
function lockOrder(params)
{
	var code = params[0];
	var status = params[1];
	
	var info = {};
	info.code = code;
	info.status = status;
	
	sendAjax("users","lockOrder",info,function(response)
	{
		var ans = response.message;
		console.log(ans)
		ordeGet();
		alertBox(language["alert"], language["changeSaved"],300);
	});
}
function lockProject(params)
{
	var code = params[0];
	var status = params[1];
	
	var info = {};
	info.code = code;
	info.status = status;
	
	console.log(info);
	
	if(info.status == "1")
	{
		info.cdate = document.getElementById("clDPicker").value;
		info.cdetails = document.getElementById("clDdetail").value;
		info.cstate = document.getElementById("clSPicker").value;
		
		if(info.cdate == "")
		{
			alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must pick a closure date", 300);
			return;
		}
		if(info.cstate == "")
		{
			alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must select closure state", 300);
			return;
		}
		if(info.cdetails == "")
		{
			alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter closure details", 300);
			return;
		}
		
	}
	else
	{
		info.cdate  = "";
		info.cdetails = "";
		info.cstate = "In progress";
	}
	
	
	sendAjax("users","lockProject",info,function(response)
	{
		var ans = response.message;
		console.log(ans)
		podGet();
		alertBox(language["alert"], language["changeSaved"],300);
	});
}
function lockDay(params)
{
	var code = params[0];
	var status = params[1];
	
	var info = {};
	info.code = code;
	info.status = status;
	
	sendAjax("users","lockDay",info,function(response)
	{
		var ans = response.message;
		console.log(ans)
		getDays();
		alertBox(language["alert"], language["changeSaved"],300);
	});
}
function setToolMode(value)
{
	if(value == "Buy")
	{
		document.getElementById("toolUnit").value = "";
		document.getElementById("toolUnit").disabled = true;
	}
	else
	{
		document.getElementById("toolUnit").value = "";
		document.getElementById("toolUnit").disabled = false;
	}
}
function cloneConfirmed(param)
{
	var info = param[0];
	info.cloneType = "0";
	
	sendAjax("users","quoteClone",info,function(response)
	{
		var ans = response.message;
		console.log(ans)
		ordeGet();
		return;
		alertBox(language["alert"], language["sys012"],300);
		refreshoAccess();
	});
}
function editableFieldSpecial(data,maxlength,dfield,value,warn,method,callback, mandatory)
{
	var field = document.createElement("input");
	field.type = "text";
	field.data = data;
	field.className = "tableField ltf";
	field.value = value;
	field.maxLength = maxlength;
	field.onclick = function()
	{

		actuaRegData = this.data;
		document.getElementById("actiResponsibleClone").value = "";
		document.getElementById("actiResponsibleClone").onchange();
		document.getElementById("actiRespClone").style.display = "none";
		document.getElementById("actiRespCloneS").style.display = "none";
		
		var saveB = document.getElementById("clonePopSave");
		var cancelB = document.getElementById("clonePopCancel");
		
		saveB.innerHTML = "Save name";
		
		actualCloneType = "E";
		
		formBox("cloneLaborBox","Edit responsible name",350);
	}
	
	return field;
}




function editableField(data,maxlength,dfield,value,warn,method,callback, mandatory, check)
{
	var field = document.createElement("input");
	field.type = "text";
	field.data = data;
	field.className = "tableField ltf";
	field.value = value;
	field.maxLength = maxlength;
	field.onblur = function()
	{
		var data = this.data; 
		var thisvalue = this.value;
		if(thisvalue == "")
		{
			this.value = value;
			if(mandatory == null)
			{
				alertBox(language["alert"], language[warn], 300);return;
			}
		}

		if(data[dfield] == thisvalue){return;}
		data[dfield] = thisvalue;
		
		console.log(check)
		
		var info = data;
		
		if(check == "check")
		{
			var param = [method,info,callback];
	
			confirmBox(language["confirm"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Do you want to save this change?", sendEdit, 300, param);
			return;
		}
		
		
		
		
		if(actualOrderStatus == "3" || actualOrderStatus == "4"){alertBox(language["alert"], language["closedOrder"], 300); this.value = value;return;}
		// RESTRICT TEMPLATE SAVE IF NOT ADMIN
		if(actualOrderData.TYPE == "0" && aud.TYPE != "A"){alertBox(language["alert"], language["restricted"], 300);return; this.value = value;return;}
		
		
		sendAjax("users",method,info,function(response)
		{
			var ans = response.message;
			console.log(ans)
			callback();
		});
	}
	
	return field;
}
function sendEdit(param)
{
	var m = param[0];
	var n = param[1];
	var o = param[2];

	sendAjax("users",m,n,function(response)
	{
		var ans = response.message;
		console.log(ans)
		o();
	});
}
function editableFieldP(data,maxlength,dfield,value,warn,method,callback, mandatory)
{
	var field = document.createElement("input");
	field.type = "text";
	field.data = data;
	field.className = "tableField ltf";
	field.value = value;
	field.maxLength = maxlength;
	field.onblur = function()
	{
		
		
		if(this.id != null && this.id != "")
		{
			var data = this.data; 
			
			var id = this.id;
			var num = id.split("-")[1];
			var type = id.split("-")[2];
			var line = id.split("-")[3];

			if(type == "H")
			{
				var checkId = "field-" +num+"-"+"D-"+line;
				var details = document.getElementById(checkId).value;
				
				console.log(checkId)
				console.log(details)
				console.log("lola")
				
				if(details == "" && this.value != "0" && this.value != "")
				{
					alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must first enter details for this type of hours", 300);
					this.value = "0";
					return;
				}
				
			}
		}
		else
		{
			console.log("no id");
		}
		
		var thisvalue = this.value;
		if(thisvalue == "")
		{
			this.value = value;
			if(mandatory == null)
			{
				alertBox(language["alert"], language[warn], 300);return;
			}
		}
		
		
		

		if(data[dfield] == thisvalue){return;}
		
		data[dfield] = thisvalue;
		
		console.log(id)
		console.log(thisvalue)
		
		var info = data;
		
		if(!id.includes('field-3-D'))
		{
			console.log("difference")
		}
		else
		{
			console.log("general")
		}
		
		var startId = "field-7-D-"+line;
		var endId = "field-8-D-"+line;
		
		console.log(startId)
		console.log(endId)
		
		var start = document.getElementById(startId).value;
		var end = document.getElementById(endId).value;
		
		if(start == "" || end == "")
		{
			alertBox(language["alert"], language["mustStartEnd"], 300); 
			// if(type == "H"){this.value = "0";}
			if(type == "D"){this.value = "0";}
			return;
		}
		
		console.log(start);
		console.log(end)
		
		if(info.LOCKED == "1"){alertBox(language["alert"], language["closedElement"], 300); this.value = value;return;}
		
		sendAjax("users",method,info,function(response)
		{
			var ans = response.message;
			var progress = response.progress;
			setPbar(progress);
			callback();
		});
	}
	
	return field;
}
function editableFieldPNC(data,dfield,value,warn,method,callback, mandatory)
{
	var field = document.createElement("select");
	field.data = data;
	field.className = "hourSelect";
	
	var values = ["","Missing/Damaged Tooling","Lack of Certification/Training","Material Damaged","Missing/Damaged Parts","Safety Incident","Waiting man power"];
	
	var hours = [mandatory,"Missing/Damaged Tooling","Lack of Certification/Training","Material Damaged","Missing/Damaged Parts","Safety Incident","Waiting man power"];
	
	
	for(var i=0; i<values.length; i++)
	{
		var val = values[i];
		var hour = hours[i];
		
		var option = document.createElement("option");
		option.value = val;
		option.innerHTML = hour;
		field.appendChild(option);
	}
	
	field.value = value;
	field.onchange = function()
	{
		var thisvalue = this.value;
		if(data[dfield] == thisvalue){return;}
		data[dfield] = thisvalue;
		data["WBS"] = actualDayWbs;
		data["CO"] = actualDayCO;
		data["SO"] = actualDaySO;
		
		var info = data;
		console.log(info)
		
		// CHECK INI AND END VALUES WARN
		if(info.INIDATE == info.ENDATE && info.INIDATE != "")
		{
			alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Start hour and End hour can not be the same", 300);
			return
		}
		if(parseFloat(info.ENDATE) < parseFloat(info.INIDATE) && info.ENDATE != "")
		{
			alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Start hour can not be after End hour", 300);
			return
		}
		
		if(info.LOCKED == "1"){alertBox(language["alert"], language["closedElement"], 300); this.value = value;return;}
		
		sendAjax("users",method,info,function(response)
		{
			var ans = response.message;
			console.log(ans);
			var progress = response.progress;
			setPbar(progress);
			callback();
		});
	}
	
	return field;
}
function editableFieldPStand(data,dfield,value,warn,method,callback, mandatory)
{
	var field = document.createElement("input");
	field.data = data;
	field.type = "text";
	field.className = "tableField ltf";
	
	var values = ["","Adhesive used Sika/Dow","Lightning","Fog","Ice","High BST (Blade Surface Temperature)","High Humidity","High Winds","High RH","High Temp","Low Temp","Low Wind","Production","Snow","Strong Storms","Owner/Customer Request","Awaiting Part/Tooling/Materials","Rain","Waiting man power"];
	
	var hours = [mandatory,"Adhesive used Sika/Dow","Lightning","Fog","Ice","High BST (Blade Surface Temperature)","High Humidity","High Winds","High RH","High Temp","Low Temp","Low Wind","Production","Snow","Strong Storms","Owner/Customer Request","Awaiting Part/Tooling/Materials","Rain","Waiting man power"];

	field.value = value;
	field.onblur = function()
	{
		console.log("canceled Old")
		return;
		var thisvalue = this.value;
		if(data[dfield] == thisvalue){return;}
		data[dfield] = thisvalue;
		data["WBS"] = actualDayWbs;
		data["CO"] = actualDayCO;
		data["SO"] = actualDaySO;
		
		var info = data;
		console.log(info)
		
		// CHECK INI AND END VALUES WARN
		if(info.INIDATE == info.ENDATE && info.INIDATE != "")
		{
			alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Start hour and End hour can not be the same", 300);
			return
		}
		if(parseFloat(info.ENDATE) < parseFloat(info.INIDATE) && info.ENDATE != "")
		{
			alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Start hour can not be after End hour", 300);
			return
		}
		
		if(info.LOCKED == "1"){alertBox(language["alert"], language["closedElement"], 300); this.value = value;return;}
		
		sendAjax("users",method,info,function(response)
		{
			var ans = response.message;
			console.log(ans);
			var progress = response.progress;
			setPbar(progress);
			callback();
		});
	}
	
	return field;
}
function editableFieldPTurbState(data,dfield,value,warn,method,callback, mandatory)
{
	var field = document.createElement("select");
	field.data = data;
	field.className = "hourSelect";
	
	var values = ["Pending","Turbine To remain Down","Turbine Running","Turbine under start delay","Turbine Faulted and handed off to Services"];
	
	var hours = ["Pending","Turbine To remain Down","Turbine Running","Turbine under start delay","Turbine Faulted and handed off to Services"];
	
	
	for(var i=0; i<values.length; i++)
	{
		var val = values[i];
		var hour = hours[i];
		
		var option = document.createElement("option");
		option.value = val;
		option.innerHTML = hour;
		field.appendChild(option);
	}
	
	field.value = value;
	field.onchange = function()
	{
		var thisvalue = this.value;
		if(data[dfield] == thisvalue){return;}
		data[dfield] = thisvalue;
		
		var info = data;
		console.log(info)
		
		
		if(info.LOCKED == "1"){alertBox(language["alert"], language["closedElement"], 300); this.value = value;return;}
		
		sendAjax("users",method,info,function(response)
		{
			var ans = response.message;
			console.log(ans);
			
			
		});
	}
	
	return field;
}
function editableFieldPTurbFD(data,dfield,value,warn,method,callback, mandatory)
{
	var field = document.createElement("input");
	field.type = "text";
	field.data = data;
	field.className = "hourSelect";
		
	field.value = value;
	field.onchange = function()
	{
		var thisvalue = this.value;
		if(data[dfield] == thisvalue){return;}
		data[dfield] = thisvalue;
		
		var info = data;
		console.log(info)
		
		
		if(info.LOCKED == "1"){alertBox(language["alert"], language["closedElement"], 300); this.value = value;return;}
		
		sendAjax("users",method,info,function(response)
		{
			var ans = response.message;
			console.log(ans);
			
			
		});
	}
	
	return field;
}
function editableFieldPHour(data,dfield,value,warn,method,callback, mandatory)
{
	var field = document.createElement("select");
	field.data = data;
	field.className = "hourSelect";
	
	var values = ["","0","0.25","0.5","0.75","1","1.25","1.5","1.75","2","2.25","2.5","2.75","3","3.25","3.5","3.75","4","4.25","4.5","4.75","5","5.25","5.5","5.75","6","6.25","6.5","6.75","7","7.25","7.5","7.75","8","8.25","8.5","8.75","9","9.25","9.5","9.75","10","10.25","10.5","10.75","11","11.25","11.5","11.75","12","12.25","12.5","12.75","13","13.25","13.5","13.75","14","14.25","14.5","14.75","15","15.25","15.5","15.75","16","16.25","16.5","16.75","17","17.25","17.5","17.75","18","18.25","18.5","18.75","19","19.25","19.5","19.75","20","20.25","20.5","20.75","21","21.25","21.5","21.75","22","22.25","22.5","22.75","23","23.25","23.5","23.75"];
	
	var hours = [mandatory,"00:00 am","00:15 am","00:30 am","00:45 am","01:00 am","01:15 am","01:30 am","01:45 am","02:00 am","02:15 am","02:30 am","02:45 am","03:00 am","03:15 am","03:30 am","03:45 am","04:00 am","04:15 am","04:30 am","04:45 am","05:00 am","05:15 am","05:30 am","05:45 am","06:00 am","06:15 am","06:30 am","06:45 am","07:00 am","07:15 am","07:30 am","07:45 am","08:00 am","08:15 am","08:30 am","08:45 am","09:00 am","09:15 am","09:30 am","09:45 am","10:00 am","10:15 am","10:30 am","10:45 am","11:00 am","11:15 am","11:30 am","11:45 am","12:00 m","12:15 pm","12:30 pm","12:45 pm","01:00 pm","01:15 pm","01:30 pm","01:45 pm","02:00 pm","02:15 pm","02:30 pm","02:45 pm","03:00 pm","03:15 pm","03:30 pm","03:45 pm","04:00 pm","04:15 pm","04:30 pm","04:45 pm","05:00 pm","05:15 pm","05:30 pm","05:45 pm","06:00 pm","06:15 pm","06:30 pm","06:45 pm","07:00 pm","07:15 pm","07:30 pm","07:45 pm","08:00 pm","08:15 pm","08:30 pm","08:45 pm","09:00 pm","09:15 pm","09:30 pm","09:45 pm","10:00 pm","10:15 pm","10:30 pm","10:45 pm","11:00 pm","11:15 pm","11:30 pm","11:45 pm"];
	
	
	for(var i=0; i<values.length; i++)
	{
		var val = values[i];
		var hour = hours[i];
		
		var option = document.createElement("option");
		option.value = val;
		option.innerHTML = hour;
		field.appendChild(option);
	}
	
	field.value = value;
	field.onchange = function()
	{
		var thisvalue = this.value;
		if(data[dfield] == thisvalue){return;}
		data[dfield] = thisvalue;
		data["WBS"] = actualDayWbs;
		data["CO"] = actualDayCO;
		data["SO"] = actualDaySO;
		
		var info = data;
		console.log(info)
		
		// CHECK INI AND END VALUES WARN
		if(info.INIDATE == info.ENDATE && info.INIDATE != "")
		{
			alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Start hour and End hour can not be the same", 300);
			return
		}
		if(parseFloat(info.ENDATE) < parseFloat(info.INIDATE) && info.ENDATE != "")
		{
			alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Start hour can not be after End hour", 300);
			return
		}
		
		if(info.LOCKED == "1"){alertBox(language["alert"], language["closedElement"], 300); this.value = value;return;}
		
		sendAjax("users",method,info,function(response)
		{
			var ans = response.message;
			console.log(ans);
			var progress = response.progress;
			setPbar(progress);
			callback();
		});
	}
	
	return field;
}

function translateTime(time)
{
	
	var values = ["0","0.25","0.5","0.75","1","1.25","1.5","1.75","2","2.25","2.5","2.75","3","3.25","3.5","3.75","4","4.25","4.5","4.75","5","5.25","5.5","5.75","6","6.25","6.5","6.75","7","7.25","7.5","7.75","8","8.25","8.5","8.75","9","9.25","9.5","9.75","10","10.25","10.5","10.75","11","11.25","11.5","11.75","12","12.25","12.5","12.75","13","13.25","13.5","13.75","14","14.25","14.5","14.75","15","15.25","15.5","15.75","16","16.25","16.5","16.75","17","17.25","17.5","17.75","18","18.25","18.5","18.75","19","19.25","19.5","19.75","20","20.25","20.5","20.75","21","21.25","21.5","21.75","22","22.25","22.5","22.75","23","23.25","23.5","23.75"];
	
	var hours = ["00:00 am","00:15 am","00:30 am","00:45 am","01:00 am","01:15 am","01:30 am","01:45 am","02:00 am","02:15 am","02:30 am","02:45 am","03:00 am","03:15 am","03:30 am","03:45 am","04:00 am","04:15 am","04:30 am","04:45 am","05:00 am","05:15 am","05:30 am","05:45 am","06:00 am","06:15 am","06:30 am","06:45 am","07:00 am","07:15 am","07:30 am","07:45 am","08:00 am","08:15 am","08:30 am","08:45 am","09:00 am","09:15 am","09:30 am","09:45 am","10:00 am","10:15 am","10:30 am","10:45 am","11:00 am","11:15 am","11:30 am","11:45 am","12:00 m","12:15 pm","12:30 pm","12:45 pm","01:00 pm","01:15 pm","01:30 pm","01:45 pm","02:00 pm","02:15 pm","02:30 pm","02:45 pm","03:00 pm","03:15 pm","03:30 pm","03:45 pm","04:00 pm","04:15 pm","04:30 pm","04:45 pm","05:00 pm","05:15 pm","05:30 pm","05:45 pm","06:00 pm","06:15 pm","06:30 pm","06:45 pm","07:00 pm","07:15 pm","07:30 pm","07:45 pm","08:00 pm","08:15 pm","08:30 pm","08:45 pm","09:00 pm","09:15 pm","09:30 pm","09:45 pm","10:00 pm","10:15 pm","10:30 pm","10:45 pm","11:00 pm","11:15 pm","11:30 pm","11:45 pm"];
	
	for(var i=0; i<values.length; i++)
	{
		var item = parseFloat(values[i]);
		time = parseFloat(time);
		if(time == item){return hours[i];}
	}
	
	return "Invalid time";
}
function tableClear(tableId)
{
        var table = document.getElementById(tableId);
        var rows = table.children;
        
        while(rows.length > 1)
        {
                var elem = rows[1];
                elem.parentNode.removeChild(elem);
                var rows = table.children;
        }
}
function setTotals()
{

	var subtotal = parseFloat(actisTotal+partsTotal+othersTotal+accessTotal);
	
	var stLabors = document.getElementById("stLabors").value;
	var stParts = document.getElementById("stParts").value;
	var stTools = document.getElementById("stTools").value;
	var stAccess = document.getElementById("stAccess").value;
	var stDocs = document.getElementById("stDocs").value;
	
	
	if(stLabors == ""){stLabors = 0}
	if(stParts == ""){stParts = 0}
	if(stTools == ""){stTools = 0}
	if(stAccess == ""){stAccess = 0}
	if(stDocs == ""){stDocs = 0}
	
	
	stLabors = parseFloat(stLabors);
	stParts = parseFloat(stParts);
	stTools = parseFloat(stTools);
	stAccess = parseFloat(stAccess);
	stDocs = parseFloat(stDocs);

	var stTotal = stLabors+stParts+stTools+stAccess+stDocs;
	
	document.getElementById("oSubtotal").innerHTML = addCommas(subtotal);
	document.getElementById("oLaborsQty").innerHTML = crewCount;
	document.getElementById("oStTotal").innerHTML = stTotal+" Hours";
        
}
function setTotalsA()
{

	var subtotal = parseFloat(actisTotala+partsTotala+othersTotala+accessTotala);
	
	var stLabors = document.getElementById("stLabors").value;
	var stParts = document.getElementById("stParts").value;
	var stTools = document.getElementById("stTools").value;
	var stAccess = document.getElementById("stAccess").value;
	var stDocs = document.getElementById("stDocs").value;
	
	
	if(stLabors == ""){stLabors = 0}
	if(stParts == ""){stParts = 0}
	if(stTools == ""){stTools = 0}
	if(stAccess == ""){stAccess = 0}
	if(stDocs == ""){stDocs = 0}
	
	
	stLabors = parseFloat(stLabors);
	stParts = parseFloat(stParts);
	stTools = parseFloat(stTools);
	stAccess = parseFloat(stAccess);
	stDocs = parseFloat(stDocs);

	var stTotal = stLabors+stParts+stTools+stAccess+stDocs;
	
	document.getElementById("oSubtotalA").innerHTML = addCommas(subtotal);
	document.getElementById("oLaborsQtyA").innerHTML = crewCount;
	
        
}
function cellCreator(name, content)
{
  var cell = document.createElement("div");
  cell.className = "column";
  cell.setAttribute('data-label',name);
  cell.innerHTML = decodeURIComponent(content);
  return cell;
}
function cellCreator2(name, content, div)
{
  var cell = document.createElement("div");
  
  if(content != "0")
  {
		cell.className = "column specialColG";
		if(div != null){cell.className = "column specialColG hdiv";}
  }
  else
  {
		cell.className = "column specialCol";
		if(div != null){cell.className = "column specialCol hdiv";}
		
  }

  cell.setAttribute('data-label',name);
  cell.innerHTML = decodeURIComponent(content);
  return cell;
}
function picellCreator(name, content)
{
        var cell = document.createElement("div");
        cell.className = "column";
        cell.setAttribute('data-label',name);
        cell.appendChild(content);
        return cell;
}
function cellOptionsCreator(name, icons)
{
        var cell = document.createElement("div");
        cell.className = "column opts";
        cell.setAttribute('data-label',name);
        
        for(var i = 0; i<icons.length; i++)
        {
                cell.appendChild(icons[i]);
        }

        return cell;
}
function celloneIconCreator(name, icons)
{
	var cell = document.createElement("div");
	cell.className = "column loneIconCell";
	cell.setAttribute('data-label',name);
	
	for(var i = 0; i<icons.length; i++)
	{
		cell.appendChild(icons[i]);
	}

	return cell;
}
function cellChildrenCreator(name, children)
{
	var cell = document.createElement("div");
	cell.className = "column noPads";
	cell.setAttribute('data-label',name);
	
	cell.appendChild(children);
	
	return cell;
}
// DELETER
function deleteRecord(param)
{
        var info = {};
        info.autor = aud.RESPNAME;
        info.optype = ltt3;
        info.date = getNow();

        if(param[0] == "techisTable")
        {
                info.table = "techis";
                info.mail = param[1];
                info.delType = "techi";
                
                info.type = param[2];
                info.target = param[1];
                
                sendAjax("users","regDelete",info,function(response)
                {
                        var ans = response.message;

                        alertBox(language["alert"], language["sys012"],300);
                        clearFields(a_techi_targets, "a-techi");
                        techisGet();
                });
                
        }
         if(param[0] == "ordersTable")
        {
                info.table = "orders";
                info.code = param[1];
                info.delType = "order";
                
                info.type = "O";
                info.target = param[1];
                
                sendAjax("users","regDelete",info,function(response)
                {
                        var ans = response.message;

                        alertBox(language["alert"], language["sys012"],300);
                        clearFields(a_orde_targets, "a-orde");
                        ordeGet();
                });
                
        }
        if(param[0] == "oActsTable")
        {
                info.table = "oactis";
                info.code = param[1];
                info.delType = "oacti";
				info.ocode = actualOrderData.CODE;
                
                info.type = "O";
                info.target = param[1];
				
                sendAjax("users","regDelete",info,function(response)
                {
                        var ans = response.message;

                        alertBox(language["alert"], language["sys012"],300);
                        refreshoActs()
                });
                
        }
        if(param[0] == "oPartsTable")
        {
                info.table = "oparts";
                info.code = param[1];
                info.delType = "opart";
				info.ocode = actualOrderData.CODE;
                
                info.type = "O";
                info.target = param[1];
                
                sendAjax("users","regDelete",info,function(response)
                {
                        var ans = response.message;

                        alertBox(language["alert"], language["sys012"],300);
                        refreshoParts()
                });
                
        }
        if(param[0] == "oOthersTable")
        {
                info.table = "others";
                info.code = param[1];
                info.delType = "oother";
				info.ocode = actualOrderData.CODE;
                
                info.type = "O";
                info.target = param[1];
                
                sendAjax("users","regDelete",info,function(response)
                {
                        var ans = response.message;

                        alertBox(language["alert"], language["sys012"],300);
                        refreshoOther();
                });
                
        }
		if(param[0] == "oAccTable")
        {
			info.table = "oaccess";
			info.code = param[1];
			info.delType = "oaccess";
			info.ocode = actualOrderData.CODE;
			
			info.type = "O";
			info.target = param[1];
			
			sendAjax("users","regDelete",info,function(response)
			{
				var ans = response.message;

				alertBox(language["alert"], language["sys012"],300);
				refreshoAccess();
			});
                
        }
		if(param[0] == "podTable")
        {
			info.table = "projects";
			info.code = param[1];
			info.delType = "projects";
			info.ocode = "";
			
			info.type = "O";
			info.target = param[1];
			
			sendAjax("users","regDelete",info,function(response)
			{
				var ans = response.message;

				alertBox(language["alert"], language["sys012"],300);
				podGet();
			});
                
        }
		if(param[0] == "pDaysTable")
        {
			info.table = "days";
			info.code = param[1];
			info.delType = "days";
			info.ocode = "";
			
			info.type = "O";
			info.target = param[1];
			
			sendAjax("users","regDelete",info,function(response)
			{
				var ans = response.message;

				alertBox(language["alert"], language["sys012"],300);
				getDays();
			});
                
        }
		if(param[0] == "reqsTable")
        {
			info.table = "requests";
			info.code = param[1];
			info.delType = "reqsTable";
			info.ocode = "";
			
			info.type = "O";
			info.target = param[1];
			
			sendAjax("users","regDelete",info,function(response)
			{
				var ans = response.message;
				console.log(ans);
				alertBox(language["alert"], language["sys012"],300);
				reqsGet();
			});
                
        }
		if(param[0] == "reqsUPTable")
        {
			info.table = "requests";
			info.code = param[1];
			info.delType = "reqsUPTable";
			info.ocode = "";
			
			info.type = "O";
			info.target = param[1];
			
			sendAjax("users","regDelete",info,function(response)
			{
				var ans = response.message;
				console.log(ans);
				alertBox(language["alert"], language["sys012"],300);
				reqUPsGet();
			});
                
        }
		if(param[0] == "subRequestTable")
        {
			info.table = "requests";
			info.code = param[1];
			info.delType = "subRequestTable";
			info.ocode = "";
			
			info.type = "O";
			info.target = param[1];
			
			sendAjax("users","regDelete",info,function(response)
			{
				var ans = response.message;
				console.log(ans);
				alertBox(language["alert"], language["sys012"],300);
				reqAdsGet(actualDelCode);
			});
                
        }
		if(param[0] == "oTurbsTable")
        {
			info.table = "turbines";
			info.code = param[1];
			info.delType = "turbines";
			info.ocode = "";
			
			info.type = "O";
			info.target = param[1];
			
			sendAjax("users","regDelete",info,function(response)
			{
				var ans = response.message;
				console.log(ans);
				alertBox(language["alert"], language["sys012"],300);
				refreshoTurbs();
			});
                
        }
		if(param[0] == "sessionsTable")
        {
			info.table = "sessions";
			info.code = param[1];
			info.delType = "sessions";
			info.ocode = "";
			
			info.type = "O";
			info.target = param[1];
			
			sendAjax("users","regDelete",info,function(response)
			{
				var ans = response.message;
				console.log(ans);
				alertBox(language["alert"], language["sys012"],300);
				refreshSessions();
			});
                
        }
		if(param[0] == "trainingsTable")
        {
			info.table = "training";
			info.code = param[1];
			info.delType = "training";
			info.ocode = "";
			
			info.type = "O";
			info.target = param[1];
			
			sendAjax("users","regDelete",info,function(response)
			{
				var ans = response.message;
				console.log(ans);
				alertBox(language["alert"], language["sys012"],300);
				getTrainings();
			});
                
        }
		if(param[0] == "ppeTable")
        {
			info.table = "training";
			info.code = param[1];
			info.delType = "training";
			info.ocode = "";
			
			info.type = "O";
			info.target = param[1];
			
			sendAjax("users","regDelete",info,function(response)
			{
				var ans = response.message;
				console.log(ans);
				alertBox(language["alert"], language["sys012"],300);
				getPPE();
			});
                
        }
        
        
}
function downZip(mode)
{
	var info = {};
	info.ucode = actualTechData.CODE;
	info.mode = mode;
	
	console.log(info)
	
	sendAjax("users","downZip",info,function(response)
	{
		var ans = response.message;
		
		var url = "trfiles/"+encry(ans);
		console.log(url)
		
		downloadReport(url);
		
		
	});
}
function exportXLS(type, mode)
{
	
	if(type == "order")
	{
		var info = {};
		info.type = type;
		info.ocode = actualOrderData.CODE;
		info.uname = aud.RESPNAME;
		info.lang = "es_co";
		info.mode = mode;
		
		// EXPORT CHECKS HERE

	}
	if(type == "training")
	{
		var info = {};
		info.type = type;
		info.ucode = actualTechData.CODE;
		info.lang = "es_co";
		info.mode = "";
		// EXPORT CHECKS HERE
	}
	if(type == "PPE")
	{
		var info = {};
		info.type = type;
		info.ucode = actualTechData.CODE;
		info.lang = "es_co";
		info.mode = "";
		// EXPORT CHECKS HERE
	}
	
	sendAjax("users","exportXLS",info,function(response)
	{
		var ans = response.message;
		console.log(ans)
		// return;
		
		if(info.type == "training")
		{
			var url = "excel/"+encry(ans)+".xls";
		}
		else if(info.type == "PPE")
		{
			var url = "excel/"+encry(ans)+".xls";
		}
		else
		{
			var url = "files/"+actualOrderData.CODE+"/"+encry(ans)+".xls";
		}
		console.log(url)
	
		downloadReport(url);
	});
	
}
function downloadReport(url) 
{
	document.getElementById('downframe').setAttribute("href", url);
	document.getElementById('downframe').click();
};

// QUOTING ----------------------------------------------
// QUOTING ----------------------------------------------
// QUOTING ----------------------------------------------

function setSearchBoxAhead(list)
{
	var aheadOpts = [];
	for(var i=0; i<list.length; i++)
	{
		var pr = list[i];
		var desc = pr.DESCRIPTION;
		desc = desc.toLowerCase();
		if(desc[0] == "-"){desc = desc.substring(1);}
		// desc = toPhrase(desc);
		aheadOpts.push(desc);
	}
	// SET AUTOCOMPLETE FROM ARRAY
	$('#a-orderActiPicker').typeahead({fitToElement: false,source: aheadOpts});
	// document.getElementById("a-orderActiPicker").addEventListener('keypress', function (e){var key = e.which || e.keyCode;if (key === 13){search();}});
}
function clearFields(items, release)
{
	if(release == "a-clients"){document.getElementById("a-clientEmail").disabled = false;}
	if(release == "a-orde"){document.getElementById("a-ptype").disabled = false;}

	if(release == "a-sucu"){document.getElementById("a-sucuCode").disabled = false; document.getElementById("a-sucuParent").disabled = false;}
	if(release == "a-maqui"){document.getElementById("a-maquiPlate").disabled = false; document.getElementById("a-maquiSucu").disabled = false; document.getElementById("a-maquiName").disabled = false; document.getElementById("a-maquiParent").disabled = false;}

	
	if(release == "a-techi"){document.getElementById("a-techiEmail").disabled = false;}
	if(release == "a-acti"){document.getElementById("a-actiType").disabled = false;}
	
	if(release == "a-inve"){document.getElementById("a-inveCode").disabled = false;}
	
	if(release == "a-pod"){document.getElementById("a-quoteParent").disabled = false;}
	
	if(release == "a-log"){}
	
	
        
	for(var i = 0; i<items.length; i++)
	{
			if(items[i] == "a-ptype"){document.getElementById(items[i]).value = "1";}
			else if(items[i] == "a-Department"){document.getElementById(items[i]).value = "Specialist";}
			else if(items[i] == "a-reqTypeProp"){document.getElementById(items[i]).value = "Internal SGRE";}
			
			else if(items[i] == "p-Department"){document.getElementById(items[i]).value = "Specialist";}
			else if(items[i] == "p-reqTypeProp"){document.getElementById(items[i]).value = "Internal SGRE";}
			else{document.getElementById(items[i]).value = "";}
			
			
			if(aud.CATEGORY == "PM")
			{
				if(items[i] == "f-techiLocation"){document.getElementById(items[i]).value = "Contractor";}
			}
			
			
	}
	
	if(release == "sch")
	{
		console.log(aud )
		if(aud.CATEGORY == "S")
		{
			
			document.getElementById("f-schTechiCat").value = "S";
			document.getElementById("f-schTechiCat").disabled = true;
		}
		else
		{
			console.log(aud.TYPE )
			document.getElementById("f-schTechiCat").value = "";
			document.getElementById("f-schTechiCat").disabled = false;
		}
	}
        
}
function getdDiff(startDate, endDate) 
{
        var startTime = new Date(startDate); 
        var endTime = new Date(endDate);
        var difference = endTime.getTime() - startTime.getTime();
        return Math.round(difference / 60000);
}
function handleFileSelectBudget(evt) 
{
        var files = evt.target.files; // FileList object
        var pickSelector = document.getElementById('budgetSelectorOrder');
        actualLoadType = "bud";
		
		loadFileName = files[0].name;
		
        if(files.length > 1)
        {
			alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You can only load one file.", 300);
			pickBox.innerHTML = "";
			pickSelector.value = "";
			return;
        }
        
        // Loop through the FileList and render image files as thumbnails.
        for (var i = 0; i < files.length; i++) 
        {
			// Only process image files.
			var f = files[i];
			console.log(files[i].size);
			
			if(parseFloat(files[i].size) > 10000000)
			{
				pickSelector.value = "";
				alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Max file size is 10000Kb", 300);
				return;
			}

			var reader = new FileReader();

        }
		
		document.getElementById("upButtonBudget").click();
		$("#loaderDiv").fadeIn();
		
		pickSelector.value = "";
		
		return;
		
		
}
function handleFileSelectDay(evt) 
{
        var files = evt.target.files; // FileList object
        var pickSelector = document.getElementById('budgetSelectorDay');
        actualLoadType = "Day";
		
		loadFileName = files[0].name;
		
        if(files.length > 1)
        {
			alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You can only load one file.", 300);
			pickBox.innerHTML = "";
			pickSelector.value = "";
			return;
        }
        
        // Loop through the FileList and render image files as thumbnails.
        for (var i = 0; i < files.length; i++) 
        {
			// Only process image files.
			var f = files[i];
			console.log(files[i].size);
			
			if(parseFloat(files[i].size) > 10000000)
			{
				pickSelector.value = "";
				alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Max file size is 10000Kb", 300);
				return;
			}

			var reader = new FileReader();

        }
		
		document.getElementById("upButtonDay").click();
		$("#loaderDiv").fadeIn();
		
		pickSelector.value = "";
		
		return;
}
function handleFileSelectReq(evt) 
{
        var files = evt.target.files; // FileList object
        var pickSelector = document.getElementById('budgetSelectorReq');
        actualLoadType = "Req";
		
		loadFileName = files[0].name;
		
        if(files.length > 1)
        {
			alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You can only load one file.", 300);
			pickBox.innerHTML = "";
			pickSelector.value = "";
			return;
        }
        
        // Loop through the FileList and render image files as thumbnails.
        for (var i = 0; i < files.length; i++) 
        {
			// Only process image files.
			var f = files[i];
			console.log(files[i].size);
			
			if(parseFloat(files[i].size) > 10000000)
			{
				pickSelector.value = "";
				alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Max file size is 10000Kb", 300);
				return;
			}

			var reader = new FileReader();

        }
		console.log("pasa")
		document.getElementById("upButtonReq").click();
		// $("#loaderDiv").fadeIn();
		
		pickSelector.value = "";
		
		return;
}
function handleFileSelectTurbine(evt) 
{
        var files = evt.target.files; // FileList object
        var pickSelector = document.getElementById('budgetSelectorTurbine');
        actualLoadType = "Turbine";
		
		loadFileName = files[0].name;
		
        if(files.length > 1)
        {
			alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You can only load one file.", 300);
			pickBox.innerHTML = "";
			pickSelector.value = "";
			return;
        }
        
        // Loop through the FileList and render image files as thumbnails.
        for (var i = 0; i < files.length; i++) 
        {
			// Only process image files.
			var f = files[i];
			console.log(files[i].size);
			
			if(parseFloat(files[i].size) > 10000000)
			{
				pickSelector.value = "";
				alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Max file size is 10000Kb", 300);
				return;
			}

			var reader = new FileReader();

        }
		
		document.getElementById("upButtonTurbine").click();
		$("#loaderDiv").fadeIn();
		
		pickSelector.value = "";
		
		return;
		
		
}
function handleFileSelectTr(evt) 
{
        var files = evt.target.files; // FileList object
        var pickSelector = document.getElementById('budgetSelectorTr');
        actualLoadType = "Tr";
		
		loadFileName = files[0].name;
		
		
        if(files.length > 1)
        {
			alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You can only load one file.", 300);
			pickBox.innerHTML = "";
			pickSelector.value = "";
			return;
        }
        
        // Loop through the FileList and render image files as thumbnails.
        for (var i = 0; i < files.length; i++) 
        {
			// Only process image files.
			var f = files[i];
			console.log(files[i].size);
			
			if(parseFloat(files[i].size) > 10000000)
			{
				pickSelector.value = "";
				alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Max file size is 10000Kb", 300);
				return;
			}

			var reader = new FileReader();

        }
		
		document.getElementById("upButtonTr").click();
		$("#loaderDiv").fadeIn();
		
		pickSelector.value = "";
		
		return;
		
		
}
function loadFinish(result)
{

	if (result == 1)
	{
		alertBox(language["alert"],"<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Load complete",300);
	}
	else 
	{
		alertBox(language["alert"],"<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Error on loading",300);
	}
	
	if(actualLoadType != "bud")
	{
		document.getElementById("picSelector"+actualLoadType).value = "";
	}
	else
	{
		saveFilePath();
	}

}
function saveFilePath()
{
	$("#loaderDiv").fadeOut();
	
	var info = {};
	info.ocode = actualLoadOrder;
	info.fileLink = loadFileName;
	sendAjax("users","setFileLink",info,function(response)
	{
		var ans = response.message;
		ordeGet();
	});

}
function loadFinishD(result)
{

	console.log(result)
	if (result == 1)
	{
		alertBox(language["alert"],"<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Load complete",300);
	}
	else 
	{
		alertBox(language["alert"],"<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Error on loading",300);
	}
	
	if(actualLoadType == "Day")
	{
		saveFilePathD();
	}
	
	if(actualLoadType == "Tr")
	{
		saveFilePathTr();
	}
	
	if(actualLoadType == "Req")
	{
		saveFilePathReq();
	}


}
function saveFilePathD()
{
	$("#loaderDiv").fadeOut();
	
	var info = {};
	info.ocode = actualLoadDay;
	info.fileLink = loadFileName;
	sendAjax("users","setFileLinkD",info,function(response)
	{
		var ans = response.message;
		getDays();
	});

}
function saveFilePathTr()
{
	$("#loaderDiv").fadeOut();
	
	var info = {};
	info.ocode = actualLoadTr;
	info.fileLink = loadFileName;
	console.log(info)
	sendAjax("users","setFileLinkTr",info,function(response)
	{
		var ans = response.message;
		
		getTrainings();
		getPPE();
	});

}
function saveFilePathReq()
{
	$("#loaderDiv").fadeOut();
	
	var info = {};
	info.ocode = actualLoadReq;
	info.fileLink = loadFileName;
	console.log(info)
	sendAjax("users","setFileLinkReq",info,function(response)
	{
		var ans = response.message;
		
		reqsGet();
		reqUPsGet();
		
		

	});

}

// ------TURBINE FILES -------
function loadFinishT(result)
{

	if (result == 1)
	{alertBox(language["alert"],"<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Load complete",300);}
	else 
	{alertBox(language["alert"],"<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Error on loading",300);}
	if(actualLoadType == "Turbine"){saveFilePathT();}

}
function saveFilePathT()
{
	$("#loaderDiv").fadeOut();
	var info = {};
	info.dcode = actualLoadTurbine;
	info.fileLink = loadFileName;
	sendAjax("users","setFileLinkT",info,function(response)
	{
		var ans = response.message;
		getTurbineDays();
	});

}
function saveFilePathTr()
{
	$("#loaderDiv").fadeOut();
	
	var info = {};
	info.ocode = actualLoadTr;
	info.fileLink = loadFileName;
	console.log(info)
	sendAjax("users","setFileLinkTr",info,function(response)
	{
		var ans = response.message;
		
		getTrainings();
		getPPE();
	});

}
function makeBoxpand(id, titleClosed, titleOpened, iniState)
{
	var main = document.getElementById(id);
	if(main.created == 1){return}

	var tBar = document.createElement("div");
        tBar.className = "tBar";
	var title = document.createElement("span");

        var expandIcon = document.createElement("img");
        expandIcon.className = "expandIcon";
        expandIcon.state = iniState;
        expandIcon.tO = titleOpened;
	expandIcon.tC = titleClosed;
        
        tBar.appendChild(title);
        tBar.appendChild(expandIcon);

	var tmpBox = document.createElement("div");
	tmpBox.className = "hidden";
	var contentBox = document.createElement("div");

	while (main.childNodes.length > 0) 
	{
		contentBox.appendChild(main.childNodes[0]);
	}

	main.appendChild(tBar);
	main.appendChild(contentBox);
	
	if(iniState == 0)
	{
		title.innerHTML = titleClosed;
		main.style.maxHeight = "30px";
                expandIcon.src = "irsc/expandIcon.png";
	}
	else
	{
		title.innerHTML = titleOpened;
                expandIcon.src = "irsc/expandIconG.png";
		main.style.maxHeight = "initial";
	}
	
	main.className = "mainbs";
	
	expandIcon.onclick = function()
	{
		var daddy = this.parentNode;
		var title = daddy.children[0];

		if(this.state == 0)
		{
			daddy.parentNode.style.maxHeight = "initial";
			this.state = 1;
			title.innerHTML = this.tO;
                        this.src = "irsc/expandIconG.png";
		}
		else
		{
			daddy.parentNode.style.maxHeight = "30px";
			this.state = 0;
                        this.src = "irsc/expandIcon.png";
			title.innerHTML = this.tC;
			
		}
	
		centerer(document.getElementById("wa"));
	}
	
	main.created = 1;
}
function logGet()
{
        var info = {};
        var  info = infoHarvest(f_log_targets);
        sendAjax("users","getLogList",info,function(response)
	{
		var ans = response.message;
                tableCreator("logTable", ans);
	});
}
function cascadeInfoFiller(fields, values, type )
{
        
        if(type == "t")
        {
                for(var z=0; z<fields.length; z++)
                {
                        selectByText(fields[z], values[z]);
                        
                }
        }
        if(type == "v")
        {
                for(var z=0; z<fields.length; z++)
                {
                        var field = document.getElementById(fields[z])
                        field.value = values[z]
                        if(z != fields.length-1)
                        {
                                field.onchange();
                        }
                        
                }
        }
}
function selectByText(fieldId, value)
{
        var field = document.getElementById(fieldId);
        var options = field.options;
        for (var n = 0; n<options.length; n++) 
        {
                if (field.options[n].text === value) 
                {
                        field.selectedIndex = n;
                         field.onchange();
                        break;
                }
        }
}
function selectNull()
{
	return;
}
function infoHarvest(items)
{
        var info = {};
        for(var i = 0; i<items.length; i++)
        {
                info[items[i]] = document.getElementById(items[i]).value;
        }
        return info;
}
function infoFiller(items, targets)
{
        var info = {};
        for(var i = 0; i<items.length; i++)
        {
               document.getElementById(targets[i]).value= items[i];
        }
        $('#workArea').scrollTop(0);
}
function refreshOtotals()
{
        var info = {};
        info.picks = actualRecOrders;
        if(document.getElementById("retCheck").checked){info.retCheck = "1";}else{info.retCheck = "0";}
        
         sendAjax("users","getOtotals",info,function(response)
        {
                var ans = response.message;
                console.log(ans);
                var list = ans.detailed;
                var totaled = ans.totaled;
                
                document.getElementById("totaLineAct").innerHTML = addCommas(totaled.actis);
                document.getElementById("totaLineRep").innerHTML = addCommas(totaled.repu);
                document.getElementById("totaLineOth").innerHTML = addCommas(totaled.othe);
                document.getElementById("totaLineIva").innerHTML = addCommas(totaled.iva);
                document.getElementById("totaLineRe4").innerHTML = addCommas(totaled.rete4);
                document.getElementById("totaLineRe2").innerHTML = addCommas(totaled.rete25);
                document.getElementById("totaLineFull").innerHTML = addCommas(totaled.fullTotal);
                
                tableCreator("factResumeTable", list);
                formBox("preFactBox","Resumen de factura",1200);

        });
}

// REPORT BLOCK START ----------
function reportPick(pick)
{
        actualReport = "";
        
        var reporTableBox = document.getElementById("reporTableBox");
        var tables = reporTableBox.children;

        for(var i = 0; i<tables.length; i++)
        {
			var table = tables[i];
			table.style.display = "none";
        }
        
        var box = document.getElementById("repFilterBox");
        box.innerHTML = "";
        
        tableClear("generalP");
        tableClear("generalPA");
        tableClear("accessUse");
        tableClear("techBench");
        tableClear("techHours");
        tableClear("labHours");
        tableClear("projectHours");
        tableClear("generalPtype");

        
        if(pick == ""){return}
        else if(pick == "1"){actualReport = "generalP";}
        else if(pick == "2"){actualReport = "accessUse";}
        else if(pick == "3"){actualReport = "techBench";}
        else if(pick == "4"){actualReport = "techHours";}
        else if(pick == "5"){actualReport = "labHours";}
        else if(pick == "6"){actualReport = "projectHours";}
        else if(pick == "7"){actualReport = "generalPtype";}
        else if(pick == "8"){actualReport = "generalPA";}
        else if(pick == "9"){actualReport = "power";}
        
        filterBuilder("repFilterBox", actualReport);
        
        // document.getElementById(actualReport).style.display = "table";
}
function filterBuilder(id, type)
{
        var box = document.getElementById(id);
        box.innerHTML = "";
        
        var repoClient = fieldCreator([12,4,4,2], "Client", "input", "repoClient");
        var repoWindFarm = fieldCreator([12,4,4,2], "Windfarm", "input", "repoWindFarm");
		var repoStatus = fieldCreator([12,4,4,2], "Status", "select", "repoStatus");
		var repoPlatform = fieldCreator([12,4,4,2], "Platform", "input", "repoPlatform");
		var repoOrderNum = fieldCreator([12,4,4,2], "Quote Num", "input", "repoOrderNum");
		var repoDetails = fieldCreator([12,4,4,2], "Description", "input", "repoDetails");
		var repoAccess = fieldCreator([12,4,4,2], "Added Cost", "input", "repoAccess");
		var repoCategory = fieldCreator([12,4,4,2], "Category", "select", "repoCategory");
		var repoJob = fieldCreator([12,4,4,2], "Job type", "select", "repoJob");
        var repoIniDate = fieldCreator([12,4,4,2], "Initial date", "input", "repoIniDate");
        var repoEndDate = fieldCreator([12,4,4,2], "Final date", "input", "repoEndDate");
        var repoRepu = fieldCreator([12,4,4,2], "Repuesto", "select", "repoRepu");
        var repoOtype = fieldCreator([12,4,4,2], "Tipo", "select", "repoOtype");
        var repoTech = fieldCreator([12,4,4,2], "User", "select", "repoTech");
        var repoTechName = fieldCreator([12,4,4,2], "User name", "input", "repoTechName");
        var repoActi = fieldCreator([12,4,4,2], "Actividad", "select", "repoActi");
        var repoState = fieldCreator([12,4,4,2], "Estado", "select", "repoState");
        var repoProject = fieldCreator([12,4,4,2], "Project code", "select", "repoProject");
		var repoCstate = fieldCreator([12,4,4,2], "Close state", "select", "repoCstate");
        
        var searchButton = buttonCreator([12,4,4,1], "Search", reposearch);
        var clearButton = buttonCreator([12,4,4,1], "View all", clearRep);
        
		
		
		if(type == "generalP")
		{
			
			box.appendChild(repoOrderNum);
			box.appendChild(repoStatus);
			box.appendChild(repoClient);
			box.appendChild(repoWindFarm);
			box.appendChild(repoCategory);
			box.appendChild(repoPlatform);
			box.appendChild(repoJob);
			box.appendChild(repoDetails);
			box.appendChild(repoIniDate);
			box.appendChild(repoEndDate);
			box.appendChild(repoCstate);
			box.appendChild(searchButton);
			box.appendChild(clearButton);
			
			
			var statusField = document.getElementById("repoStatus");
		
			var option = document.createElement("option");
			option.value = "";
			option.innerHTML = "All";
			statusField.appendChild(option);
			
			var option = document.createElement("option");
			option.value = "0";
			option.innerHTML = "Open";
			statusField.appendChild(option);
			
			var option = document.createElement("option");
			option.value = "1";
			option.innerHTML = "Closed";
			statusField.appendChild(option);
			
			var statusCField = document.getElementById("repoCstate");
			
			var option = document.createElement("option");
			option.value = "";
			option.innerHTML = "View all";
			statusCField.appendChild(option);
			
			var option = document.createElement("option");
			option.value = "In progress";
			option.innerHTML = "In progress";
			statusCField.appendChild(option);
			
			var option = document.createElement("option");
			option.value = "Awaiting Parts";
			option.innerHTML = "Awaiting Parts";
			statusCField.appendChild(option);
			
			
			var option = document.createElement("option");
			option.value = "Awaiting Materials";
			option.innerHTML = "Awaiting Materials";
			statusCField.appendChild(option);
			
			var option = document.createElement("option");
			option.value = "Other";
			option.innerHTML = "Other";
			statusCField.appendChild(option);

			jQuery('#repoIniDate').datetimepicker
			({
					timepicker:false,
					format:'Y-m-d',
				}).on('change', function() {
					$('.xdsoft_datetimepicker').hide();
					var str = $(this).val();
					str = str.split(".");
					
			});
			jQuery('#repoEndDate').datetimepicker
			({
					timepicker:false,
					format:'Y-m-d',
				}).on('change', function() {
					$('.xdsoft_datetimepicker').hide();
					var str = $(this).val();
					str = str.split(".");
					
			});
			
			
			repoPlatform.onclick = function ()
			{
				var picker = document.getElementById("repoPlatform");
				platformPicker(picker);
			}
			
			repoWindFarm.onclick = function ()
			{
				var picker = document.getElementById("repoWindFarm");
				windFarmPicker(picker);
			}
			
			refreshCategories();
			refreshJobs();
        }
		
		if(type == "generalPA")
		{
			
			box.appendChild(repoOrderNum);
			box.appendChild(repoStatus);
			box.appendChild(repoClient);
			box.appendChild(repoWindFarm);
			box.appendChild(repoCategory);
			box.appendChild(repoPlatform);
			box.appendChild(repoJob);
			box.appendChild(repoDetails);
			box.appendChild(repoIniDate);
			box.appendChild(repoEndDate);
			box.appendChild(repoCstate);
			box.appendChild(searchButton);
			box.appendChild(clearButton);
			
			
			var statusField = document.getElementById("repoStatus");
		
			var option = document.createElement("option");
			option.value = "";
			option.innerHTML = "All";
			statusField.appendChild(option);
			
			var option = document.createElement("option");
			option.value = "0";
			option.innerHTML = "Open";
			statusField.appendChild(option);
			
			var option = document.createElement("option");
			option.value = "1";
			option.innerHTML = "Closed";
			statusField.appendChild(option);
			
			var statusCField = document.getElementById("repoCstate");
			
			var option = document.createElement("option");
			option.value = "";
			option.innerHTML = "View all";
			statusCField.appendChild(option);
			
			var option = document.createElement("option");
			option.value = "In progress";
			option.innerHTML = "In progress";
			statusCField.appendChild(option);
			
			var option = document.createElement("option");
			option.value = "Awaiting Parts";
			option.innerHTML = "Awaiting Parts";
			statusCField.appendChild(option);
			
			
			var option = document.createElement("option");
			option.value = "Awaiting Materials";
			option.innerHTML = "Awaiting Materials";
			statusCField.appendChild(option);
			
			var option = document.createElement("option");
			option.value = "Other";
			option.innerHTML = "Other";
			statusCField.appendChild(option);

			jQuery('#repoIniDate').datetimepicker
			({
					timepicker:false,
					format:'Y-m-d',
				}).on('change', function() {
					$('.xdsoft_datetimepicker').hide();
					var str = $(this).val();
					str = str.split(".");
					
			});
			jQuery('#repoEndDate').datetimepicker
			({
					timepicker:false,
					format:'Y-m-d',
				}).on('change', function() {
					$('.xdsoft_datetimepicker').hide();
					var str = $(this).val();
					str = str.split(".");
					
			});
			
			
			repoPlatform.onclick = function ()
			{
				var picker = document.getElementById("repoPlatform");
				platformPicker(picker);
			}
			
			repoWindFarm.onclick = function ()
			{
				var picker = document.getElementById("repoWindFarm");
				windFarmPicker(picker);
			}
			
			refreshCategories();
			refreshJobs();
        }
		
		if(type == "accessUse")
        {
			box.appendChild(repoWindFarm);
			box.appendChild(repoAccess);
			box.appendChild(repoIniDate);
			box.appendChild(repoEndDate);
			box.appendChild(searchButton);
			box.appendChild(clearButton);
			
			jQuery('#repoIniDate').datetimepicker
			({
					timepicker:false,
					format:'Y-m-d',
				}).on('change', function() {
					$('.xdsoft_datetimepicker').hide();
					var str = $(this).val();
					str = str.split(".");
					
			});
			jQuery('#repoEndDate').datetimepicker
			({
					timepicker:false,
					format:'Y-m-d',
				}).on('change', function() {
					$('.xdsoft_datetimepicker').hide();
					var str = $(this).val();
					str = str.split(".");
					
			});
			
			repoWindFarm.onclick = function ()
			{
				var picker = document.getElementById("repoWindFarm");
				windFarmPicker(picker);
			}
        }
		
		if(type == "techBench")
        {
			
			box.appendChild(repoTechName);
			box.appendChild(repoIniDate);
			box.appendChild(repoEndDate);
			box.appendChild(searchButton);
			box.appendChild(clearButton);
			
			jQuery('#repoIniDate').datetimepicker
			({
					timepicker:false,
					format:'Y-m-d',
				}).on('change', function() {
					$('.xdsoft_datetimepicker').hide();
					var str = $(this).val();
					str = str.split(".");
					
			});
			jQuery('#repoEndDate').datetimepicker
			({
					timepicker:false,
					format:'Y-m-d',
				}).on('change', function() {
					$('.xdsoft_datetimepicker').hide();
					var str = $(this).val();
					str = str.split(".");
					
			});
			
			// refreshTechs();
        }
		
		if(type == "techHours")
        {
			
			box.appendChild(repoTechName);
			box.appendChild(repoIniDate);
			box.appendChild(repoEndDate);
			box.appendChild(searchButton);
			box.appendChild(clearButton);
			
			jQuery('#repoIniDate').datetimepicker
			({
					timepicker:false,
					format:'Y-m-d',
				}).on('change', function() {
					$('.xdsoft_datetimepicker').hide();
					var str = $(this).val();
					str = str.split(".");
					
			});
			jQuery('#repoEndDate').datetimepicker
			({
					timepicker:false,
					format:'Y-m-d',
				}).on('change', function() {
					$('.xdsoft_datetimepicker').hide();
					var str = $(this).val();
					str = str.split(".");
					
			});

        }
		
		if(type == "labHours")
        {
			
			box.appendChild(repoTechName);
			box.appendChild(repoIniDate);
			box.appendChild(repoEndDate);
			box.appendChild(searchButton);
			box.appendChild(clearButton);
			
			jQuery('#repoIniDate').datetimepicker
			({
					timepicker:false,
					format:'Y-m-d',
				}).on('change', function() {
					$('.xdsoft_datetimepicker').hide();
					var str = $(this).val();
					str = str.split(".");
					
			});
			jQuery('#repoEndDate').datetimepicker
			({
					timepicker:false,
					format:'Y-m-d',
				}).on('change', function() {
					$('.xdsoft_datetimepicker').hide();
					var str = $(this).val();
					str = str.split(".");
					
			});

        }
		
		if(type == "projectHours")
        {
			
			
			box.appendChild(repoProject);
			box.appendChild(repoIniDate);
			box.appendChild(repoEndDate);
			box.appendChild(repoWindFarm);

			box.appendChild(searchButton);
			box.appendChild(clearButton);
			
			jQuery('#repoIniDate').datetimepicker
			({
					timepicker:false,
					format:'Y-m-d',
				}).on('change', function() {
					$('.xdsoft_datetimepicker').hide();
					var str = $(this).val();
					str = str.split(".");
					
			});
			jQuery('#repoEndDate').datetimepicker
			({
					timepicker:false,
					format:'Y-m-d',
				}).on('change', function() {
					$('.xdsoft_datetimepicker').hide();
					var str = $(this).val();
					str = str.split(".");
					
			});
			
			setQnums();
			repoWindFarm.onclick = function ()
			{
				var picker = document.getElementById("repoWindFarm");
				windFarmPicker(picker);
			}
			
			
        }
		
		if(type == "generalPtype")
        {
			
			box.appendChild(repoOrderNum);
			box.appendChild(repoStatus);
			box.appendChild(repoClient);
			box.appendChild(repoWindFarm);
			box.appendChild(repoCategory);
			box.appendChild(repoPlatform);
			box.appendChild(repoJob);
			box.appendChild(repoDetails);
			box.appendChild(repoIniDate);
			box.appendChild(repoEndDate);
			box.appendChild(searchButton);
			box.appendChild(clearButton);
			
			
			var statusField = document.getElementById("repoStatus");
		
			var option = document.createElement("option");
			option.value = "";
			option.innerHTML = "All";
			statusField.appendChild(option);
			
			var option = document.createElement("option");
			option.value = "0";
			option.innerHTML = "In progress";
			statusField.appendChild(option);
			
			var option = document.createElement("option");
			option.value = "1";
			option.innerHTML = "Completed";
			statusField.appendChild(option);
			
			jQuery('#repoIniDate').datetimepicker
			({
					timepicker:false,
					format:'Y-m-d',
				}).on('change', function() {
					$('.xdsoft_datetimepicker').hide();
					var str = $(this).val();
					str = str.split(".");
					
			});
			jQuery('#repoEndDate').datetimepicker
			({
					timepicker:false,
					format:'Y-m-d',
				}).on('change', function() {
					$('.xdsoft_datetimepicker').hide();
					var str = $(this).val();
					str = str.split(".");
					
			});
			
			repoPlatform.onclick = function ()
			{
				var picker = document.getElementById("repoPlatform");
				platformPicker(picker);
			}
			repoWindFarm.onclick = function ()
			{
				var picker = document.getElementById("repoWindFarm");
				windFarmPicker(picker);
			}
			refreshCategories();
			refreshJobs();
        }
		
		if(type == "power")
        {
			
			box.appendChild(repoOrderNum);
			box.appendChild(repoStatus);
			box.appendChild(repoClient);
			box.appendChild(repoWindFarm);
			box.appendChild(repoCategory);
			box.appendChild(repoPlatform);
			box.appendChild(repoJob);
			box.appendChild(repoDetails);
			box.appendChild(repoIniDate);
			box.appendChild(repoEndDate);
			box.appendChild(repoCstate);
			box.appendChild(searchButton);
			box.appendChild(clearButton);
			
			
			var statusField = document.getElementById("repoStatus");
		
			var option = document.createElement("option");
			option.value = "";
			option.innerHTML = "All";
			statusField.appendChild(option);
			
			var option = document.createElement("option");
			option.value = "0";
			option.innerHTML = "Open";
			statusField.appendChild(option);
			
			var option = document.createElement("option");
			option.value = "1";
			option.innerHTML = "Closed";
			statusField.appendChild(option);
			
			var statusCField = document.getElementById("repoCstate");
			
			var option = document.createElement("option");
			option.value = "";
			option.innerHTML = "View all";
			statusCField.appendChild(option);
			
			var option = document.createElement("option");
			option.value = "In progress";
			option.innerHTML = "In progress";
			statusCField.appendChild(option);
			
			var option = document.createElement("option");
			option.value = "Awaiting Parts";
			option.innerHTML = "Awaiting Parts";
			statusCField.appendChild(option);
			
			
			var option = document.createElement("option");
			option.value = "Awaiting Materials";
			option.innerHTML = "Awaiting Materials";
			statusCField.appendChild(option);
			
			var option = document.createElement("option");
			option.value = "Other";
			option.innerHTML = "Other";
			statusCField.appendChild(option);

			jQuery('#repoIniDate').datetimepicker
			({
					timepicker:false,
					format:'Y-m-d',
				}).on('change', function() {
					$('.xdsoft_datetimepicker').hide();
					var str = $(this).val();
					str = str.split(".");
					
			});
			jQuery('#repoEndDate').datetimepicker
			({
					timepicker:false,
					format:'Y-m-d',
				}).on('change', function() {
					$('.xdsoft_datetimepicker').hide();
					var str = $(this).val();
					str = str.split(".");
					
			});
			
			
			repoPlatform.onclick = function ()
			{
				var picker = document.getElementById("repoPlatform");
				platformPicker(picker);
			}
			
			repoWindFarm.onclick = function ()
			{
				var picker = document.getElementById("repoWindFarm");
				windFarmPicker(picker);
			}
			
			refreshCategories();
			refreshJobs();
        }
		
		
		
}
function clearRep()
{
	var fields = document.getElementById("repFilterBox").children;
	var list = fields;
	for(var i=0; i<list.length; i++)
	{
		var item = list[i];
		var field = item.children[1];
		field.value = "";
	}
	
	reposearch();
}
function refreshPlatforms()
{
	var picker = document.getElementById("repoPlatform");
	picker.innerHTML = "";
	var option = document.createElement("option");
	option.value = "";
	option.innerHTML = "Platform";
	picker.appendChild(option);
	
	var list = platsList;
	
	// list.sort();
	for(var i=0; i<list.length; i++)
	{
		var item = list[i];
		
		var option = document.createElement("option");
		option.value = item;
		option.innerHTML = item;
		picker.appendChild(option);
	}
}
function refreshCategories()
{
	
	var  picker = document.getElementById("repoCategory");
	picker.innerHTML = "";
	
	var option = document.createElement("option");
	option.value = "";
	option.innerHTML = "Category";
	
	picker.appendChild(option);
	
	var list = catsList;
	
	list.sort();
	
	for(var i=0; i<list.length; i++)
	{
		var item = list[i];
		
		var option = document.createElement("option");
		option.value = item;
		option.innerHTML = item;
		
		picker.appendChild(option);
		
	}
	
}
function refreshJobs()
{
	
	var  picker = document.getElementById("repoJob");
	picker.innerHTML = "";
	
	var option = document.createElement("option");
	option.value = "";
	option.innerHTML = "Job type";
	
	picker.appendChild(option);
	
	var list = ["TSA - Siemens New Unit Warranty","LTP - Siemens Service Warranty","TSA & LTP Siemens - shared responsibility", "TFA - Labor only", "Open Market - Customer responsibility", "TFA - Labor only"];
	
	for(var i=0; i<list.length; i++)
	{
		var item = list[i];
		
		var option = document.createElement("option");
		option.value = item;
		option.innerHTML = item;
		
		picker.appendChild(option);
		
	}
	
}
function refreshTechs()
{
	
	var info = {};
	
	sendAjax("users","geTechList",info,function(response)
	{
		var ans = response.message;
		
		var  picker = document.getElementById("repoTech");
		picker.innerHTML = "";
		
		var option = document.createElement("option");
		option.value = "";
		option.innerHTML = "User";
		
		picker.appendChild(option);
		
		var list = ans;
		
		for(var i=0; i<list.length; i++)
		{
			var code = list[i].CODE;
			var name = list[i].RESPNAME;
			
			if(list[i].TYPE == "JZ"){var type = "Advanced Specialist";}
			if(list[i].TYPE == "CO"){var type = "Commercial";}
			if(list[i].TYPE == "FB"){var type = "Financial Business Analyst";}
			if(list[i].TYPE == "PL"){var type = "Planning";}
			if(list[i].TYPE == "PM"){var type = "Project Manager";}
			if(list[i].TYPE == "SM"){var type = "Site Manager";}
			if(list[i].TYPE == "SP"){var type = "Supervisor";}
			if(list[i].TYPE  == "S"){var type = "Technical Specialist"}
			if(list[i].TYPE == "UC"){var type = "Contractor";}
			
			var option = document.createElement("option");
			option.value = code;
			option.innerHTML = name + " - "+ type;
			
			picker.appendChild(option);
			
		}
		
	});
	
	
	
}
function fieldCreator(sizes, title, type, id)
{
        var label = document.createElement("span");
        label.innerHTML = title;
        
        var box = document.createElement("div");
        var classname = "col-xs-"+sizes[0]+" col-sm-"+sizes[1]+" col-md-"+sizes[2]+" col-lg-"+sizes[3];
        box.className = classname;
        
        var field = document.createElement(type);
        field.id = id;
        field.type = "text";
        
        box.appendChild(label);
        box.appendChild(field);
        
        return box;
}
function buttonCreator(sizes, title, fun)
{
        var button = document.createElement("button");
        button.innerHTML = title;
        button.onclick = function(){fun()}
        
        var box = document.createElement("div");
        var classname = "col-xs-"+sizes[0]+" col-sm-"+sizes[1]+" col-md-"+sizes[2]+" col-lg-"+sizes[3];
        box.className = classname;
        
        var br = document.createElement("br");
        br.className = "hidden-xs";
        
        box.appendChild(br);
        box.appendChild(button);
        
        return box;
}
function reposearch()
{
	  var info = {};
	  info["repoType"] = actualReport;
	
	  var fields = [];
	  var filters = document.getElementById("repFilterBox").children;
	  for(var i = 0; i<filters.length-2; i++){var filter = filters[i].children[1];fields.push(filter.id);}
	  for(var i=0; i<fields.length; i++)
	  {
		info[fields[i]] = document.getElementById(fields[i]).value;
		
		if(fields[i] == "repoOrderNum")
		{
			if(info[fields[i]] != "")
			{
				info[fields[i]] = parseFloat(document.getElementById(fields[i]).value)
			}
			
		}
		if(fields[i] == "repoIniDate")
		{
			info[fields[i]] = document.getElementById(fields[i]).value.split(" ")[0];	
			info[fields[i]] = info[fields[i]].replace("/", "-");	
			info[fields[i]] = info[fields[i]].replace("/", "-");	
		}
		if(fields[i] == "repoEndDate")
		{
			info[fields[i]] = document.getElementById(fields[i]).value.split(" ")[0];
			info[fields[i]] = info[fields[i]].replace("/", "-");	
			info[fields[i]] = info[fields[i]].replace("/", "-");	
		}
		
	  }

	  console.log(info)
	  
	  if(actualReport == "projectHours")
	  {
		  if(info.repoProject == "")
		  {
				if(info.repoIniDate == "" || info.repoEndDate == "")
				{
					 alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You mus pick a initial date and final date, if you select All projects", 300);
					return;
				}
			 
		  }
	  }
	  
        
		sendAjax("users","getReport",info,function(response)
		{
			var ans = response.message;
			console.log(ans);

			var url = "excel/"+ans;
			downloadReport(decry(url));
		});

}
function tableCreatorRepo(tableId, list)
{
	var table = document.getElementById(tableId);
	tableClear(tableId);
	
	if(list.length == 0)
	{
		var nInYet = document.createElement("div");
		nInYet.innerHTML = language["noResults"];
		nInYet.className = "blankProducts";
		table.appendChild(nInYet);
		resSet();

		return;
	}
	// ORDERS
	if(tableId == "ordersR")
	{
		var costTotal  = 0;
		
		for(var i=0; i<list.length; i++)
		{
			var row = document.createElement("div");
			row.className = "rowT";
			
			var a = cellCreator('OTT', num);
			var b = cellCreator('Cliente',  list[i].PARENTNAME);
			var c = cellCreator('Sucursal',  list[i].SUCUNAME);
			
			var maquiList = JSON.parse(list[i].MAQUIS);
			var maquis = "";

			var d= cellCreator('Equipos', maquis);
			var e = cellCreator('Fecha Solicitud', list[i].DATE);

			var f = cellCreator('Fecha Atención', startDate);
			var m = cellCreator('Fecha Atención', list[i].TECHNAME);

			var g = cellCreator('Detalle', list[i].DETAIL);
			
			var totalCost = list[i].TOTALCOST;
			if(totalCost == null || totalCost == "")
			{
				totalCost = "-";
			}
			else
			{
				totalCost = addCommas(totalCost);
			}
			
			if(list[i].STATE == "4" || list[i].STATE == "5")
			{
				var n = cellCreator('Valor(AI)', totalCost);
			}
			else
			{
				var n = cellCreator('Valor(AI)', "Sin liquidar");
			}

			if(list[i].STATE == "1"){var state = "Nueva"}
			if(list[i].STATE == "2"){var state = "Proceso"}
			if(list[i].STATE == "3"){var state = "Revisión"}
			if(list[i].STATE == "4"){var state = "Por facturar"}
			if(list[i].STATE == "5"){var state = "Facturada"}
			if(list[i].STATE == "6"){var state = "Previsita"}
			if(list[i].STATE == "7"){var state = "Cotizado"}
			
			var h = cellCreator('Estado', state);
			
			var detail = document.createElement("img");
			detail.src = "irsc/downIcon.png";
			detail.reg = list[i];
			detail.setAttribute('title', 'Descargar Reporte');
			detail.setAttribute('alt', 'Descargar Reporte');
			detail.onclick = function()
			{
				if(this.reg.STATE != "3" && this.reg.STATE != "4" && this.reg.STATE != "5")
				{
						return;
				}
				var info = this.reg;
				var url = "reports/"+info.CODE+"-T.pdf";
				downloadReport(url);
			}
			
			if(list[i].STATE != "4" && list[i].STATE != "5")
			{
				detail.src = "irsc/downIconG.png";
			}
			
			
			var icons = [detail];
			var x = cellOptionsCreator('', icons)
			var cells = [a,b,c,d,e,f,m,g,n,h,x];
			for(var r=0; r<cells.length; r++){row.appendChild(cells[r]);}
			table.appendChild(row);
			
			if(list[i].TOTALCOST == "" || list[i].TOTALCOST == null)
			{
				list[i].TOTALCOST = 0;
			}
			
			costTotal += parseFloat(list[i].TOTALCOST);
		}
		
		var line = ["", "", "", "", "", "", "",  "Total Antes de Impuestos", addCommas(costTotal), "", ""];
		var totalRow = enderRow(line);
		table.appendChild(totalRow);
                
	}

}
function enderRow(line)
{
        var row = document.createElement("div");
        row.className = "rowT";
        
        for(var i=0; i<line.length; i++)
        {
                var content = line[i];
                
                var cell = document.createElement("div");
                cell.className = "column totalCell";
                cell.setAttribute('data-label',name);
                cell.innerHTML = decodeURIComponent(content);
                
                row.appendChild(cell);
        }
        
        return row;
}
// REPORT BLOCK STA ----------
function setLimitBox(email, actualBanned)
{
	console.log(actualBanned)
	actualBanEmail = email;
	
	
	if(actualBanned == "all")
	{
		document.getElementById("limitSelector").value = "all";
		document.getElementById("limitsField").value = "None visible";
	}
	else if(actualBanned == "")
	{
		document.getElementById("limitSelector").value = "";
		document.getElementById("limitsField").value = "All visible";
	}
	else
	{
		document.getElementById("limitSelector").value = "list";
		document.getElementById("limitsField").value = actualBanned;
	}
	
	document.getElementById("limitsField").disabled = true;
	formBox("setLimitBox",language["setLimitsFor"]+" for "+email,350);
}
function setLimitOptions(value)
{
	if(value == "")
	{
		document.getElementById("limitsField").value = "All visible";
		document.getElementById("limitsField").disabled = true;
	}
	if(value == "all")
	{
		document.getElementById("limitsField").value = "None visible";
		document.getElementById("limitsField").disabled = true;
	}
	if(value == "write")
	{
		if(actualBannedList == "all")
		{document.getElementById("limitsField").value = "";}
		else
		{document.getElementById("limitsField").value = actualBannedList;}
		
		document.getElementById("limitsField").disabled = false;
	}
	if(value == "list")
	{
		if(actualBannedList == "all")
		{document.getElementById("limitsField").value = "";}
		else
		{document.getElementById("limitsField").value = actualBannedList;}
		document.getElementById("limitsField").disabled = true;
	}
}
function saveLimits()
{
	var picked = document.getElementById("limitSelector").value;
	if(picked == ""){var banned = "";}
	else if(picked == "all"){var banned = "all";}
	else{var banned = document.getElementById("limitsField").value;}

	saveLimitsSend(banned);
}
function saveLimitsSend(banned)
{
	var info = {};
	info.email = actualBanEmail;
	info.banned = banned

	
	sendAjax("users","setLimits",info,function(response)
	{
		var ans = response.message;
		console.log(ans);
		if(response.status)
		{
			hide_pop_form();
			alertBox(language["alert"],language["sys016"],300);
			techisGet();
		}
	});
}
function pssChange(mail, type)
{
	var container = document.getElementById("pssChangeBox");
	container.innerHTML = "";
	container.style.textAlign = "center";
	
	var icon = document.createElement("img");
	icon.src = "irsc/infoGeneral.png";
	icon.className = "infoLogo";
	icon.style.marginBottom = "10px";
	icon.style.marginTop = "4px";
	
	var changePassBox = document.createElement("input");
	changePassBox.id = "changePassBox";
	changePassBox.type = "text";
	changePassBox.className = "recMailBox";
	changePassBox.placeholder = language["newPass"];
	
	var recMailSend = document.createElement("div");
	recMailSend.className = "dualButtonPop";
	recMailSend.innerHTML = language["change"];
	recMailSend.onclick = function()
		{
			var info = {};
			info.mail = mail;
			info.newPass = $("#changePassBox").val();
			info.lang = lang;
                        
                        info.optype = ltt5;
                        info.type = type;
                        info.autor = aud.RESPNAME;
                        info.target = mail;
                        info.date = getNow();
                        
                        if(info.newPass.length < 6)
                        {
                                alertBox(language["alert"], language["sys007"],300);
                                return;
                        }
                        
                        if(info.newPass.match(/[\<\>!#\$%^&\,]/) ) 
                        {
                                alertBox(language["alert"], language["sys008"],300);
                                return;
                        }
			
			if(info.newPass == "")
			{
				hide_pop_form();
				alertBox(language["alert"], language["sys006"],300);
				return;
			}
			
			sendAjax("users","changePass",info,function(response)
			{
				if(response.status)
				{
					hide_pop_form();
					alertBox(language["alert"],language["sys013"],300);
				}
			});
		}
	
	var recMailCancel = document.createElement("div");
	recMailCancel.className = "dualButtonPop";
	recMailCancel.innerHTML = language["cancel"];
	recMailCancel.onclick = function(){hide_pop_form()};
	
	container.appendChild(icon);
	container.appendChild(changePassBox);
	container.appendChild(recMailSend);
	container.appendChild(recMailCancel);

	formBox("pssChangeBox",language["changePass"]+" for "+mail,350);
}
function pssRec()
{
	var container = document.getElementById("pssRecBox");
	container.innerHTML = "";
	container.style.textAlign = "center";
	
	var icon = document.createElement("img");
	icon.src = "irsc/infoGeneral.png";
	icon.className = "infoLogo";
	icon.style.marginBottom = "10px";
	icon.style.marginTop = "4px";
	
	var recMailType = document.createElement("select");
	recMailType.id = "recMailType";
	recMailType.type = "select";
	recMailType.className = "recMailBox";
        
	var option = document.createElement("option");
	option.value = "";
	option.innerHTML = "User type";
	recMailType.appendChild(option);

	var option = document.createElement("option");
	option.value = "A";
	option.innerHTML = "Administrator";
	recMailType.appendChild(option);
	
	var option = document.createElement("option");
	option.value = "JZ";
	option.innerHTML = "Advanced Specialist";
	recMailType.appendChild(option);
	
	var option = document.createElement("option");
	option.value = "CO";
	option.innerHTML = "Commercial";
	recMailType.appendChild(option);
	
	var option = document.createElement("option");
	option.value = "FB";
	option.innerHTML = "Financial Business Analyst";
	recMailType.appendChild(option);
	
	var option = document.createElement("option");
	option.value = "PL";
	option.innerHTML = "Planning";
	recMailType.appendChild(option);
	
	var option = document.createElement("option");
	option.value = "PM";
	option.innerHTML = "Project Manager";
	recMailType.appendChild(option);
	
	var option = document.createElement("option");
	option.value = "SM";
	option.innerHTML = "Site Manager";
	recMailType.appendChild(option);
	
	var option = document.createElement("option");
	option.value = "SP";
	option.innerHTML = "Supervisor";
	recMailType.appendChild(option);
	
	var option = document.createElement("option");
	option.value = "S";
	option.innerHTML = "Technical Specialist";
	recMailType.appendChild(option);
	
	var option = document.createElement("option");
	option.value = "UC";
	option.innerHTML = "Contractor";
	recMailType.appendChild(option);
	
	var recMailBox = document.createElement("input");
	recMailBox.id = "recMailBox";
	recMailBox.type = "text";
	recMailBox.className = "recMailBox";
	recMailBox.placeholder = language["adminLoginMail"];
	
	var recMailSend = document.createElement("div");
	recMailSend.className = "dualButtonPop";
	recMailSend.innerHTML = language["send"];
	recMailSend.onclick = function()
	{
		var info = {};
		info.mail = $("#recMailBox").val();
		info.type = $("#recMailType").val();
		info.lang = lang;
		
		if(info.type == "")
		{
			alertBox(language["alert"],"<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must pick an user type",300);
			return;
		}
					
		if(info.mail == "")
		{
			hide_pop_form();
			alertBox(language["alert"], language["sys005"],300);
			return;
		}
		
		sendAjax("users","mailExist",info,function(response)
		{
							
			if(response.status)
			{
				hide_pop_form();
				alertBox(language["alert"],language["sys009"],300);
			}
			else
			{
				hide_pop_form();
				alertBox(language["alert"],language["sys010"],300);
			}
		});
	}
	
	var recMailCancel = document.createElement("div");
	recMailCancel.className = "dualButtonPop";
	recMailCancel.innerHTML = language["cancel"];
	recMailCancel.onclick = function(){hide_pop_form()};
	
	// container.appendChild(icon);
	container.appendChild(recMailType);
	container.appendChild(recMailBox);
	container.appendChild(recMailSend);
	container.appendChild(recMailCancel);

	formBox("pssRecBox",language["passRecTitle"],300);
}



function reqStateSet()
{
	var container = document.getElementById("reqSetBox");
	container.innerHTML = "";
	container.style.textAlign = "center";
	
	var icon = document.createElement("img");
	icon.src = "irsc/infoGeneral.png";
	icon.className = "infoLogo";
	icon.style.marginBottom = "10px";
	icon.style.marginTop = "4px";
	
	var recMailType = document.createElement("select");
	recMailType.id = "recMailType";
	recMailType.type = "select";
	recMailType.className = "recMailBox";
        
	var option = document.createElement("option");
	option.value = "Pending";
	option.innerHTML = "Pending";
	recMailType.appendChild(option);
	
	var option = document.createElement("option");
	option.value = "Progress";
	option.innerHTML = "Progress";
	recMailType.appendChild(option);
	
	var option = document.createElement("option");
	option.value = "Completed";
	option.innerHTML = "Completed";
	recMailType.appendChild(option);

	var recMailSend = document.createElement("div");
	recMailSend.className = "dualButtonPop";
	recMailSend.innerHTML = "Save";
	recMailSend.onclick = function()
	{
		var info = {};
		info.state = $("#recMailType").val();
		info.code = actualReqCode;
		info.lang = lang;
		
		
		sendAjax("users","setReqState",info,function(response)
		{
			var ans = response.message;
			console.log(ans)
			hide_pop_form();
			reqsGet();
			
		});
	}
	
	var recMailCancel = document.createElement("div");
	recMailCancel.className = "dualButtonPop";
	recMailCancel.innerHTML = language["cancel"];
	recMailCancel.onclick = function(){hide_pop_form()};
	
	// container.appendChild(icon);
	container.appendChild(recMailType);
	// container.appendChild(recMailBox);
	container.appendChild(recMailSend);
	container.appendChild(recMailCancel);

	formBox("reqSetBox","Set state",300);
}


function setNewPass()
{

        
        var info = {};
        info.newPass = document.getElementById("newUpass").value;
        info.code = pssReCode;
        
        if(info.newPass.length < 6)
        {
                alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>Tu contraseña debe tener al menos 6 caracteres",300);
                return;
        }
        
        if(info.newPass.match(/[\<\>!#\$%^&\,]/) ) 
        {
                alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>No debes usar ninguno de estos caracteres en tu contraseña <br> [\<\>!#\$%^&\*,]",300);
                return;
        }
        
        sendAjax("users","setRecoPass",info,function(response)
        {
               var ans = response.message;

               alertBox(language["alert"], "<img src='irsc/infoGeneral.png' class='infoIcon'/><br>The new password has been set", 300);
               setTimeout(function(){window.location.replace('https://opspecialistsgroup.com/');}, 2500)
               

        });
        
}
function getNow(extra)
{
	var currentdate = new Date(); 
	
	if(extra != null)
	{
		currentdate.setDate(currentdate.getDate() + (extra));
	}
	
	var year = currentdate.getFullYear();
	var month = (currentdate.getMonth()+1);
	var day = currentdate.getDate();
	var hour = currentdate.getHours();
	var minute = currentdate.getMinutes();
	var second = currentdate.getSeconds();
	
	if(parseFloat(month) < 10){month = "0"+month};
	if(parseFloat(day) < 10){day = "0"+day};
	if(parseFloat(hour) < 10){hour = "0"+hour};
	if(parseFloat(minute) < 10){minute = "0"+minute};
	if(parseFloat(second) < 10){second = "0"+second};
	
	var datetime =  year + "-" +  month + "-" + day + " "  + hour + ":"  + minute + ":"  + second;	
	
	return datetime;
}
function getNowCustom(date,extra)
{
	// var currentdate = new Date(date); 
	var currentdate = date;
	
	if(extra != null)
	{
		currentdate.setDate(currentdate.getDate() + (extra));
	}
	
	var year = currentdate.getFullYear();
	var month = (currentdate.getMonth()+1);
	var day = currentdate.getDate();
	var hour = currentdate.getHours();
	var minute = currentdate.getMinutes();
	var second = currentdate.getSeconds();
	
	if(parseFloat(month) < 10){month = "0"+month};
	if(parseFloat(day) < 10){day = "0"+day};
	if(parseFloat(hour) < 10){hour = "0"+hour};
	if(parseFloat(minute) < 10){minute = "0"+minute};
	if(parseFloat(second) < 10){second = "0"+second};
	
	var datetime =  year + "-" +  month + "-" + day + " "  + hour + ":"  + minute + ":"  + second;	
	
	return datetime;
}
function validateEmail(mail) 
{ 
    var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return re.test(mail);
} 	
function addCommas(nStr)
{
	nStr = parseFloat(nStr);
	
	var d = 0;
        var actualCurrency = "USD";
	
	
	
	if(actualCurrency == "COP")
	{
		d = 0;
		var currency = "$";
	}
	if(actualCurrency == "CLP")
	{
		d = 0;
		var currency = "$";
	}
	if(actualCurrency == "PEN")
	{
		d = 2;
		var currency = "S/";
	}
	if(actualCurrency == "MXN")
	{
		d = 2;
		var currency = "$";
	}
	if(actualCurrency == "ARS")
	{
		d = 2;
		var currency = "$";
	}
	if(actualCurrency == "USD")
	{
		d = 2;
		var currency = "$";
	}
	if(actualCurrency == "EUR")
	{
		d = 2;
		var currency = "€";
	}
	if(actualCurrency == "GBP")
	{
		d = 2;
		var currency = "£";
	}
	return currency + "" + nStr.toFixed(d).replace(/./g, function(c, i, a) 
	{
		return i > 0 && c !== "." && (a.length - i) % 3 === 0 ? "," + c : c;
	});

}
function sendAjax(obj, method, data, responseFunction, noLoader, asValue)
{
		showLoader = 1;
		
		console.log(obj)
		console.log(method)
		
		
		 if(!noLoader)
		 {
			setTimeout(function()
			{
				if(showLoader == 1)
				{
					$("#loaderDiv").fadeIn();
				}	
			},1000);
		 }
		 var info = {};
		 info.class = obj;
		 info.method = method;
		 info.data = data;

		$.ajax({
			type: 'POST',
			url: 'libs/php/mentry.php',
			contentType: 'application/json',
			data: JSON.stringify(info),
			cache: false,
			async: true,
			success: function(data){

				 try
				 {
					var tmpJson = $.parseJSON(data);
					responseFunction(tmpJson.data);
					$("#loaderDiv").fadeOut();
					showLoader = 0;
				 }
				 catch(e)
				 {
					 console.log(data);
					 $("#loaderDiv").fadeOut();
					 showLoader = 0;
				 }
			},
			error: function( jqXhr, textStatus, errorThrown )
			{ 
				$("#loaderDiv").fadeOut();
				console.log( errorThrown );
			}
		});
	 

}
function doesConnectionExist()
{
	var xhr = new XMLHttpRequest();
	var file = "http://www.simplebryc.com/irsc/addCash.png";
	var randomNum = Math.round(Math.random() * 10000);

	xhr.open('HEAD', file + "?rand=" + randomNum, false);

	try 
	{
		xhr.send();

		if (xhr.status >= 200 && xhr.status < 304) 
		{
			return true;
		} 
		else {
		  return false;
	}
	}
	catch (e) 
	{
		return false;
	}
}
function encry (str) 
{  
    return encodeURIComponent(str).replace(/[!'()*]/g, escape);  
}
function decry (str) 
{  
    return decodeURIComponent(str);  
}
function contactOpenOrder(odata, users)
{
	
	var picker = document.getElementById("contactRecipient");
	picker.innerHTML = "";
	
	var option = document.createElement("option");
	option.value = "";
	option.innerHTML = "Select recipient";
	picker.appendChild(option);

	var list = users;
	for(var i=0; i<list.length; i++)
	{
		var item = list[i];
		
		if(item.TYPE == "A"){var type = "Administrator";}
		if(item.TYPE == "JZ"){var type = "Advanced Specialist";}
		if(item.TYPE == "CO"){var type = "Commercial";}
		if(item.TYPE == "FB"){var type = "Financial Business Analyst";}
		if(item.TYPE == "PL"){var type = "Planning";}
		if(item.TYPE == "PM"){var type = "Project Manager";}
		if(list[i].TYPE == "SM"){var type = "Site Manager";}
		if(item.TYPE == "SP"){var type = "Supervisor";}
		if(list[i].TYPE == "S"){var type = "Technical Specialist"}
		if(item.TYPE == "UC"){var type = "Contractor";}
		
		var option = document.createElement("option");
		option.value = item.MAIL;
		option.innerHTML = item.RESPNAME+" - "+type;
		picker.appendChild(option);
	}
	actualNotifyData = odata;
	console.log(actualNotifyData)
	
	if(actualEtype == "")
	{
			
		formBox("contactDivOrder","Notification for order "+actualNotifyData.ONUM,400);
	}
	if(actualEtype == "pnotif")
	{
		actualQCODE = actualNotifyData.QCODE;
		formBox("contactDivOrder","Notification for project report "+actualNotifyData.QCODE,400);
	}
	else if(actualEtype == "trnotif")
	{
		actualQCODE = actualNotifyData.CNAME;
		formBox("contactDivOrder","Notification for training "+actualNotifyData.CNAME,400);
	}
	else if(actualEtype == "ppenotif")
	{
		actualQCODE = actualNotifyData.TOEQUI;
		formBox("contactDivOrder","Notification for PPE and Tools: "+actualNotifyData.TOEQUI,400);
	}
	else if(actualEtype == "supReq")
	{
		console.log(actualNotifyData)
		actualQCODE = actualNotifyData.CODE;
		formBox("contactDivOrder","Notification for support request: "+actualNotifyData.RNUM,400);
	}
	else
	{
		formBox("contactDivOrder","Export and send excel",400);	
	}

	
}
function sendContactOrder()
{
	
	var recipient = document.getElementById("contactRecipient").value;
	var message = document.getElementById("contactMessageOrder").value;

	var info = {};
	
	info.recipient = recipient;
	info.message = message;
	info.name = aud.RESPNAME
	info.origin = aud.MAIL;
	
	
	if(actualEtype != "")
	{
		info.etype = actualEtype;
		info.dcode = actualDCODE;
		info.quote = actualQCODE;

	}
	else
	{
		info.quote = actualNotifyData.ONUM;
		info.etype = actualEtype;
		
		if(recipient == "")
		{
			alertBox(language["alert"],language["mustRecipient"],300);
			return;
		}
		
		if(message == "")
		{
			alertBox(language["alert"],language["mustMessage"],300);
			return;
		}
	}
	
	console.log(info)
	// return
	
	sendAjax("users","tagContactOrder",info,function(response)
	{
		
		var ans = response.message;
		console.log(ans)
		var url = "excel/"+ans;
		
		if(info.etype != "" && info.etype != "pnotif" && info.etype != "trnotif" && info.etype != "supReq")
		{
			downloadReport(decry(url));
			hide_pop_form();
			return;
		}
	
		hide_pop_form();
		alertBox(language["alert"],language["contactSent"],300);
		document.getElementById("contactRecipient").value = "";
		document.getElementById("contactMessageOrder").value = "";
		actualEtype = "";

	});
	
}
function contactOpen()
{
	var nameBox = document.getElementById("contactName");
	var emailBox = document.getElementById("contactMail");
	
	if(aud == null)
	{
		nameBox.style.display = "block";
		emailBox.style.display = "block";
	}
	else
	{
		nameBox.style.display = "none";
		emailBox.style.display = "none";
	}
	
	formBox("contactDiv",language["contactLink"],400);
	
}
function sendContact()
{
	var nameBox = document.getElementById("contactName");
	var emailBox = document.getElementById("contactMail");
	
	if(aud == null)
	{
		var name = nameBox.value;
		var email = emailBox.value;
	}
	else
	{
		var name = decodeURIComponent(aud.RESPNAME);
		var email = aud.MAIL;
	}
	
	var message = document.getElementById("contactMessage").value;
	
	if(name == "" && aud == null)
	{
		alertBox(language["alert"],"<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter a name",300);
		return;
	}
	if(email == "" && aud == null)
	{
		alertBox(language["alert"],"<img src='irsc/infoGeneral.png' class='infoIcon'/><br>You must enter an email.",300);
		return;
	}
	if(message == "")
	{
		alertBox(language["alert"],language["mustMessage"],300);
		return;
	}
	
	var info = {};
	
	info.message = message;
	info.email = email;
	info.name = name;

	sendAjax("users","tagContact",info,function(response)
	{
		hide_pop_form();
		alertBox(language["alert"],language["contactSent"],300);

		document.getElementById("contactName").value = "";
		document.getElementById("contactMail").value = "";
		document.getElementById("contactMessage").value = "";
	});
	
}
function downloadCvsOrder(info)
{
	info.lang = "es_co";

	sendAjax("users","exportCVS",info,function(response)
	{
		var ans = response.message;
		console.log(ans)
		
		// return
		
		var url = "reports/"+encry(ans)+".csv";
		console.log(url);
		downloadReport(url) 
		
		
	 });
}
Array.prototype.in_array=function()
{ 
	for(var j in this)
	{ 
		if(this[j]==arguments[0])
		{
			return true; 
		} 
	} 
	return false;     
} 
String.prototype.capitalize = function()
{
        return this.toLowerCase().replace( /\b\w/g, function (m) 
        {
            return m.toUpperCase();
        });
};
String.prototype.shuffle = function ()
{
	var a = this.split(""),
	n = a.length;

	for(var i = n - 1; i > 0; i--)
	{
		var j = Math.floor(Math.random() * (i + 1));
		var tmp = a[i];
		a[i] = a[j];
		a[j] = tmp;
	}
	return a.join("");
}
String.prototype.replaceAll = function(str1, str2, ignore) 
{
    return this.replace(new RegExp(str1.replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g,"\\$&"),(ignore?"gi":"g")),(typeof(str2)=="string")?str2.replace(/\$/g,"$$$$"):str2);
} 


// FLOATING PICKERS

function windFarmPicker(box)
{
	actualPickBox = box;
	
	var areaPicker = document.getElementById("areaPicker");
	areaPicker.focus()
	formBox("windfarmPickerBox","Windfarm selection",400);
}
function pickedLevelWF(level)
{
	var picker1 = document.getElementById("areaPicker");
	var picker2 = document.getElementById("countryPicker");
	var picker3 = document.getElementById("districtPicker");
	var picker4 = document.getElementById("windfarmPicker");
	
	if(level == "1")
	{
		var val1 = picker1.value;
		
		picker2.innerHTML = "";
		picker3.innerHTML = "";
		picker4.innerHTML = "";
		
		var option = document.createElement("option");
		option.value = "";
		option.innerHTML = "Select a country";
		picker2.appendChild(option);

		var list = Object.keys(wfloc[val1]);
		for(var i=0; i<list.length; i++)
		{
			var item = list[i];
			var option = document.createElement("option");
			option.value = item;
			option.innerHTML = item;
			picker2.appendChild(option);
		}
	}
	if(level == "2")
	{
		var val1 = picker1.value;
		var val2 = picker2.value;
		
		picker3.innerHTML = "";
		picker4.innerHTML = "";
		
		var option = document.createElement("option");
		option.value = "";
		option.innerHTML = "Select a district";
		picker3.appendChild(option);
		
		var list = Object.keys(wfloc[val1][val2]);
		
		for(var i=0; i<list.length; i++)
		{
			var item = list[i];
			var option = document.createElement("option");
			option.value = item;
			option.innerHTML = item;
			picker3.appendChild(option);
		}
	}
	if(level == "3")
	{
		var val1 = picker1.value;
		var val2 = picker2.value;
		var val3 = picker3.value;

		picker4.innerHTML = "";
		
		var list = wfloc[val1][val2][val3];
		
		for(var i=0; i<list.length; i++)
		{
			var item = list[i];
			var option = document.createElement("option");
			option.value = item;
			option.innerHTML = item;
			picker4.appendChild(option);
		}
	}
	
	
}
function setWindFarm()
{
	var picked = document.getElementById("windfarmPicker").value;
	
	if(picked == null || picked == "")
	{
		alertBox(language["alert"], "You must pick a windfarm", 300);
		return;
	}

	actualPickBox.value = "";
	actualPickBox.value = picked
	
	hide_pop_form();
	
}
function loadFieldsWF(area, country, district, windfarm)
{

	var picker1 = document.getElementById("areaPicker");
	var picker2 = document.getElementById("countryPicker");
	var picker3 = document.getElementById("districtPicker");
	var picker4 = document.getElementById("windfarmPicker");
	
	picker1.value = area;
	picker1.onchange();
	
	picker2.value = country;
	picker2.onchange();
	
	picker3.value = district;
	picker3.onchange();
	
	picker4.value = windfarm;
}


function platformPicker(box)
{
	actualPickBox = box;
	
	var areaPicker = document.getElementById("areaPicker");
	areaPicker.focus()
	formBox("platformPickerBox","Platform selection",400);
}
function pickedLevelPL(level)
{
	var picker1 = document.getElementById("tPlatformPicker");
	var picker2 = document.getElementById("tSeriePicker");
	var picker3 = document.getElementById("tModelPicker");
	
	if(level == "1")
	{
		var val1 = picker1.value;
		
		picker2.innerHTML = "";
		picker3.innerHTML = "";
		
		var option = document.createElement("option");
		option.value = "";
		option.innerHTML = "Select a serie";
		picker2.appendChild(option);

		var list = Object.keys(tmdl[val1]);
		for(var i=0; i<list.length; i++)
		{
			var item = list[i];
			var option = document.createElement("option");
			option.value = item;
			option.innerHTML = item;
			picker2.appendChild(option);
		}
	}
	if(level == "2")
	{
		var val1 = picker1.value;
		var val2 = picker2.value;
		
		picker3.innerHTML = "";
		
		var option = document.createElement("option");
		option.value = "";
		option.innerHTML = "Select a model";
		picker3.appendChild(option);
		
		var list = tmdl[val1][val2];
		
		for(var i=0; i<list.length; i++)
		{
			var item = list[i];
			var option = document.createElement("option");
			option.value = item;
			option.innerHTML = item;
			picker3.appendChild(option);
		}
	}

	
}
function setPlatform()
{
	var picked = document.getElementById("tModelPicker").value;
	
	if(picked == null || picked == "")
	{
		alertBox(language["alert"], "You must pick a platform model", 300);
		return;
	}

	actualPickBox.value = "";
	actualPickBox.value = picked
	
	hide_pop_form();
	
}
function loadFieldsPL(platform, serie, model)
{

	var picker1 = document.getElementById("tPlatformPicker");
	var picker2 = document.getElementById("tSeriePicker");
	var picker3 = document.getElementById("tModelPicker");
	
	picker1.value = platform;
	picker1.onchange();
	
	picker2.value = serie;
	picker2.onchange();
	
	picker3.value = model;

}



// SET AUTOFILL LOGICS FOR RESSUPPORT
function pickedLevelRS(level)
{
	var picker1 = document.getElementById("a-reqUPProvided");
	var picker2 = document.getElementById("a-reqUComponent");
	var picker3 = document.getElementById("a-reqUbrand");
	
	if(level == "1")
	{
		var val1 = picker1.value;
		
		picker2.innerHTML = "";
		picker3.innerHTML = "";
		
		var option = document.createElement("option");
		option.value = "";
		option.innerHTML = "Select a component";
		picker2.appendChild(option);

		var list = Object.keys(supp[val1]);
		for(var i=0; i<list.length; i++)
		{
			var item = list[i];
			var option = document.createElement("option");
			option.value = item;
			option.innerHTML = item;
			picker2.appendChild(option);
		}
	}
	if(level == "2")
	{
		var val1 = picker1.value;
		var val2 = picker2.value;
		
		picker3.innerHTML = "";
		
		var option = document.createElement("option");
		option.value = "";
		option.innerHTML = "Select a brand";
		picker3.appendChild(option);
		
		var list = supp[val1][val2];
		
		for(var i=0; i<list.length; i++)
		{
			var item = list[i];
			var option = document.createElement("option");
			option.value = item;
			option.innerHTML = item;
			picker3.appendChild(option);
		}
	}
}
function loadFieldsRS(speciality, component, brand)
{

	var picker1 = document.getElementById("a-reqUPProvided");
	var picker2 = document.getElementById("a-reqUComponent");
	var picker3 = document.getElementById("a-reqUbrand");
	
	picker1.value = speciality;
	picker1.onchange();
	
	picker2.value = component;
	picker2.onchange();
	
	picker3.value = brand;

}








